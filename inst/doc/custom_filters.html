<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Custom filters</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Custom filters</h1>



<p>While ggfx comes with a range of powerful and classic filters, one of
the most powerful one is <code>with_custom()</code> as it allows you to
implement your own filters while still taking advantage of the
infrastructure of ggfx. There are still complications that needs to be
understood, so this vignette will try to walk you through the process of
designing custom filters.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ggfx)</span></code></pre></div>
<div id="the-input" class="section level2">
<h2>The input</h2>
<p><code>with_custom()</code> takes a filter function which defines the
working of the filter. This function will get a
<code>nativeRaster</code> object encoding the rasterized layer to filter
on as the first argument along with any additional argument that has
been passed to <code>with_filter()</code>. The <code>nativeRaster</code>
object is a very efficient representation of raster image data, but
unfortunately very hard to work with as it has only been designed for
passing around, not for manipulation.</p>
<div id="nativeraster-objects" class="section level3">
<h3><code>nativeRaster</code> objects</h3>
<p>At its core, the <code>nativeRaster</code> class is a direct access
to how image data is stored and handled internally by the graphics
engine. It is an integer vector with each element encoding a pixel
colour. The colour is encoded by splitting the 32 bit in the integer
between 8 bit to each of red, green, blue, and alpha. The integer values
are more or less unintelligible and while you can convert a
<code>nativeRaster</code> object to a <code>raster</code> object, thus
getting the hex-string version of the colour, there is no way to convert
back again. This functionality has been added to the farver package
though:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>native_rep <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(<span class="st">&#39;#45fe2a&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>native_rep</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; [1] -13959611</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>farver<span class="sc">::</span><span class="fu">decode_native</span>(native_rep)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; [1] &quot;#45FE2A&quot;</span></span></code></pre></div>
<p><code>nativeRaster</code> objects are <strong>not</strong> matrices,
but do have dimensions giving the height and width in pixels. Unlike
matrices in R the cells are encoded in row-major order since that is the
convention for image data.</p>
<p>Since this format has never been meant for any use in R, except for
passing around, no-one ever bothered to implement indexing that honor
the row-major encoding, so the mere act of indexing into a native raster
will completely destroy the ordering of pixels. Because of this, ggfx
provides a slew of helpers for getting access to this data. For anything
but the most trivial filters, it makes sense to use the magick package.
<code>magick::image_read()</code> can get a <code>nativeRaster</code> so
if you go that route you don’t have to think about any of these
complications.</p>
</div>
<div id="filter-output" class="section level3">
<h3>Filter output</h3>
<p>The given filter function must return a <code>raster</code> or
<code>nativeRaster</code> object of the same dimensions as the input
raster object - failing to do so will lead to some very weird results.
If you are using magick in your filter, you can get a
<code>nativeRaster</code> object from it by calling
<code>as.raster(x, native = TRUE)</code></p>
</div>
<div id="drawing-area" class="section level3">
<h3>Drawing area</h3>
<p>The raster that you are provided will span the full device area, not
just the viewport currently being drawn to. This is because a viewport
might not be clipping and so content outside the viewport is still
visible and should be filtered. ggfx provides a variety of functions
that lets you figure out where the current viewport is located in the
given raster. These will be explained throughout the examples.</p>
</div>
</div>
<div id="our-first-filter" class="section level2">
<h2>Our first filter</h2>
<p>To show a very simple filter, we will create a very simply filter
that takes a user specified color and proportion and turns the given
proportion of pixels into that colour at random:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>speckle <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, proportion) {</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  raster_dim <span class="ot">&lt;-</span> <span class="fu">dim</span>(x)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  n_pixels <span class="ot">&lt;-</span> <span class="fu">prod</span>(raster_dim)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  n_speckles <span class="ot">&lt;-</span> n_pixels <span class="sc">*</span> proportion</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  x[<span class="fu">sample</span>(<span class="fu">length</span>(x), n_speckles)] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  x</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>}</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>    <span class="at">filter =</span> speckle,</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>    <span class="at">proportion =</span> <span class="fl">0.05</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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WnTxxRdXVlaWl5cnLUsOJ5g7d+61117bq1evpAXJ4QoffPBBeXn5jBkzZs+e/fTTT2/fvj1pibKHXIFlEpdddtkf/vCHLl26rF27NmlZcvCjoaHhS1/60hFHHJG0IDkcom/fvlOmTCkUCj179rziiivysUxAHgPLGGpra0eMGNG/f/9CoTBq1Kh333132LBhSQuVgxmrVq2qq6ubNWtWR0dHsVj817/+deONNyYtVA6HaG9vP+yww5KWInvI94FlDBs3bnz11Vevvfbajo6OadOmXX755VVVVUkLlcMVtm3btm7dussuuyxpQXLwY/Xq1Tt27Bg7dmxra+utt95666235ja3KXILLGMYNGjQm2++OW7cuPLy8lx7dXp07do1P4ajs+JrX/vaO++8c/nllx922GFXXXVVrr0IyC2wHDly5MiRSeSLuxw5cuTIkUnkCixHjhw5cmQSuQLLkSNHjhyZRK7AcuTIkSNHJpErsBw5cuTIkUnkCixHDjPgBA0EAAAFw0lEQVQ0NDQcd9xxv/jFL+Jh19bWdsEFF7jLFt62bdv999/viHiOHE6RK7AcOcwwderUG264gaDARowY8T//8z+mtWbOnHnzzTe7+/T2Mccc88orr+zatcsR/Rw53CFXYDlymKG5ufnYY48lVGxrazM1pJqamh544IHhw4cT2OFx++2350dV5cgicgWWI4cBLrjggqVLl44ePdq3wLZs2XLRRRf17t27f//+t9xyS2trq19s79693/nOd3r37l1VVXX33Xd3dHSMGDFi9erVp59++qOPPup5XmNj44QJEyorK6uqqubMmdPe3u55Xnt7e6FQ+NOf/nTyyScvXrzY87yFCxdOmjQpML927959ySWX9OrVa8yYMYsWLRoxYoR//cCBA5MnTz7iiCP69+9/3333+dQA8SKMTjrppGeffbapqSm2ZsyRgwfFHDlymOD8889/8cUX/d9HHnnkK6+80t7e3tLSMn78+NmzZxeLxdbW1v/4j/9YsGBBe3v7vn37zj333AULFhSLxVNPPXXlypV+gX79+v3+978/dOjQ/v37r7rqqvHjxxeLxUOHDnmed8UVV3z00Uc+/QsvvLCurs7/3dLS8tnPfvb5559vb2/fuXPnwIEDTzvttGKx2NHRMXjw4Pvvv7+1tXX//v0TJ0687rrrAPGkjIYPH15fXx9L++XIwYZcgeXIYYYLL7xwxYoVwZ9tbW07d+7csGHD+eef/+Mf/7hYLNbX1x933HFixdNOO+3Pf/5zsVh84YUXTj755OD6nj17PM/bv3+/r1d27NgR3Ordu/ebb77p/37ppZeGDx8e3Hr++ed9BfaXv/ylb9++/rn1xWLx/fff9zzv0KFDKvGKHyuwMKMbb7xxxowZFq2SI0cCyF2IOXIQUSwWb7311r59+37/+9+vr68/8sgj/etvv/321772NaDi22+/fcYZZwR/+l8l3bdvn/9n7969A/pNTU09evTw/3z33XdPOumkoNZ//ud/+j+2bdu2c+fO7t27FwqFQqHQt29fz/P279+vEi9AwMjzvMMPPzx3IebIHPLT6HPkIGLjxo01NTX//ve/S0tLPc+79957fVvqqKOOmj9/flDs1ltvPfrooydNmhRc6dev37PPPhv8uXPnzm7dulVUVETod+nSpWfPnvv37/f/rKio2Lp1a3A3+P25z33u2GOP3bJli//nW2+9dcYZZ5SXl2/YsEEqnhQfffRRoBFz5MgKcgssRw4iSkpK/LBTsVjcvHnztGnTWlpaPM8766yzXn/99VdffdXzvG3bts2cOfOiiy7yPK9bt27Nzc2e55199tmrV69+4YUXisViS0vLT37yk8mTJ5eUSFaTw4cPD740P3LkyOXLl/vf7d21a9dNN93kXx86dOj+/fufe+4532K75pprHnjgAUA8KRoaGk444QTe9smRwzkSdF/myJFFhGNg9913X2VlZb9+/e66666NGzf27t3bVyRbtmwZMWJEoVAYPnz4a6+95hd+4oknCoXCI488UiwWt23bduGFF5aVlX3xi1+cPn26H7LyQ1MffPBBwGvu3Lm/+MUvgj/Xr19/xhlnFAqFM88885FHHglCYnv27Ln22mt79uzZr1+/3/3ud0F5lXgRRh0dHT179tyzZ4+rJsuRww3y74HlyJFeNDU1DRgwYMeOHeJnLZctW7Z48eKamhp7LuvXr58yZcrTTz9tTypHjjiRuxBz5EgvevfufdNNN61atcrzvN27dxcKhX/84x+e5+3du/enP/3p5ZdfzsLljjvumDVrFgupHDniRK7AcuRINW666SY/wf3II49cunTppZdeWlJS8vWvf/3WW289++yz7en//e9/HzRoUL9+/exJ5cgRM3IXYo4cOXLkyCRyCyxHjhw5cmQSuQLLkSNHjhyZRK7AcuTIkSNHJpErsBw5cuTIkUnkCixHjhw5cmQSuQLLkSNHjhyZxP8HdbB4I/8Kqd0AAAAASUVORK5CYII=" /><!-- --></p>
<p>We, thankfully, see that it does exactly what we set out to do. For
this particularly simple example we also see that we don’t really have
to care about all the complications in the <code>nativeRaster</code>
object since we are simply modifying pixels at random and just index
into it as if it were a vector.</p>
</div>
<div id="taking-control-of-nativeraster" class="section level2">
<h2>Taking control of <code>nativeRaster</code></h2>
<p>To illustrate the complications of working with
<code>nativeRaster</code> object we’ll create a simple filter that fills
an area with a colour. In the first example we treat the raster as a
matrix:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>fill_patch_naive <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq</span>(x_range[<span class="dv">1</span>], x_range[<span class="dv">2</span>])</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq</span>(y_range[<span class="dv">1</span>], y_range[<span class="dv">2</span>])</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">dim</span>(x))</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  x[rows, cols] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  x</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>}</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch_naive,</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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U5s3b/Z4PEYHQQSdO3du8+bNly5dMjqIlCgwAICUKDAAgJTYByal1tbWpqamXr16mUwmo7MgUtra2txud8+ePc1m/tCMW16v1+VypaenW61cGyRkFBgAQEr8ZQcAkBIrrZJRVXXTpk3V1dWpqanTp0+fPHmy0YkQQbt373a5XDNmzDA6CCLi0UcfPXbsmD794osvpqenG5tHOhSYZA4dOmS1Wjdt2uT3+x9//PFRo0b16dPH6FCIiPr6+srKykmTJhkdBJGiKMprr71mdAqJsQlRMiNGjJgzZ47FYrFYLGazOTk52ehEiAi/379u3bpHHnnE6CCIlNbWVrfb/eCDD95///379u0zOo6UKDApbd26dfr06RkZGQ6Hw+gsiIj169eXlJRwDo44dvHiRYfDUVZWVlFRsX379q+//troRPKhwKQ0c+bMV1991WQyffDBB0ZnQfg5nc4bbrihd+/eRgdBBPXr1++JJ55QFCU1NfXee+9lWb4K7AOTzIYNGwoKCrKzsxVFmTBhwvHjx2+++WajQyHM9u3bV11dXV5erqqqpmlnz559+OGHjQ6FCPL7/T169DA6hXz4HphkDh8+vGfPnpKSElVVly9fPnv27NzcXKNDIVLq6uo+/PDDmTNnGh0E4bd///6TJ0/OmjXL6/UuWrRo0aJFrHOHijUwyQwbNuzo0aNz5sxxOBy0V9wzm82chiNe3XrrrV988cXs2bN79Ogxb9482usqsAYGAJASf9wBAKREgQEApESBAQCkRIEBAKREgQEApESBAaFxOp1DhgxZunRpdGbn8/mmTJkSuaOF6+rqnnnmmQg9OBBRFBgQmqeeeurBBx+8igIrKCj4z3/+E+pvrVq1auHChZG79HZOTs67777b0NAQoccHIocCA0LjdrsHDx58Fb/o8/lCXZFyuVyrV6/Oz8+/itlduT/+8Y+cqgoyosCAEEyZMqWqqmrSpEn6GtixY8cKCwvT0tKys7Mfe+wxr9er3+3ChQv33XdfWlpabm7usmXLVFUtKCjYv3//2LFj//73vwshGhsb77///oyMjNzc3DVr1vj9fiGE3+9XFOWdd9656aabtm3bJoTYsmXL/PnzA6tf586dmzFjht1unzZt2tatWwsKCvTxlpaWBQsW9O7dOzs7e+XKlfqjdRHvshkNHz58x44dLpcrak8jEB4agFBMnjz5zTff1Kf79Onz7rvv+v3+tra2oqKiiooKTdO8Xm///v1feeUVv9/f3Nz8s5/97JVXXtE0bfTo0Xv37tXvMHDgwJdffrm9vd3j8cybN6+oqEjTtPb2diHEvffe29TUpD/+1KlTq6ur9em2trZrr712165dfr+/vr4+Ly9vzJgxmqapqjpixIhnnnnG6/V6PJ7i4uJf//rXXcQLOqP8/Pzdu3dH5fkDwoYCA0IzderUt99+O3DT5/PV19d/8sknkydPfvTRRzVN271795AhQzr+4pgxY9577z1N02pqam666abA+Pnz54UQHo9H75WTJ08GfpSWlnb06FF9+q233srPzw/8aNeuXXqBffzxx/369dPPW69p2n//+18hRHt7e2fxtP9XYN+d0cMPP1xWVvY9nhXAAGxCBK6SpmmLFi3q16/fb3/72927d/fp00cf//zzz2+99dYufvHzzz8fN25c4KZ+VdLm5mb9ZlpaWuDxXS5XSkqKfvP48ePDhw8P/Nb111+vT9TV1dXX1yclJSmKoihKv379hBAej6ezeAGBGQkhrrnmGjYhQjqcjR64SocPH37hhRe++eYbm80mhPjb3/6mr0tlZmZWVlYG7rZo0aJBgwbNnz8/MDJw4MAdO3YEbtbX11sslvT09Mse32Qypaamejwe/WZ6evqJEycCPw1M9+3bd/DgwceOHdNvfvrpp+PGjXM4HJ988knQeEE1NTUFGhGQBWtgwFWyWq36bidN02pra5cvX97W1iaEuOOOOw4ePLhnzx4hRF1d3apVqwoLC4UQFovF7XYLIcaPH79///6amhpN09ra2hYvXrxgwQKrNchfk/n5+YErzd92221vvPGGft3ehoaG0tJSfXzUqFEej2fnzp36GtuvfvWr1atXdxEvKKfT+cMf/jC8zw8QcQZuvgRk9N19YCtXrszIyBg4cOCTTz55+PDhtLQ0vUiOHTtWUFCgKEp+fv6BAwf0O//jH/9QFOX555/XNK2urm7q1KnJyclZWVlPP/20vstK3zV18eLFwLzWr1+/dOnSwM1Dhw6NGzdOUZTbb7/9+eefD+wSO3/+fElJSWpq6sCBA1966aXA/TuLd9mMVFVNTU09f/58pJ4yIDK4HhgQu1wu19ChQ0+ePNnxspb//ve/t23b9sILL3z/uRw6dOiJJ57Yvn37938oIJrYhAjErrS0tNLS0n379gkhzp07pyjKqVOnhBAXLlx4/PHHZ8+eHZa5/OUvfykvLw/LQwHRRIEBMa20tFQ/wL1Pnz5VVVV333231Wr9yU9+smjRovHjx3//x//qq6+GDRs2cODA7/9QQJSxCREAICXWwAAAUqLAAABSosAAAFKiwAAAUqLAAABSosAAAFL6v4rYUm2RLfTYAAAAAElFTkSuQmCC" /><!-- --></p>
<pre><code>#&gt; 288 576</code></pre>
<p>Ugh! We obviously have an indexing problem. As we discussed above
this is because rasters in R are in row-major order, while their
indexing functions assume column-major order. The R documentation
propose that you convert the data to a regular matrix and then do your
manipulations, but you usually want to ensure a good performance with
filters as they are run at every draw operation, not just once. ggfx
provide some setter and getter functions for rasters though so we can
rewrite the above:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>fill_patch <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  patch <span class="ot">&lt;-</span> <span class="fu">get_raster_area</span>(</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="at">raster =</span> x, </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    <span class="at">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    <span class="at">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  )</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  patch[] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  <span class="fu">set_raster_area</span>(</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>    <span class="at">raster =</span> x,</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>    <span class="at">value =</span> patch,</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-14"><a href="#cb6-14" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb6-15"><a href="#cb6-15" tabindex="-1"></a>  )</span>
<span id="cb6-16"><a href="#cb6-16" tabindex="-1"></a>}</span>
<span id="cb6-17"><a href="#cb6-17" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb6-19"><a href="#cb6-19" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb6-20"><a href="#cb6-20" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb6-21"><a href="#cb6-21" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch,</span>
<span id="cb6-22"><a href="#cb6-22" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb6-23"><a href="#cb6-23" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb6-24"><a href="#cb6-24" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb6-25"><a href="#cb6-25" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<div id="detour-escaping-pixel-values" class="section level3">
<h3>Detour: Escaping pixel values</h3>
<p>In our filter above we are giving the x-, and y-range in pixels. In
the filters built into ggfx you can use either pixel values or a unit
object, which also makes sense to do here as the placement of the patch
would otherwise be dependent on the exact rendering size of the plot. To
make your filter work with unit specifications you simple convert the
input with <code>to_pixels()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>fill_patch <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  x_range <span class="ot">&lt;-</span> <span class="fu">to_pixels</span>(x_range, <span class="at">location =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  y_range <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">to_pixels</span>(y_range, <span class="at">y_axis =</span> <span class="cn">TRUE</span>, <span class="at">location =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  patch <span class="ot">&lt;-</span> <span class="fu">get_raster_area</span>(</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>    <span class="at">raster =</span> x, </span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>    <span class="at">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>    <span class="at">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>  )</span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>  patch[] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>  <span class="fu">set_raster_area</span>(</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>    <span class="at">raster =</span> x,</span>
<span id="cb7-14"><a href="#cb7-14" tabindex="-1"></a>    <span class="at">value =</span> patch,</span>
<span id="cb7-15"><a href="#cb7-15" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-16"><a href="#cb7-16" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb7-17"><a href="#cb7-17" tabindex="-1"></a>  )</span>
<span id="cb7-18"><a href="#cb7-18" tabindex="-1"></a>}</span>
<span id="cb7-19"><a href="#cb7-19" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb7-22"><a href="#cb7-22" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb7-23"><a href="#cb7-23" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch,</span>
<span id="cb7-24"><a href="#cb7-24" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb7-25"><a href="#cb7-25" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.7</span>), <span class="st">&#39;npc&#39;</span>),</span>
<span id="cb7-26"><a href="#cb7-26" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.6</span>), <span class="st">&#39;npc&#39;</span>)</span>
<span id="cb7-27"><a href="#cb7-27" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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xL/sAABS4qBVMn6/f/PmzVVVVcnJyTNmzJgyZYreiRBB1dXVTqdz5syZegdBRDz++OOnTp3Sll955ZWUlBR980iHApPMsWPHzGbz5s2bfT7fU089NWbMmAEDBugdChFRV1dXXl4+efJkvYMgUhRFefPNN/VOITFOIUpm1KhRc+fONZlMJpPJaDQmJibqnQgR4fP5Xnrppccee0zvIIiUtrY2l8v1yCOPPPzwwwcOHNA7jpQoMClt27ZtxowZqampNptN7yyIiLKyssLCQubgiGNNTU02m624uLi0tHTHjh3nzp3TO5F8KDApzZo164033jAYDEeOHNE7C8LP4XDccsst/fv31zsIImjQoEFPP/20oijJyckPPvgg7+XrwDUwyWzcuDEvLy8zM1NRlHvuuefMmTO333673qEQZgcOHKiqqiopKfH7/aqqXrp0adGiRXqHQgT5fL4+ffronUI+/B2YZI4fP75v377CwkK/3//ss8/OmTMnOztb71CIlNra2g8++GDWrFl6B0H4HTx48Pz587Nnz/Z4PEuXLl26dCnH3KHiCEwyI0aMOHny5Ny5c202G+0V94xGI9NwxKs77rjj9OnTc+bM6dOnz/z582mv68ARGABASvzjDgAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwIjcPhGDZs2PLly6OzOa/XO3Xq1Mh9W7i2tnbdunURenIgoigwIDQrV6585JFHrqPA8vLy/v3vf4f6W2vXrl2yZEnkbr2dlZW1d+/e+vr6CD0/EDkUGBAal8s1dOjQ6/hFr9cb6oGU0+l87rnncnNzr2Nz1+4Pf/gDU1VBRhQYEIKpU6dWVFRMnjxZOwI7depUfn6+3W7PzMx84oknPB6P9rCGhoaHHnrIbrdnZ2evWLHC7/fn5eUdPHhwwoQJf/vb34QQjY2NDz/8cGpqanZ29vPPP+/z+YQQPp9PUZT33nvvtttu2759uxBi69atCxcuDBx+Xb58eebMmVardfr06du2bcvLy9PGW1tbFy9e3L9//8zMzDVr1mjP1k28b2xo5MiRO3fudDqdUduNQHioAEIxZcqUt99+W1seMGDA3r17fT5fe3t7QUFBaWmpqqoej2fw4MGvv/66z+draWn5yU9+8vrrr6uqOm7cuP3792sPSEtLe+211zo6Otxu9/z58wsKClRV7ejoEEI8+OCDzc3N2vNPmzatqqpKW25vb7/hhht27drl8/nq6upycnLGjx+vqqrf7x81atS6des8Ho/b7V6wYMGvf/3rbuIF3VBubm51dXVU9h8QNhQYEJpp06a9++67gVWv11tXV/fxxx9PmTLl8ccfV1W1urp62LBhnX9x/Pjx77//vqqqe/bsue222wLjV65cEUK43W6tV86fPx/4kd1uP3nypLb8zjvv5ObmBn60a9curcA++uijQYMGafPWq6r6n//8RwjR0dHRVTz1/xXY1ze0aNGi4uLib7FXAB1wChG4TqqqLl26dNCgQb/97W+rq6sHDBigjX/22Wd33HFHN7/42WefTZw4MbCq3ZW0paVFW7Xb7YHndzqdSUlJ2uqZM2dGjhwZ+K2bb75ZW6itra2rq0tISFAURVGUQYMGCSHcbndX8QICGxJCfOc73+EUIqTDbPTAdTp+/PiGDRu++uori8UihPjrX/+qHUulp6eXl5cHHrZ06dIhQ4YsXLgwMJKWlrZz587Aal1dnclkSklJ+cbzGwyG5ORkt9utraakpJw9ezbw08DywIEDhw4deurUKW31k08+mThxos1m+/jjj4PGC6q5uTnQiIAsOAIDrpPZbNYuO6mqWlNT8+yzz7a3twsh7r777qNHj+7bt08IUVtbu3bt2vz8fCGEyWRyuVxCiEmTJh08eHDPnj2qqra3tz/55JOLFy82m4P8azI3Nzdwp/k777xz9+7d2n176+vri4qKtPExY8a43e7KykrtiO1Xv/rVc8891028oBwOx/e///3w7h8g4nQ8fQnI6OvXwNasWZOampqWlvbMM88cP37cbrdrRXLq1Km8vDxFUXJzcw8fPqw9+O9//7uiKC+//LKqqrW1tdOmTUtMTMzIyFi9erV2yUq7NNXU1BTYVllZ2fLlywOrx44dmzhxoqIod91118svvxy4JHblypXCwsLk5OS0tLRXX3018Piu4n1jQ36/Pzk5+cqVK5HaZUBkcD8wIHY5nc7hw4efP3++820t//Wvf23fvn3Dhg3ffivHjh17+umnd+zY8e2fCogmTiECsctutxcVFR04cEAIcfnyZUVRLly4IIRoaGh46qmn5syZE5at/PnPfy4pKQnLUwHRRIEBMa2oqEj7gvuAAQMqKiruv/9+s9n8ox/9aOnSpZMmTfr2z//FF1+MGDEiLS3t2z8VEGWcQgQASIkjMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJT+D/0vKVJbq7SbAAAAAElFTkSuQmCC" /><!-- --></p>
<p>We now have a filter function were you can use non-pixel units for
specifying the patch location. If you look at the changes you see that
we sort the <code>y_range</code> parameter after we convert it to pixels
- why is that? This is because grid uses a coordinate system that starts
at the bottom left corner and moves up and to the right, whereas matrix
indexing is based on the top-left corner moving down and to the right
instead. This means that our y_range becomes flipped when we convert it
to pixel locations and the lowest values is suddenly the highest.</p>
</div>
</div>
<div id="finding-the-viewport" class="section level2">
<h2>Finding the viewport</h2>
<p>While some filters don’t really care about what part of the given
raster is in the current viewport, others might do: Consider this simple
flip filter (were we also use <code>index_raster()</code> as a direct
replacement for <code>[,]</code> indexing):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>flip_image <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">horizontal =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  dims <span class="ot">&lt;-</span> <span class="fu">dim</span>(x)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(cols)</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>    rows <span class="ot">&lt;-</span> <span class="fu">rev</span>(rows)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>  }</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  <span class="fu">index_raster</span>(x, cols, rows)</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>}</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>    <span class="at">filter =</span> flip_image</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<p>We can see that the filter is indeed flipping the layer, but it is
flipping it around the center of the image, not the center of the panel.
In order to make the filter viewport aware we will use some of the
provide viewport helpers:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>flip_image <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">horizontal =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> <span class="fu">get_viewport_area</span>(x)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  dims <span class="ot">&lt;-</span> <span class="fu">dim</span>(vp)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>    cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(cols)</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>    rows <span class="ot">&lt;-</span> <span class="fu">rev</span>(rows)</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  }</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> <span class="fu">index_raster</span>(vp, cols, rows)</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="fu">set_viewport_area</span>(x, vp)</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>}</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>    <span class="at">filter =</span> flip_image</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="using-magick" class="section level2">
<h2>Using magick</h2>
<p>While some effects are pretty easy to achieve just be manipulating
the raster data structure, most filters will require non-trivial
modifications to the colours of the pixels. In these situations it is
often beneficial to use the magick package to build on top of the vast
library of image manipulation functions from the ImageMagick library. To
show of this we create a filter that distorts the content towards the
center (imploding it)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>implode <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">factor =</span> <span class="fl">0.5</span>) {</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_read</span>(<span class="fu">get_viewport_area</span>(x))</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_implode</span>(vp, factor)</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="fu">set_viewport_area</span>(x, <span class="fu">as.raster</span>(vp, <span class="at">native =</span> <span class="cn">TRUE</span>))</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>}</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>    <span class="at">filter =</span> implode</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>  )</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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3WAGN7/33mWXX253LSdD3F8UlhTJG3HrV3jDc6e+vv7LX/7yNddcs2LFijx8OcMwrrzyyjVr1gznPr0np7Gxcc2aNd///vdP9IUFGmDhcJhle7RkMAsOIZ6EmRWe9wOh11977fzPftbuWk6G2+2WZTkYDNpdSLkQNwAq4Te8pqbG3gLuv//+73znO9/5zndO9IUXXnjhfffdd+65557Qq37961/fdtttuUsvhNDkyZPXr19/zTXXjBgx4oReWC6HEDVNMzmCQ4gnoVZVTnOq4fY2mMoBMhmG0dfXZ3cV5SgUCk2dOvUkXmgYBj/BmdjBYPDhhx8+//zzT+LLnZCf/vSn3/ve9070VWUTYA6HgTgE2MmZVeEdI5F/vPmm3YWAQrF169b777//5ZdftruQYrVv376lS5d6vd4JEyb8+Mc/1nVd9L/55pvnnnuuy+VavHjx5s2bj37h5ZdfvmbNmksvvVQcPxxqP36//2tf+5rX650yZcp9993HGLvwwgs3bdq0ePHiP/zhDwihvr6+G264wefzTZky5be//a1lWQghy7IURXn77bfPOuusF198ESH03HPP3XzzzenhV1dX19VXX+12u5csWfL8889feOGFoj8Wi9166621tbUTJkx46KGHxN6OUd7RX2ju3Lkvv/zyiQ7cyyXAHJpmwizEk3WGxzVOkXa8/34JHxcCwxcKhVpaWhoaGsaPH293LcXq/PPP/8EPfhAIBPbv39/V1fXEE08ghHp7e6+44orXXnstHA7/13/912c/+9lIJHLEC1999dXLLrvsjTfeEAE26H4Mw5g5c+Zll10WCATq6+vfeeedF1544a233lq0aNH69etvvPFGwzBmzZr1uc99rqen5+OPP96xY8dNN90k9m8YxhNPPLFx48arr74aIbRmzZpzzjlHfErX9RkzZtx0003BYPCJJ574xS9+IeZ2cc7PP//88ePHt7W17d2795NPPkmPpQYtb9AvRAg555xztmzZckJvY9kEmNNpcq7DRMSTNafCO0Yi69autbsQYL/e3t7Ozs5wODxt2jS7aylWnZ2dixYt6u7u3rt3b1dXV0tLC0LIMIxYLLZ58+ZIJDJ58mRd110u19GvJYRQSo+xn/Xr11dUVHzlK18hhDidzr/97W9f+cpXEEIYY/HCt99+u66u7rrrrqOUOhyOBx544I9//GMs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" /><!-- --></p>
<p>We see that <code>image_read()</code> works nicely with
<code>nativeRaster</code> objects and that we can easily mix use of
magick with the raster helpers provided by ggfx.</p>
</div>
<div id="wrapping-up" class="section level2">
<h2>Wrapping up</h2>
<p>This vignette has shown you how to create your own filters. If you
end up creating filters that you feel are of general use and want to
share them then please reach out and we can discuss if they should be
part of ggfx proper.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
