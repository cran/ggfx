<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Custom filters</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Custom filters</h1>



<p>While ggfx comes with a range of powerful and classic filters, one of
the most powerful one is <code>with_custom()</code> as it allows you to
implement your own filters while still taking advantage of the
infrastructure of ggfx. There are still complications that needs to be
understood, so this vignette will try to walk you through the process of
designing custom filters.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfx)</span></code></pre></div>
<div id="the-input" class="section level2">
<h2>The input</h2>
<p><code>with_custom()</code> takes a filter function which defines the
working of the filter. This function will get a
<code>nativeRaster</code> object encoding the rasterized layer to filter
on as the first argument along with any additional argument that has
been passed to <code>with_filter()</code>. The <code>nativeRaster</code>
object is a very efficient representation of raster image data, but
unfortunately very hard to work with as it has only been designed for
passing around, not for manipulation.</p>
<div id="nativeraster-objects" class="section level3">
<h3><code>nativeRaster</code> objects</h3>
<p>At its core, the <code>nativeRaster</code> class is a direct access
to how image data is stored and handled internally by the graphics
engine. It is an integer vector with each element encoding a pixel
colour. The colour is encoded by splitting the 32 bit in the integer
between 8 bit to each of red, green, blue, and alpha. The integer values
are more or less unintelligible and while you can convert a
<code>nativeRaster</code> object to a <code>raster</code> object, thus
getting the hex-string version of the colour, there is no way to convert
back again. This functionality has been added to the farver package
though:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>native_rep <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(<span class="st">&#39;#45fe2a&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>native_rep</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -13959611</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>farver<span class="sc">::</span><span class="fu">decode_native</span>(native_rep)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;#45FE2A&quot;</span></span></code></pre></div>
<p><code>nativeRaster</code> objects are <strong>not</strong> matrices,
but do have dimensions giving the height and width in pixels. Unlike
matrices in R the cells are encoded in row-major order since that is the
convention for image data.</p>
<p>Since this format has never been meant for any use in R, except for
passing around, no-one ever bothered to implement indexing that honor
the row-major encoding, so the mere act of indexing into a native raster
will completely destroy the ordering of pixels. Because of this, ggfx
provides a slew of helpers for getting access to this data. For anything
but the most trivial filters, it makes sense to use the magick package.
<code>magick::image_read()</code> can get a <code>nativeRaster</code> so
if you go that route you don’t have to think about any of these
complications.</p>
</div>
<div id="filter-output" class="section level3">
<h3>Filter output</h3>
<p>The given filter function must return a <code>raster</code> or
<code>nativeRaster</code> object of the same dimensions as the input
raster object - failing to do so will lead to some very weird results.
If you are using magick in your filter, you can get a
<code>nativeRaster</code> object from it by calling
<code>as.raster(x, native = TRUE)</code></p>
</div>
<div id="drawing-area" class="section level3">
<h3>Drawing area</h3>
<p>The raster that you are provided will span the full device area, not
just the viewport currently being drawn to. This is because a viewport
might not be clipping and so content outside the viewport is still
visible and should be filtered. ggfx provides a variety of functions
that lets you figure out where the current viewport is located in the
given raster. These will be explained throughout the examples.</p>
</div>
</div>
<div id="our-first-filter" class="section level2">
<h2>Our first filter</h2>
<p>To show a very simple filter, we will create a very simply filter
that takes a user specified color and proportion and turns the given
proportion of pixels into that colour at random:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>speckle <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, proportion) {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  raster_dim <span class="ot">&lt;-</span> <span class="fu">dim</span>(x)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  n_pixels <span class="ot">&lt;-</span> <span class="fu">prod</span>(raster_dim)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  n_speckles <span class="ot">&lt;-</span> n_pixels <span class="sc">*</span> proportion</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  x[<span class="fu">sample</span>(<span class="fu">length</span>(x), n_speckles)] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> speckle,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion =</span> <span class="fl">0.05</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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7w7/7NGjR0R/165dXbt2Df988803jzvuuKjWv/3bv4U/tmzZ8sEHH3Tu3Lmqqqqqquqggw4KgmDPnj0m8SJEjIIgOOCAA3IXYo6SQ34afY4cRGzYsKG+vv7999+vrKwMguC2224LbamDDz74oYceiopdf/31hx566IQJE6IrvXv3/tOf/hT9+cEHH3Tq1Klnz54J+mVlZd26dduzZ0/4Z8+ePTdv3hzdjX5/5StfOeyww15//fXwz9dee+2UU06prq5+5ZVXtOJp8cknn0QaMUeOUkFugeXIQURFRUUYdioUCps2bZo2bVpzc3MQBKeffvpLL730wgsvBEGwZcuWGTNmnHfeeUEQdOrUqampKQiCM844Y/Xq1cuXLy8UCs3NzTfccMPkyZMrKjSryaFDh0Zfmj/11FOfeuqp8Lu927ZtmzRpUnh98ODBe/bsefLJJ0OL7fLLL585cyYgnhYNDQ3HHHOMbPvkyOEdRXRf5shRiojHwG6//faamprevXv/6le/2rBhQ48ePUJF8vrrrw8bNqyqqmro0KEvvvhiWPiBBx6oqqq66667CoXCli1bzj333C5duhxyyCHTp08PQ1ZhaOqjjz6KeM2fP/8Xv/hF9Of69etPOeWUqqqq00477a677opCYjt27Ljiiiu6devWu3fve++9NypvEi/BqL29vVu3bjt27PDVZDly+EH+PbAcObKLXbt2HX300Vu3blU/a/nEE08sXry4vr6ez2X9+vVTpkx59NFH+aRy5EgTuQsxR47sokePHpMmTVq1alUQBNu3b6+qqnrnnXeCINi5c+dPf/rT0aNHi3C56aabZs2aJUIqR440kSuwHDkyjUmTJoUJ7gceeODSpUsvvPDCioqKk08++frrrz/jjDP49N96663+/fv37t2bTypHjpSRuxBz5MiRI0dJIrfAcuTIkSNHSSJXYDly5MiRoySRK7AcOXLkyFGSyBVYjhw5cuQoSeQKLEeOHDlylCRyBZYjR44cOUoS/w9GUye7ETiOywAAAABJRU5ErkJggg==" /><!-- --></p>
<p>We, thankfully, see that it does exactly what we set out to do. For
this particularly simple example we also see that we don’t really have
to care about all the complications in the <code>nativeRaster</code>
object since we are simply modifying pixels at random and just index
into it as if it were a vector.</p>
</div>
<div id="taking-control-of-nativeraster" class="section level2">
<h2>Taking control of <code>nativeRaster</code></h2>
<p>To illustrate the complications of working with
<code>nativeRaster</code> object we’ll create a simple filter that fills
an area with a colour. In the first example we treat the raster as a
matrix:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fill_patch_naive <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq</span>(x_range[<span class="dv">1</span>], x_range[<span class="dv">2</span>])</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq</span>(y_range[<span class="dv">1</span>], y_range[<span class="dv">2</span>])</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">dim</span>(x))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  x[rows, cols] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch_naive,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<pre><code>#&gt; 288 576</code></pre>
<p>Ugh! We obviously have an indexing problem. As we discussed above
this is because rasters in R are in row-major order, while their
indexing functions assume column-major order. The R documentation
propose that you convert the data to a regular matrix and then do your
manipulations, but you usually want to ensure a good performance with
filters as they are run at every draw operation, not just once. ggfx
provide some setter and getter functions for rasters though so we can
rewrite the above:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>fill_patch <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  patch <span class="ot">&lt;-</span> <span class="fu">get_raster_area</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">raster =</span> x, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  patch[] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_raster_area</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">raster =</span> x,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> patch,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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Xv0JmZmZGzZsaG9v93q98+bNKy4u1jStvb1dCDFz5sympib99SdNmlRdXa1Pt7W1XX311du2bQsEAnV1dXl5eWPGjNE0TVXV4cOHP/XUUz6fz+v1zp8//1e/+lUX8ULOKD8/f+fOnTFZfkDEUGBAeCZNmvT2228HH/r9/rq6ug8//HDChAkPPvigpmk7d+4cPHhwxx8cM2bMu+++q2najh07brrppuD4hQsXhBBer1fvlVOnTgW/lZqaevz4cX16165d+fn5wW9t27ZNL7APPvigX79++nXrNU3773//K4Rob2/vLJ72/wX2zRndf//9ZWVl32GpAAZgFyJwhTRNW7x4cb9+/X7729/u3LkzIyNDH//kk09uvfXWLn7wk08+GTduXPChflfS5uZm/WFqamrw9d1ud3Jysv7ws88+GzZsWPCnvve97+kTtbW1dXV1drtdURRFUfr16yeE8Hq9ncULCs5ICNG7d292IUI6XI0euEJHjx5du3btV199ZbPZhBB//etf9W2prKysysrK4NMWL148YMCABQsWBEcyMzO3bNkSfFhXV2exWNLS0r71+iaTKSUlxev16g/T0tJOnjwZ/G5w+pprrhk0aNCJEyf0hx999NG4ceOcTueHH34YMl5ITU1NwUYEZMEWGHCFrFarfthJ07Samponnniira1NCHH77bcfPnx4z549Qoja2tpVq1YVFRUJISwWi8fjEUIUFhbu379/x44dmqa1tbUtWbJk4cKFVmuIvybz8/ODd5r/yU9+sn37dv2+vfX19aWlpfr4yJEjvV7v1q1b9S22X/7yl08//XQX8UJyuVw/+MEPIrt8gKgzcPclIKNvHgNbuXJlenp6ZmbmX/7yl6NHj6ampupFcuLEiYKCAkVR8vPzDx48qD/5lVdeURTlhRde0DSttrZ20qRJSUlJ2dnZTz75pH7ISj80dfHixeC81qxZs2zZsuDDI0eOjBs3TlGU22677YUXXggeErtw4UJJSUlKSkpmZubLL78cfH5n8b41I1VVU1JSLly4EK1FBkQH9wMD4pfb7R4yZMipU6c63tby3//+96ZNm9auXfvd53LkyJFHH3108+bN3/2lgFhiFyIQv1JTU0tLS/ft2yeEOH/+vKIop0+fFkI0NDQ88sgjM2bMiMhc/vznP5eXl0fkpYBYosCAuFZaWqqf4J6RkVFVVXXPPfdYrdYf/ehHixcvLiws/O6v/8UXXwwdOjQzM/O7vxQQY+xCBABIiS0wAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlP4PLo9SpF/Jh6sAAAAASUVORK5CYII=" /><!-- --></p>
<div id="detour-escaping-pixel-values" class="section level3">
<h3>Detour: Escaping pixel values</h3>
<p>In our filter above we are giving the x-, and y-range in pixels. In
the filters built into ggfx you can use either pixel values or a unit
object, which also makes sense to do here as the placement of the patch
would otherwise be dependent on the exact rendering size of the plot. To
make your filter work with unit specifications you simple convert the
input with <code>to_pixels()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fill_patch <span class="ot">&lt;-</span> <span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  x_range <span class="ot">&lt;-</span> <span class="fu">to_pixels</span>(x_range, <span class="at">location =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  y_range <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">to_pixels</span>(y_range, <span class="at">y_axis =</span> <span class="cn">TRUE</span>, <span class="at">location =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  patch <span class="ot">&lt;-</span> <span class="fu">get_raster_area</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">raster =</span> x, </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  patch[] <span class="ot">&lt;-</span> farver<span class="sc">::</span><span class="fu">encode_native</span>(colour)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_raster_area</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">raster =</span> x,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> patch,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(),</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> fill_patch,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x_range =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.7</span>), <span class="st">&#39;npc&#39;</span>),</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y_range =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.6</span>), <span class="st">&#39;npc&#39;</span>)</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We now have a filter function were you can use non-pixel units for
specifying the patch location. If you look at the changes you see that
we sort the <code>y_range</code> parameter after we convert it to pixels
- why is that? This is because grid uses a coordinate system that starts
at the bottom left corner and moves up and to the right, whereas matrix
indexing is based on the top-left corner moving down and to the right
instead. This means that our y_range becomes flipped when we convert it
to pixel locations and the lowest values is suddenly the highest.</p>
</div>
</div>
<div id="finding-the-viewport" class="section level2">
<h2>Finding the viewport</h2>
<p>While some filters don’t really care about what part of the given
raster is in the current viewport, others might do: Consider this simple
flip filter (were we also use <code>index_raster()</code> as a direct
replacement for <code>[,]</code> indexing):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>flip_image <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">horizontal =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dims <span class="ot">&lt;-</span> <span class="fu">dim</span>(x)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(cols)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    rows <span class="ot">&lt;-</span> <span class="fu">rev</span>(rows)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">index_raster</span>(x, cols, rows)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> flip_image</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We can see that the filter is indeed flipping the layer, but it is
flipping it around the center of the image, not the center of the panel.
In order to make the filter viewport aware we will use some of the
provide viewport helpers:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>flip_image <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">horizontal =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> <span class="fu">get_viewport_area</span>(x)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  dims <span class="ot">&lt;-</span> <span class="fu">dim</span>(vp)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  rows <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    cols <span class="ot">&lt;-</span> <span class="fu">rev</span>(cols)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    rows <span class="ot">&lt;-</span> <span class="fu">rev</span>(rows)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> <span class="fu">index_raster</span>(vp, cols, rows)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_viewport_area</span>(x, vp)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> flip_image</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAIAAADT5FumAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO3deVwTZx4/8GdmkkAgiaQo4oKgUHapqIvFo1XwJW3RelGUlnrsdsUVLdVaVl0tUrtYt1Vb5aeCtvWq1u7a2ur6E6sidb2wh5aiRPCoUo+KQOUQQoCEzPz+mDbrT8Klk0wm+bz/6GvmYY5vBuwnzxzPUBzHEQAAAKmhxS4AAADgQSDAAABAkhBgAAAgSQgwAACQJAQYAABIEgIMAAAkSSZ2AdbV1dU56/39bm5uhJCmpiaxC3EVCoWCpunGxkaxC3EVMplMLpc3NDSIXYitqFQqmsZXf4fgoAFmMplYlhW7CptQKpUcxxmNRrELcRUKhYJhGBxwu2EYRiaTOfEBd9bv1lKE7xEAACBJCDAAAJAkBBgAAEgSAgwAACQJAQYAAJKEAAMAAElCgAEAgCQhwAAAQJIQYAAAIEkIMAAQzJYtW9asWSN2FeAqHHQoKQCQop9//tmJB5ECR4MeGAAASBICDAAAJAkBBgAAkoQAAwAASUKAAQCAJCHAAABAkhBgAAAgSQgwAACQJAQYAABIkoOOxMEwDEVRYldhE/znYhhG7EJcBQ64PVG/wQEHO3DQAFMoFGKXYCs0TXMc5+7uLnYhroL/MoQDbh80TfPfGHDAwQ4cNMAaGhpYlhW7CpuQyWQcx9XX14tdiKtQqVRyuRwH3D7MZjPLss79F+7EX68lB9fAAABAkhBgAAAgSQgwAACQJAQYAABIEgIMAAAkCQEGAACShAADAABJQoABAIAkIcAAAECSEGAAACBJCDAAAJAkBBgAAEgSAgwAACQJAQYAAJKEAAMAAElCgAEAgCQhwAAAQJIQYAAAIEkIMAAAkCQEGAAASBICDAAAJEn4AMvNzd29ezc/rdPpZs6cOWPGjPz8fMsCVhsBAAA6RSbs5srKynbu3DlmzBhCSF1dXVZWVkZGBsMwCxcuDAoK0mq1VhuFrQEAAFyBkD0ws9m8cePG1157jZ/V6XRxcXEqlUqpVMbGxhYVFbXWCAAA0FlC9sC2bNmSnJxcW1vLz966dSs0NJSf7tGjx/nz51tr5P3000+3b9/mp//whz8oFAoBa3McFEVRFOWsn84B0TSNA243/NHGAQf7ECzAdDrdo48+2q1bN0uAsSxL07/28DiOYximtUbenj17du7cyU8fOnRIo9EIVZsDcu5P54BwwO1DJpOZTCbi1AfcbDaLXQL8SrAAy8vLy8nJyczMZFmW47jS0tKIiIjy8vKwsDBCSGlpaUBAACHE39+/ZSNv+vTpCQkJ/DRFUdXV1ULV5lDUajXHcXq9XuxCXIWHh4dMJrN8rwKbMplMLMsSQpz13y9x6myWHMECLDk5OTk5mRBSUlLy/fffJyQk1NTUpKWlRUZGsiybnZ29fPlyQkhYWFjLRp5Wq7Xc0FFVVeWsX3M4juM4zlk/nQPiOI7gW7O9cL/BAQc7EPguREIITdP8SUIvL6/ExMSkpCSZTJaSkqJWq1trBAAA6CzhA6xXr169evXipwcOHLh9+/b7FrDaCAAA0CkYiQMAACQJAQYAAJKEAAMAAElCgAEAgCQhwAAAQJKEvwsRAOzs4sWL165dE7sKQggpLy83m8179+6tr68XuxbSs2dPfswEcFYU/5ino6mqquKf53c+Xbp04TgOA0PYjUqlksvlTjwwBCFkxvTpP5eWil2Fw9FqtZbR6YTd7L1j4IGI0AMDkDyzyRTv7zsnpLfYhTiQj366+X+r8DXRySHAAJyBjKYVNCV2FQ6EwcFwAbiJAwAAJAkBBgAAkoQAAwAASUKAAQCAJCHAAABAkhBgAAAgSQgwAACQJAQYAABIEgIMAAAkCQEGAACShAADAABJQoABAIAkIcAAAECSHHQ0epVKJXYJNhEfH/+Xv/xl4sSJGo1G7FpchUwmoyjKuQ84RWHodSuc9feu0+leeOGFSZMmpaen22F3JpNpwoQJ2dnZtvszKykpyc7Ofu211zq7ooMGmF6vd8oXWt65c0ev1zc3N+OFlnbDv9DSuQ+4Y76WVnQ2enOsVqsVfJudsmLFijlz5syZM6ezK0ZHRy9fvvyJJ57o1Fpr1qxZuHChTb8kBQUFHT9+fNKkSd27d+/UijiFCAAgJXV1dSEhIQ+woslk6ux3ndra2nXr1kVFRT3A7jrljTfemDt3bmfXQoABANjb5cuX4+LiNBpNYGDg66+/bjQa+fYjR4488cQTnp6ekZGR3377bcsVx40bl52dPWbMGP78YWvbqaqqeumllzQaTXBw8PLly1mWjY6OPnXqVGRk5ObNmwkh1dXV06dP12q1wcHB69evN5vNhBCz2axQKI4dOzZgwIDdu3cTQj777LOZM2daul8VFRXx8fEqlSo2NnbXrl3R0dF8e0NDw4IFC7p16xYYGLh69Wp+a22U13JH4eHhe/fu7WyPGQEGAGBvUVFR8+bNq6mp+fHHHysqKjZt2kQIqaysfO655w4cOKDX6z/++OPhw4fX19fft+L+/fvHjh17+PBhPsCsbsdkMvXt23fs2LE1NTU6ne7EiROff/750aNHhw4devz48RkzZphMpn79+j399NN37tw5f/782bNnk5KS+O2bTKZNmzbl5eXFx8cTQrKzs4cMGcL/yGg0hoWFJSUl1dbWbtq06a233jKZTIQQjuOioqICAgJKS0svXrx46dIlS1/KanlWd0TT9JAhQ06fPt2pw4gAAwCwt/Ly8qFDh/7yyy8XL16sqKi4efMmIcRkMjU0NHz77bf19fVBQUFGo9HT07PlujRNMwzTxnaOHz/epUuXF198kaZpDw+PgwcPvvjii4QQiqL4FY8dO+bj4zN16lSGYZRK5cqVKz/66KOGhgZ+mytWrLDs9/jx4z179uSn8/LyHnvssWeffZam6e7du69atYpvLywsvHXr1quvviqXy5VK5TvvvLNhwwa+E2a1PIt7d0QIGTBggE6n69RhRIABANgVx3Gpqam+vr5/+9vfcnNzfXx8+HZfX9+zZ8/u3bu3V69eISEh69ata/tetta2c+nSpSeffLKNFS9dujRixAjLrFqtJoRYenuWWzf5u2CUSiU/e+XKlfDwcMtavXr14idKSkrKysrc3NwUCoVCofD19SWEGAyG1sqzuO8e0S5dunT2FKKD3oUIAOCsCgsLt27devv2bblcTgh57733KisrCSHZ2dm5ubkbN27cuHFjeXn5U0891b9//3uTpoPb8ff337lzp2Wx1NTU3r17z5w509Li5+e3d+9ey2xZWRnDMF5eXvdtn6IoDw8Pg8HAz3p5eV29etXyU8t09+7dQ0JCLl++zM9euHBhxIgRarX63LlzVstrjV6vt4RiB6EHBgBgVzKZzGg08n2UoqKilStXNjU1EUIiIyO3bdv2008/EULc3d1NJlPXrl0fYDvPPPNMfn7+iRMnCCElJSVr1qyJi4sjhDAMU1dXRwiJiYk5derU4cOHOY5rampavHjxggULZDIr/ZmoqKjr16/z00899dSh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" /><!-- --></p>
</div>
<div id="using-magick" class="section level2">
<h2>Using magick</h2>
<p>While some effects are pretty easy to achieve just be manipulating
the raster data structure, most filters will require non-trivial
modifications to the colours of the pixels. In these situations it is
often beneficial to use the magick package to build on top of the vast
library of image manipulation functions from the ImageMagick library. To
show of this we create a filter that distorts the content towards the
center (imploding it)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>implode <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">factor =</span> <span class="fl">0.5</span>) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_read</span>(<span class="fu">get_viewport_area</span>(x))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  vp <span class="ot">&lt;-</span> magick<span class="sc">::</span><span class="fu">image_implode</span>(vp, factor)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_viewport_area</span>(x, <span class="fu">as.raster</span>(vp, <span class="at">native =</span> <span class="cn">TRUE</span>))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(gear), <span class="at">y =</span> disp)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_custom</span>(</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">as.factor</span>(gear))),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter =</span> implode</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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zuwGfT6fhTCMQhyB6V53gxn44P33L77kErtrGQlxfVGv12t3IaVCXPoV3vDsqa+v/9rXvnbllVfeddddOXg5wzAuu+yyNWvWDOc6vSOzf//+NWvW/PCHPzzeJ+ZpgIVCIZbp3pLBLNiFOAIzyjwf+oOvv/rqonPPtbuWkXC73bIsBwIBuwspFeICQEX8hvt8PnsLuP/++2+88cYbb7zxeJ+4ePHi++677+yzzz6uZ/3mN7+59dZbs5deCKFJkya98847V155ZW1t7XE9sVR2IWqaZnIEuxBHoFpVTnaqodYWGMoB0hmG0dvba3cVpSgYDE6ZMmUETzQMgx/nSOxAIPDwww8vWrRoBC93XH7yk5/84Ac/ON5nlUyAORwG4hBgIzOzzDtGIv988027CwH5YtOmTffff/9LL71kdyGFas+ePUuXLvV6vRMmTPjxj3+s67pof/PNN88++2yXy7Vw4cIPPvjg6Cdecskla9asueiii8T+w8G209PT8x//8R9er3fy5Mn33XcfY2zx4sUbN25cuHDhH/7wB4RQb2/vtdde6/P5Jk+e/Oijj1qWhRCyLEtRlLfffvuMM8544YUXEEJ//etfb7jhhlT3q6Oj44orrnC73UuWLHnuuecWJ6fpiUajt9xyS3V19YQJEx588EGxtSHKO/qFZs+e/dJLLx1vx71UAsyhaSaMQhypUz2ucYq09cMPi3i/EBi+YDDY1NTU0NAwfvx4u2spVIsWLbrpppv8fv/evXs7OjqefPJJhFB3d/ell1766quvhkKh//7v/z733HPD4fART3zllVcuvvjiN954QwTYgNsxDGPGjBkXX3yx3++vr69/9913n3/++bfeemvBggXvvPPOddddZxjGzJkzv/SlL3V1dW3fvn3r1q3XX3+92L5hGE8++eSGDRuuuOIKhNCaNWvOOusscZeu69OnT7/++usDgcCTTz75s5/9TIzt4pwvWrRo/PjxLS0tu3fv/uyzz1J9qQHLG/CFCCFnnXXWRx99dFxvY8kEmNNpcq7DQMSROr3MO0Yi69autbsQYL/u7u729vZQKDR16lS7aylU7e3tCxYs6Ozs3L17d0dHR1NTE0LIMIxoNPrBBx+Ew+FJkybpuu5yuY5+LiGEUjrEdt55552ysrKvf/3rhBCn0/naa699/etfRwhhjMUT33777ZqamquvvppS6nA4HnjggT/96U/RaFRs8/7770+97jvvvDNu3DixvmHDhtNOO+1f//VfCSG1tbW//vWvRfu2bduam5u///3vy7LscDh+8YtfPPbYY6ITNmB5KekvhBA644wz6uvrj+ttLJkA0zSDIwiwETu93DtGouveeMPuQoD9urq6urq6pk6dOmbMGLtrKUic89tvv72uru4///M/161bV1NTI9rr6uq2bt360ksvnXTSSVOmTHn44YeHHss22HY+++yzL3zhC0M88bPPPjvvvPNSNz0eD0Io1dtLjSDlnAcCgdRFARsaGmbPnp161kknnSRW9u/f39bWpqqqoiiKotTV1SGEIpHIYOWlHDFUtays7Hj38eTpKMSMEz0wA8ZxjJRGycwy9/7uwDtvv/0vaT/6oNSYptnV1dXR0ZHaswSO17Zt25566qnW1lZZlhFCv/rVr7q7uxFCa9asWbdu3RNPPPHEE0+0t7d/8YtfnDVr1nmD/7oNtp2xY8c+++yzqYfdfvvtEydOvOGGG1ItY8aMST9+2dbWRiktLy8/YvsYY6fTGYlExM3y8vJ9+/al7k2t19bWTpkyZc+ePeLmrl27zjvvPI/H8+mnnw5Y3mBCoVAqFIepVHpgmqZpmmZyFofDYCM1u9w7ViJrX3vN7kKAnbq7u0WAwf7DEZMkSdd10UfZsWPHAw88EI/HEUILFy5cvXr1559/jsTkQYZRVVU1gu18+ctf3rx587vvvosQ2r9//29+85ulS5cihCilwWAQIXT++edv3LjxjTfe4JzH4/E77rjjlltuGfDStYsWLTp48KBY/+IXv/j6669v2rQJIdTe3r5ixQrRPm/evEgk8uqrr4oe23e/+92HH354iPIGU19fP2vWrON6J0sowBwOB/TATkSVqkx1OWLtrVu3bLG7FmCb7u7ujo4Ot9t96qmn2l1LoZo+ffqdd945ceLEcePGvfzyy2+99dZTTz312muv+Xy+l19++Wtf+5qqquedd94999wzY8YM8ZTLL7/8gQceGOZ2XC7Xtm3b7rrrLlVVv/Wtb7377rti9913vvOdf/u3f/vDH/7gdrt37tz5yCOPOJ3OU045Zfbs2ffee++ApS5btiw1sKKqqmrz5s233nqrqqpXX331bbfdRghBCMmyvG3btldeecXtdk+bNu26664Th9wGK2/AF+Kcv/fee8cbYPh4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ueiii+yuKLsyFmAHDhy45JJLPB6PLMsXXnjh7t276+vrly5d6na7HQ7HkiVLduzYgRAasBEghLq6ug4ePEgIgQNgACE0Z86cugpn3751dhdSkDARlwTTSm0g4uWXXx4Oh30+32mnnbZy5cqi35eTsV2IM2fOnDlzJkKIc7527drLL79869atU6dOFfeOGjVq+/btCKHm5uajG4UdO3bs379frC9YsEDTBjsbvbARQjjnR393ra2tCCFN06ZMmVKs37stKKUY44J7SxcsWLDxvQ8+2beu4rTL7K6l8GAiib2IlmWpqpq3//WNQHPP8czgHO3cPfQDKKW//OUvf/nLX55YXQUjw4M4mpqaVq1atWTJkilTpnzyySepY6ecczF4Jv2AaqpReP3115999tnUutvtzmxteeXo7661tVVRlClTpkycONGWkoqVGIdWcD9Obrd73twzD7S+FWp6zz3uOA6TAAFjiiWNc+50Ol0uVwa3bFlWRrZTW1u7a+c/Ix3Htxdq0qSTM/LqxSGTAfb88893dHTcddddTqcTITR27Nj29vbp06cjhFpaWkRndsBG4fvf//7y5cvFejQa7e7uzmBt+cPr9XLOg8HgEe27du0yDKOqqqpYv3G77Ny5s6enZ+HChXYXctxOPfXU6vXv79//JgTYCIgeWHd3d1dXVywWy+CWMzUy4s6frLzt1h8d3d7W1nbNNdfcfffd8+fPP/pemGEuXcaOge3fv9/v93/ve98T6YUQmj59+gsvvKDreiwWW7NmzbRp0wZrFBRFcSZhjIe+GmnhEt/sEY2NjY1tbW1iBilbqipiu3bt2rhxo91VjMTYsWMnjh9Nwp/r/oOZ+j0tIVhKP5c5gzJVICFEG4iqqgghRVEGvDc/TwmwS8Z6YPX19a+88sqrryamwPn3f//3K6644pprrrn++uslSVqxYoXH40EIlZeXH90IxPCNsrKyoj/omnuZ/aOTY6effvqOPY09n79dfcb/sbuWAoMJJZKaz8PoByMiCoJqODIWYJdeeumll156ROPcuXP//Oc/D6exxIlLqIwbNw72D2RcQQfYrFmz1v3jzYO7IcCOGyYUS1ohXpS5pqbmjjvumD17tt2FFACYicN+hmHAAPrjYlmWmGRB7Is2kswkxphlWZxzxtjevXvb2trefPNNQgjGmFJKCJGS5CRN0xRFESPW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" /><!-- --></p>
<p>We see that <code>image_read()</code> works nicely with
<code>nativeRaster</code> objects and that we can easily mix use of
magick with the raster helpers provided by ggfx.</p>
</div>
<div id="wrapping-up" class="section level2">
<h2>Wrapping up</h2>
<p>This vignette has shown you how to create your own filters. If you
end up creating filters that you feel are of general use and want to
share them then please reach out and we can discuss if they should be
part of ggfx proper.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
