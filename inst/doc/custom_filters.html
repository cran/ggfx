<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Custom filters</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Custom filters</h1>



<p>While ggfx comes with a range of powerful and classic filters, one of the most powerful one is <code>with_custom()</code> as it allows you to implement your own filters while still taking advantage of the infrastructure of ggfx. There are still complications that needs to be understood, so this vignette will try to walk you through the process of designing custom filters.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(ggfx)</span></code></pre></div>
<div id="the-input" class="section level2">
<h2>The input</h2>
<p><code>with_custom()</code> takes a filter function which defines the working of the filter. This function will get a <code>nativeRaster</code> object encoding the rasterized layer to filter on as the first argument along with any additional argument that has been passed to <code>with_filter()</code>. The <code>nativeRaster</code> object is a very efficient representation of raster image data, but unfortunately very hard to work with as it has only been designed for passing around, not for manipulation.</p>
<div id="nativeraster-objects" class="section level3">
<h3><code>nativeRaster</code> objects</h3>
<p>At its core, the <code>nativeRaster</code> class is a direct access to how image data is stored and handled internally by the graphics engine. It is an integer vector with each element encoding a pixel colour. The colour is encoded by splitting the 32 bit in the integer between 8 bit to each of red, green, blue, and alpha. The integer values are more or less unintelligible and while you can convert a <code>nativeRaster</code> object to a <code>raster</code> object, thus getting the hex-string version of the colour, there is no way to convert back again. This functionality has been added to the farver package though:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>native_rep &lt;-<span class="st"> </span>farver<span class="op">::</span><span class="kw">encode_native</span>(<span class="st">&#39;#45fe2a&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>native_rep</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; [1] -13959611</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>farver<span class="op">::</span><span class="kw">decode_native</span>(native_rep)</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; [1] &quot;#45FE2A&quot;</span></span></code></pre></div>
<p><code>nativeRaster</code> objects are <strong>not</strong> matrices, but do have dimensions giving the height and width in pixels. Unlike matrices in R the cells are encoded in row-major order since that is the convention for image data.</p>
<p>Since this format has never been meant for any use in R, except for passing around, no-one ever bothered to implement indexing that honor the row-major encoding, so the mere act of indexing into a native raster will completely destroy the ordering of pixels. Because of this, ggfx provides a slew of helpers for getting access to this data. For anything but the most trivial filters, it makes sense to use the magick package. <code>magick::image_read()</code> can get a <code>nativeRaster</code> so if you go that route you donâ€™t have to think about any of these complications.</p>
</div>
<div id="filter-output" class="section level3">
<h3>Filter output</h3>
<p>The given filter function must return a <code>raster</code> or <code>nativeRaster</code> object of the same dimensions as the input raster object - failing to do so will lead to some very weird results. If you are using magick in your filter, you can get a <code>nativeRaster</code> object from it by calling <code>as.raster(x, native = TRUE)</code></p>
</div>
<div id="drawing-area" class="section level3">
<h3>Drawing area</h3>
<p>The raster that you are provided will span the full device area, not just the viewport currently being drawn to. This is because a viewport might not be clipping and so content outside the viewport is still visible and should be filtered. ggfx provides a variety of functions that lets you figure out where the current viewport is located in the given raster. These will be explained throughout the examples.</p>
</div>
</div>
<div id="our-first-filter" class="section level2">
<h2>Our first filter</h2>
<p>To show a very simple filter, we will create a very simply filter that takes a user specified color and proportion and turns the given proportion of pixels into that colour at random:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2"></a>speckle &lt;-<span class="st"> </span><span class="cf">function</span>(x, colour, proportion) {</span>
<span id="cb3-3"><a href="#cb3-3"></a>  raster_dim &lt;-<span class="st"> </span><span class="kw">dim</span>(x)</span>
<span id="cb3-4"><a href="#cb3-4"></a>  n_pixels &lt;-<span class="st"> </span><span class="kw">prod</span>(raster_dim)</span>
<span id="cb3-5"><a href="#cb3-5"></a>  n_speckles &lt;-<span class="st"> </span>n_pixels <span class="op">*</span><span class="st"> </span>proportion</span>
<span id="cb3-6"><a href="#cb3-6"></a>  x[<span class="kw">sample</span>(<span class="kw">length</span>(x), n_speckles)] &lt;-<span class="st"> </span>farver<span class="op">::</span><span class="kw">encode_native</span>(colour)</span>
<span id="cb3-7"><a href="#cb3-7"></a>  x</span>
<span id="cb3-8"><a href="#cb3-8"></a>}</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="kw">geom_boxplot</span>(),</span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="dt">filter =</span> speckle,</span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="dt">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="dt">proportion =</span> <span class="fl">0.05</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAIAAADT5FumAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO19e5gWxZV3DwzDxRluGsMuiUQn+ql8GOXibKIY8ZJFvK9EQZ4vjxjAa4wbJyZqbgY1oKNRAU00TIaogCgaYUEQ0SiSZ1GQyIAmKsRLTBCFUQaQmWHm/f7otbftqjp16tSp6u5J//6Y553uqnNOV1XXqXOp6rJSqRQUKFCgQIECeUOXtAUoUKBAgQIFKCgUWIECBQoUyCUKBVagQIECBXKJQoEVKFCgQIFcolBgBQoUKFAglygUWIECBQoUyCXK0xZAjg8//LB2ZW3dyXXxi+IVFaQlExdV1LRc8GK4QMi9W7duPXv2bG5u7ny7IJDdlIowyFtcMOrl2pW1QRBoRWIU24hUuv2ohaV4NtXLy8t79eq1a9eujo4OsgAZAUsvq4gccMAB4sWybM6AH374Ia1iTUNNEARrLlpjKUBNQ82ai9aEfzElXdwF0KNHj8rKyu3bt9t3nygDWSp71gQxLKWVVnfUAqZkKyoqevfuvWPHjlSmNtfDwNsws4TrEdKtW7c+ffo0NTW1t7ebioEBoWJUJcU+ElnnT4FlZ4jj9ZkfiAqMS3P7R3ZaVQqjhmV8lpqGmvVT1rMrMPbWznj3+Ue8QRKaQNpWSAVGZq0tmRdIFVimY2DxzsCURxYjVA8lCYcgFzteOmsuWgOPVyNhgPJcTx1BKnaCS01DjYovuzwJmnDDJsA4KTAqQhdkbWSgVaGNSdrwsBlU8RaOfkcTiFNhpKy1JbMPoAUyrcAiSE14oBht/Jl6C6XsjF48e2CIG622gDfNm5EnPhSgRTBqG98pLp6RPACOue8Ye+6Y9QEMoBkD3EtHaE+xCjAJAPQTi04A8cfk0jRca1OyADkCMIsCLZBpF6IRIiM98LW+UA10F+Z5gmbChejIPw7cdeGJCj6dbvK1PAychessY2A+xycNvG+rUz+/KVl8eUYXYsQ60C3sUhwARt0UL5YzF6J2NSHV0kYOH0v4HAR4h4DRKkxLVrX6ZvemRh1nbzHgweWaRra/51kDabPSfLMs1ob0bTV1d8epRX/tB4yN6zVdDaFtVeldXjcsQBD2piYmHG0zZtcCow2CjKy/XCOywI797bHifORf1Ky1Dxn4MDieDhl4C0zKzk+nsJgm2TcWMaA1BbsFRpYn48iZBQb41v0vchnJarMkjCC2ks8hCzNFxueYZcJxEZNEwh/aMDjSMZAFY0u7yHXHGi4vLs9pxiItkpcWpJFdR5Tj9LWeEtj8orH2huwqsAiYcG4cRrYwcpJVdTymbuJfLjd9dV11giyyoo1DwMivgplALfNukNAOIaRXTUpKW8BmgnABlnkTo8iBiZWmXMVewzcsvouNALvmAAG8Qbsmi7qDcZSS/cCmyK4LEV+Y11JOUMMvqLViEORUVWHcyJwinEbdXcC1qAn6pi5EDy3pza1q80RirdRHGuCaVrkQXcwn5FqOCBrVzZkLMQRGPyObAKnqxVUekj5hbS4FZk33xz/+ceLEiW1tbRiCUsqWCx8WnwPvsgN+OpbVpR/bhUAHDowzsrOxY7TihZ0YZ0Qz0FUGNyAA+4ABfBUpzif4WnjYEDTqESk6gwUWRzYD11xMg0+7/Nlnn50+ffqiRYsqKip4A+A5soc6E0S7P7QYNtduTlhg0pIYmpgqKQIpVTaFtwGQxKFKeAm49x5I//XZ1FpetStrGy5oEK9n3QIzhZ8WT+UVUtmCtAB4AqrUEuQ6CJnaYApVLZW0ToFpQHJ5aSeun7JevAhH7zC3/NuR9n6UiEIn014E4H1CEYD3RTqcjHSk0ciH800AqM4IzpkCQzaWtxCiKRdaAgWLDMgIcyIw7tndgaxF9i/ZTLtwyoAYBofFy2bAHw+jLAz7x8lOg2CmID/vrDvAOR3atZfposqmuXKmwJDZMviOxxBM3IXXF1JdFVcPGKnIgSKyphQDDzavJaYk49IBtjXhxtTqJPgKpoCYE9SJ4SEOlyISHrbwB2Gc0FiTy9BCpKoVm88oWiRA+LUgETlTYCHgiChhlMMzoJHTxlRXiexodRNWP7D8Rw5Km9cSUxIT0keyC9RaSutb530bGZdW7mRIkYWlbEg3o5Hfm5weQltZkmH0TnFloPiMgcFXOokLEQBjoxu5R7QiOZ3UEhqrRtiwxbI8ZPR84kkZyeki3kMI7FlOavEr5DnI3aRj/4rRKiLDBKZrR60juoZvA59nZ6DWUwe/nozSIg1H1TSllaTzKDAPZjvBBhdrsUS/f/j2D42YWoJADa9RYA8tuz0BqA3T7iY3cjgzwmsLm2HjCEgHvghL57O0KeCQJEDcKI8AafPBF7PQd8FnVTXSPWj/LNoGtGyczqPAXMDFJGJqWEiZThs0LXEFXjrRJHf64iWW85are/ybIPYpsHInxBS1pmfIkbYYIoBlwWQpiY3z2d7SSlREqmGt8zn4rEoQLwJXjMA4COPyYCJP4vzDOyWGLwJm1lLFwDrbPjB3UA1ozEBnR3wfGLIKi5w+H5bGi1DLtIq7CEFCkugkjhH1I7QrWZ+DkN3RlDX4bE/ew3z9T0dSji7EyOVJHDC8GRZAf+TlNZYunUxTm8hOJAzxBEReHuwDzGoXXjZKIbY2MpUGvo4vAAtjCoIFyQKu3AQtUnypnea5EEAL4XMZnVpk1AJramqK/zt89vC1316bljB4EOQ0rRKWX7ly5bRp05YsWYK3wLjkCQsw9oiUVHQRyYjWjEZyMhJHcu/WrVtlZeXHH39M+6BlBuHhBeGFC+4JmuXl5VVVVdV11UhGw2cPD4IAeGVMBaAhQcT0hTVFqVTq37+/eD2jCmzPnj1lZWU+Of7fWf934xUb7cs4FSDCk08+ecstt6xYsaJHjx7sxMlVMNSQZE3LI6m5Q4IFUn74bteuXSsqKvbu3Rt/SdmfxUPjhFyCICA3RVoApOISuEuXLt27d29paUksU7T07Qt4gEoG6XXgYnt7e2VlpUgnowoslRiYC7+tTUgGqEuIgSGZZh/Zj8NxAX8avT0ST+ozYkrmFa+IIWLzUEZ1jWKE7j5o6RTSAUMIJ2vnugidKgZm78cXYTpAMWUIQSPTJCttXjjMPfGyZSTlFwB7HC4OVc5V1pqFXZ7EYGNJejTaj2UJTL67DSPT5GFTXqFjMAF8/qG78YncdQBoL22cW6SGR14VGPtuJ/wQQa4yxD09jBtogH1ggTAsYGnXkA4/xAjpFOyqBZ7jgF1H6T6+DVwk49DyOWny4KdLm+bC79CwaU9p3Ag/v7vzE+B35iRmOfyQsFHPuXEhppUeauqm8AN2FyKA7Dy1a2TtSVlciN6ynLkQvXdBbE6kOaYIfE1r2ZOycSGKjFy4grVMaWVMKeTbhejfmSOaL9KJQPqvn9X6yLkjGampwOtZtadD5kJLCLYna0oN8AkTYJ/l7C55HbCW1uiOFcU4powAGNkEUphiUnb4qUN6JTFPulimmHYHElLvvZZsbhRYBA8rR6TrWVwjJFaOIhFe4VdduMqSAj6Yh7lImALi5ZE+B3IbatcfXGRpiEaOSNBn0kriX+RyG7gFVMe7p/B1CYgPPD+x1YhdEARD7x+KoSAdFUDkUrviV73XmPIq/yEgLUAc0LXaXs6fAkvAxYBDup6RLa5SZjaAY2B4mAbztBUxsfT4v7CBS4ORxmXhiAQsGMbH4Nr9kFj2GmVhMLaw535RxQjgjjDqC4Dsy5NfVpVkAf5VrUEccsbuDACux5Hjo6RY3LiuQ1mWNE2r+4yBieD1TqQSj8l+ECjwm0aPkUf6r/SKKfEsd4dr5DSN3huisZHXGBjSGYohIv7mgqWZRYvwxWNgSLenWJ6AcJnmOWAQhz1rd8tMe1KAbN4CwHFovUM2AttrLz+R13ThUzajyJxNSSTgsZEDBRYilWkOQ6RG2GtlEzMwesx4DAzp9iQwUkkrLsPJ1Ex7yvVqnZE+r6i0NncNy/FsuRjiyilgWSg7gs2UooU0e0IqACE2qUpz40KmFRij1UWmph06YrKi1j/uKI3HBamAWyMCcXuC2HBgmQxTczYtmi7mNW3ikpEYyA6KeyDEYoxWLMYiNOWFh6MlNWDCWqbDYHSbEXFgsWJ6PUSmFVim3OKipaUCHAhFGjQ2cKQgVZMRi0NPGz1WVZT+BmD0SmNoIh/f1ERmgREvTGjTVHjTDpIOA9PMIJg+/kWGQVC0LF0fPgLS5UOLTcBZPI7cidIojNa9nGkFFod9q3GNHrIAjGIQYJ8MqZqMMC4gdlOADGnylT1BDBFv7ilHzgZT+tJVjusYCcFlgoEotvhCuXBCqkxekTvswzB6Xq5FDOCNTEBl6ml5ZVSBjZ4/Ov6vUZjXkYbwKYDr6J2R60n1YhiF/Qjzhel0QG40TGsgkxHwjJwqM9cjkOAuTkxJRq5Cclsx5nfg53SCX7e6rlosgzGI4xylWs0UBAcyS0myCzSjCmzZuGXxfxm9Qyyw90K4ttJMZYO1HX4lZSNJfFIjONwwIU+yIwU/jyBBcDLjC7CDXaR4k2odVvHFAdkrBQMgC2svWnwuUWtz7WaxjAdXDWxWigXwCpJrua+lk4N9YFIY2WRaMFLDk7Jhar8PjLcBUwS5wV23gEi/xnAzIn4fGH61njo89wI74IwJwrOw7APjakbt08Gj2inytA9s9PzR5DWRqgpwBW/1M8ZpMRaDO2htdhcuiBQh+iRdv3Xwe87OnWv+simPGTz4kJWNn0MlmD0wGRMAvEV22emoYofuHOMYahlVYAkXYgIEh6lRahNgWWNqAQEkriirVgbkdUAMI3kIWoFrrEvXAbQeNJXNkTuLAExgXAvCulDURpYhDZE4JriIEcyourt1WCqOQUJJWgsw+rES7gpVyYwqsID0TnLNTbRukE6RCV+2TQfbSA6vkuxfV9OEi8BwAWFK1vJFQo69fPm+YHA5gly0iR/1Y+SS8QByEBcWHvmYtLnUfiaJFkDIaTO7CkwKo5Wd9CJtQZcFYJ6dNr49+B/iYHTD2oCQd5AKX5gIMPItk0pcvCZIh6HpkMZzsazlc+pgzJzSKi1Le4vRLS8uhWHZcqbApFAtHoGkJgILimRukOhdp5EVWAxgCUZzluLXdPZBDkcmoA0SfI+57xhVSdgj6tqWIisY7agQDWhgxemtm7zFTblg6kFdI8vzJMQduIDPdcqNAsO0Jmag07zz9j1EdkyL/0pfbz8vc435EQAAKUwtjFMUww4J180Iv5CJW+unrDeiDN+yeYMSIK+ZMFENAjUaUpygUwHSTUWLgjuCVgZ+BbZixYqFCxeGvxsbG6dMmTJp0qR169ZFBaQXtQAUj7bFMT3B61pExkswk3hCMNUUTzYr4adOLMfW6L6TizdrGF0Z5I5TdZM0McSUI7JhuSANQ8Z9ici3gFcqFkaOYmCOPDFGGUBR4eGzhyPpSF9bjEMCfmE9qyuu8c+8D2zr1q3XX3/9mDFjxo4d29zcXFtbe/vtt3ft2vXaa6/9+c9/3q9fP+lFkY52H5gHEAIJUiIuRka63wNzAaCh8G3I0toskrCwVu0Dcy0GO2piexgI2iiRgsTSOyn2coLXy5NfZv8eGMvcxQ7LhnW+D6y9vf2+++777ne/G/7b2Nh4zjnnVFZW9uzZ86yzztq0aZPqIhmmatyo/BrSmbwiETxHF5BGqhIFCDQtJJKDZTahtXZiSat18TEafFL6WtgkXKQS3rNZ5tv4ihOxOmQug+t4AdIJb0rflCxXZDFdTyynBXbfffede+65O3fuXL9+/dixYx955JHDDz98yJAhQRBs3Lhx48aN48aNk14Mq//1r3/9xz/+Ef4+9NBDu3fvTpDhmPuOMYoc5BRPPfXUtGnTmsY1IR82SgdgaRxtI4cFnPZFnLiUESN3U1JcrLt169azZ8/m5mb243LwEto8S8ZfRi7xLEd7eXl5r169du3aFdnZKlJGLLLQ+IwCd3R09O3bV3KjxIQNGzasXLmyVCq9+eabjzzySKlUmj9//saNG6O7CxYsUF0MUVdXN+xTfPDBB1yCHXLbIVykTFkcctshiVvSkgQJn3jiiWHDhn3yySeW4pnyhSnE//XQ7AVKYBe4oO8ULLwIRLjeSsuKXJThYrzihdQ8DJKWlhbpdTYL7N57712+fHlZWVlHR0epVDrllFOGDRvW0tJy0kknBUGwfPnyvn371tTUrF69WrwYUmhqatq1a1f4u2fPnjUNNWu/vZZFNi4Mnz3cVCRCFQxWrlw5bdq0JUuWJGJgGHaORPLGy4imtHB40VQ2n+0Wolu3bpWVlR9//LH2LMQ4EnJqxY4KmA4ebw3op+X992+I8vLyqqqqnTt3ssTAgAFvTzwtDJ89/KWLX+rfv794i/8w3y1btqxdu/b888//6KOPbrjhhl/+8pcdHR21tbW/+MUvqqqqpBdFIikmcSCDLqq4tJ84v2USB0ZIfDxARY2rKbR0yIzscwrIwNDBH+bLxdG+ilPUxM6TRY5hMaGU94nsCXbr1m3o/UPXfnstYxKHCqbSpj4AIgFqV9Y2XNAgFuBXYG+99dbatWvHjh0bBMHatWtnzJhRXl5+9dVXh3Ev1cUE7BUYnPjE2zH+c35SzEI0VfBGtdjF8ANgANjIyavAfCL+1Cp9Y5OaaC8VSy3VIDd6NJbT6P0g3ZfO02n0X/rSl0LtFQTB8OHD58yZM3v27Liikl5kRGI2Md2uhCEuUrPMT7MEL9/E3q8EaJlyRvnNePoeGhzDQpu4aMTFMqWQN+mU1sLxp1btQou/oX5eHNpbb9O5XNM94/4zG7jTXtrNbbUra6UVs3sSB/k1TqyJOGXSwX7TmPaKEV/VtAiTtUl6xsyeSO4YENQD5rqUBUFs1xnGhMWZdo92KsAsRxyJihmTifKqwo7md+0yheAB4mpM09ZTAR7JNQ01dSfXSSvm9YOWETzvOsyI28qPCxH/vNlpGf+wfHagOuxCzHibi7OqNnbl4olcu/dtokrh77RciCyha/YpQlXMXwyMBYQYmM/ZlsuZTpbEkQLL4JzoaFLL2mNK4ScG5joHp7OCK8qLVGAYTUzQplqaGCJ+Jt48fZHZFEZNY+8Z4/LaY1x/wK2Rc0fChY0oBx6jERhhQjB6ZaPfhMekxai0pGzKcEHVwjbORjiMiiGLqRj35hHCgTS+EchRXlNEagYZcjN6BEvnQWDy4Da8VDGwzmOBOQL7OpRlwRu3wIxSnsiw9AC44MXIMU4nXcsjzj2ywEbUj8iRL9fGq+aHY6ZQ01CzuXazygKzd1HmunHikFpg/+wKrFQqrV69OtpAjcdPt/70xgE3hn+jf+3lAejEb/35z39etmzZlVdeWV5ezkWfDCOahx56aHV1deKi5ykMLqx67b1NBBEjsgvR26orX/DzFNKVEGCsZC2N3qfaA1bzgdBcnUSBYWYf+Hrid7/5kuPwE2ga14QphgQjNS0pn7zEYmKVww477O6772aRBwN7B73rN1lKP7zofx+YzeSFqcXYmKYhKJ8uBCNgFJhqkAQWxwGbVvTvXEkgfwrMwyr43XffnTx58l133TVixIjwyhF3H/HaVa+JJVXXPSMhRupSwQKEd4+4+4jw3/+36/+99tpra0esJeShuZv77Hk58nliFBhXKgEXyOsAn1ajykjCSMhuoEgVGE052Uhl+UQe/Mb5U2B4kFv/3XffHbty7LwT5h177LFBEFTXVW+u3YyvblreFCF9di4sBCMieCGr66qHvzR81qxZ4i0X81fAFFr3lmeVAKMF5jo+GnhvajJBMgtHvjV3LkR3nQ64Ddyx6MxZiDYNF/dxmU7rjrRXdV11ENMQ7FxYCEZEVNorfIo4LvrkIhU10wQqLSwzrBKkVLcSAieMIWQt+N/EFVoTcWkX6e+wqVn6jl1OkSCZRVgR4yYNSN1Uo/t0H55O+MPdkkVKmZcdklr+FBjjHBeHONtykSVQdqS3yNA+QiRqvCRBfoLPxJQFL01AYHHhr7qVUN7wnKt1c2kkphY2EsMFdzw8O1GlixiCDNIlF6GVXD++VCRgEWb6CEblM6rARs8fLb2uzeAgc0zMtvGJ2Ea3ba7dLJ3cTSk70q9I4FWRtCQsvE2vIZfDvDRNgXnhbfjCBgcA3tYzlb8TpDWGcPogiTxGGJHxh+84rhdEuiaLfrtbrGRUgS0btyz6jX8/VesXQvPFJ+LQRRa59eCKQAFxcsdP91zWmKkiZFGcsPAulBCeOCNUckqX5IyCuYgduqBsyl27iod9rfDF3AFjnEVl8B3np4tdpDiFyKgCiwOZ/Br/nfDGAM4cJCJDSqtIorwGUxYJCqZAcsQTDwkC5iOXSCGiTkGaJjazkmkICgnGlabTFTSMuD/T/9QftqGYFWKTMiD2i2ijkJ9UOm5t1C3MJf5b9fgZMW39BGtzoMAwSIx101YY//z46Ddm2lU5GKPfodGGqcIFQDOp2MFiJAgS1KpRFdPFIzJdQltX+68NZV460sc0WtuaCmATkrRZB0hXnAmtg88jEFUdEGUk2HAJdavSrFKmyFbijT5KYb9YARKaCKyBFW0c+VBgyMZF5n2Jg3XeCfOiu/C0i5/0AQWgYoEJkhkpv7gVJbpA000Sob0wwCROy/siyBCv7shGsdRVUqiqM1p7jubZSJvSaBqFkUzz60SpTMOQQ+8fii+vgr3FbN9fgKMLFsw0MBRH1hWY6EwAYJoSBpMFYlFxAyuuBmBbB5/LZ3QFSRC/n0wqJ8aCNEq5pJlQwCxMy/syrSKmjweGEwdmjR8JZmmsk6dsggbFmCkEMC4R4p1lOV9zPWxNQ83Lk1/mYu0n/wgJzGrG/lmyrsACk/Qb/F1M68BzvdSswVRJwGd6IdLNKC2GsSDjKZdGsM+elyoS+5EjQqp37XP/VKvXsD1prjmaUgeEFOkHukagNZGpJAAYsz3jNG2MBrikkZmbuMjuhHAdTrNP4Mq6AkP6DYzGk2k3axMLkZkdpre03I0Q0ZHaSfa5JyIjANougD3gqteV4MzRjg3GBS9+mQUnJSPZ2RhM+Frw1Jl6QoELAZxab+IKyd4/Achgr0KcQite1hVYFmBqVcRVReKHB+5aOoCdZJNzKBIBoB2X8ZwOlf1hn1yKgf0bHk1Dlst2Xi+c0Swsne8IatX1bJjibAssuZDZDarFgQcdbLNKS1fD5VWBicMF7y/iGhD4mJa7dAkXHkibkxLxOpu2roTDnPbvkotAmmWkTUqHkFJoI0O8bRknLBUpmwxGSwpkGeJLLvEWORjpB7D7F06Og5/OPk8KLpBdBYZM8cI76wOLKSCQzciAHYPUK6mcr0HIJcEjfryvqgzvMiIOLlXh4q0zjZOlFZxAxrRokLpGMWEqm1AlDNU0zdvCaVmoRi7xBACVHJGCbURkFNbG/svoafQtLS1lZWWEisDXPcKPeiTuvv322+PHj7/nnnvC0+j9wPUZ9pnF1KlTX3311Tlz5qQtiBLS8RN9FAb+co10gNmgS5cu5eXlbW1t4kvq+jM68Hvk7Qs+lrwwXYbpWXbB4ti0adMNN9wwY8aML37xiywE/QPZGuTWDoJg3759vXr1Eq9nVIGJn1OxSakCEH4PLFJgieMnMou4CrRUh36+IBPWmjp16saNG6WfU0HCZhjYWH4JvioxaOKpaomfU+Gln3E6UTHT8n5gKp4KmzZtuuaaa37zm9984QtfUDEKcLEooAxwV3wQzy2JRL4/p2I5bSFBTgTHw9JtKJ7wZCkw4Qsy5PP17aEKPmO88GtI27YC2fuscvG51i60t4BrMkqocNfRe9GFBW+TcD3nqtiRU9jjOO/p81S3kOMWdjvDwWPVDxp8pnVkXYHRdsDwgqxyXBzLC5/w5O6jMPEfLnQ8b3AlTlYaVGchHnCE0ADix9x3DJ6OKewbnDzNkUNchG0SMDzkwiCZLjxlIUaAFLdtucjmt0fWFdgaxeGeKmACwqYgz9f2uXymJWm7ygjplOyakmxbGL3SjGsgMXxtNFBhhKTWT1lvSQcALY3eETAqzYUMjFMtPt08UfLily625EK2hoEsUPuJFG97RPtMjOiHyLoCCz5d69HWaCLsXwPkgUmut1LRjCHpwVeuD+oFWsxz4rvTtaGpUQI7fDIVhLD3kmnrav2B2WkQOPtfdVeVAl0/oh7JK+EwF33jAHetSInrtE0pcQnjxOG+g1MZYeRAgQWI3QZ4aJsJY45gpm/XZ1vY+/Fo0awEMBTiLbZ2xNr4LfbQJmat5wdwwCZg3bTkBza54Nq6sI4Egp1crYcfUcC8D9ylySlVAxEjUb3ZqHntGkL7ckmjaIAOBsgimysfCoycOUaoxRvgoSXsiUQcBbdYtCCmWCT/8JeGk3nFO5SWBAjfpSlFVWF8wCYt2yJayJuaR3AZm8eRqjHVzGjPDkPH3gudUC2JUapyIWIY4a0cKUHTLBjVSwdXB3SwqiI+sym7Ckz6Xhm9abzzgrdNx2l9fNkpffuHqhES2WlECJlaLryUWbC6ooU8bebClLE3O7TcPbckQU9gHieRhcgy2mExxCtGyxQ8CFXwLuvsKjDRsSt90+BFhNPB7TrlL45MbU1jf3DTxab4L3AxUUDr4QFcfzahcptItUqeLNCBQQieRYsMrrA3zItcVwVTz3D9iPqmcU2JLETVaAdoAl7WRBnTKF38X4IFjO8gU4swyLICiwAvRuDYGKMRFvnxbHIfVEh8zYRFQ2A+VIaB6gwtxsfPQnxe5aQCfB2EgDngCkNSNo1MIOk41WemJiwyqu85AwjDHe8BipfsN78fkinQ+9FaQeusxth2RkawlhrSlwZwqV1ZK72eUQU2ev7o6DewGLGPW4YY//z48Afmg8vkb0JqKav+NSWIP7YR88Vno8+Ykb+lkrpLjezoIBTT8jKd8f1M5R46DpmswfXiG4mUgNS4xPdFXPimcU0Yjlo64r+m1Y1gmt6SuGL0mHUn10mvZ3jHop0AACAASURBVFSBLRu3TFsG47tHYt4J8wLDUy0wqs6GAp4grHJgTSPug0a2APxBFuSjictVLg8blzay8RkC1WHrB5NVYUSQCzS3bRx4zQ27qqRrAkK7YQQzTQvS+qhFdgkLLC9hVMvpl2X2zqgCswG5X412ARO2DAObiLk2jYlfMxE9n2ItI2BsL4D42hFrE5MUzeuiAux98hn4CRBaOZxzxUV0FqYGuK1Y/JYsNCPKmBg5TTAWGGUMBmAsNiLiejxj4mrpItMKDONRRZqx9h0QWieAplFpCFXMLO6QtIwniSziBPEsMOG3hL40jQjG0+gxEek47GcZ0wA7i4MFYErWVVwpISLNCPAiABA7U7NeiuFVy3ZIRKoI5q9p7gxA33Mz4iXPtALDeFRpcQjCkIrUgGqKVx1LiPf+kb8ihj8RMX5L9RsP07OPG3o2xP8lx13wQDrx8NTwmoOQr4WHNs3BZ0hPxZccj0HG/GHu+FpGJfF0GGd/GgVMsoaKRbqLD/zz5uZzKlqoFilwWk74OZWLL774y1/+silHKS7bcNm9R91Lu8vIjp0RC7vHHntsx44d99xzT6DrFzJYyGaEiPg5lXThqMsyyJTAF1leLBZ+TqVpXBOtOkE2myZl7A5TUtLPqXQeBYaB6P0IFZgpnaZxTfG4K/xvigAk8S9kyHHQoEG//vWvnTJKa8ojc1dVwSgwDDuxDHsTeWhzKYu0+DIi/j0w1z3Fov/Y6SOR7++BsYDLTE5M/fC/KQKQJLyVyN/1KYzWHQdHOoHCgOdE62Lyk49uX8WoLku0H6bAPm3Bse1o5HjwQtunWeIFcOp2JlPDZxW4016qfWD5sMDcKfbQAhszZszAgQMtSd3afOu1VdeySGUJjCQ+pY14Pf/88y0tLb/61a/IpICREN2Kl7FxBHkwXGDELbA82kypQDoMtIX9IO4Bilhrv8icOsjeUV52+XMhehheoQK75557jj32WGkB+08eqxBRdscia6ynTp26cePGWbNm+WEn5gHmC1mLgWnB5T4lv/hwINzdisTGyZauAuNyKrp2TgZ5dCFGSxXxFm+STHQShwiW4+RhyuznbiBZM27cJsBFmpOYCM4YcGahY4qo2cn5dRhwORht3Kc1sW3I9tu5pFsCCA46U76MJf2A5iC1d3WSB0wCGVVgwFFSwEUyopM4wn9pk7XNGYkJ1kYUgMx+++NCaIUx4Fr5ijRrPnsiAwujtOadqNkTAngLjVhqDjy1NbKPKEpnTNoeBlNEM2y6CeUwVIt7R/sHLFuV9lbCEmZUgS0bt8yoZVkGGWASGVWXwkiXWB6liBRJ5AUrQhYjLPFBywTwaR0hVIubrK1z7WE5wjHVpVkz+F1fmPLafsHoaaPEDfEHsmLExSZPxJ3yA/Sr0fj39qaQvbVwLTYF1tHRMWfOnAsvvHDSpElLliwJLzY2Nk6ZMmXSpEnr1q2LSkovijCy7rnSC+Pg/Vox5khcvE8PI5uombQfaomfHkI4ZQOD6CQOIItJ1fXZUUv+V+X4TDBVda1tFGeBbGoPSYAqmgDZ+LMY6SFpMYxNaTpiGZNdPb8UcLMDtxzJyabA1q9fX15e/sADD9xzzz3PP//8tm3bmpubZ86ceccdd8yYMaOhoaGpqSkIAulFKbR9DLRIInhGGy6Js6DiE7opBWQB5LnvsJ6Tah1TDRQesZE4NYrXiwgEOONwnf9No5ARVWo028JePhdLQCllLpra198G7C7oBKSD39KMU3kvaF2p9eViXopELS7Z4uDPQmxvb//Rj3503XXXbdy48eOPPz7ttNOCIFixYkXPnj2PP/74P/7xj+JFkYijjcwitFmIEfwk7EUnLvpJDjSy+VT6FS9qmIUYP88Xj8QiztGajisFnwVpZSHa55illaO/fv16eOr40Xs/umngTfEfGMC1jEiJ5f/2t789/PDDEydO7N+/P55IFjBw4MAjjzzSGzsfafQLFix48MEHjz/++O9///uPPvro4YcfPmTIkCAINm7cuHHjxnHjxj3yyCPixbBuQ0PD0qVLw9+zZs1i6c7DfnnY6//5OlDgrbfeuuCCC7QKjGX6tgeSnQstyEJt6tSpr7322gMPPECrHu9NVc9qezxHOOyXh22u3dze3u6UBWNzHfbLw4IgYG//SEiYfltb2wknnEBW9uGmfqOTa8KLiYqOzriJk9WygJ9FRdYUffr0eeqpp6J/4bFkOdLa2tp69OghXi8nU5Ti/PPPP+ecc+66666XXnqpo6OjS5f/cVGWSqWuXbsGQSC9GGLgwIFHH310+LusrKytrW3wzMGbrtwU/k0wkl4UsenKTW1tbUCBffv2iRfFyRqvNrTFbKpIcz1ECsjj5+PctZIYUQNQKpXgHgEQ701Vz2p7PHfYt28f7ypz8MzBQRCErw9Lc0UvY/g3enMJRKQVIyEj+lIKra2tHR0d3//+988880wVlyH3DGm8vBGS43J1+cvF0rGLl8su4qCXyoTF/1JDioGWNi7n7373u3nz5sX7Ah5LliNNOlEHjBZYQ0PDqFGjBg0aFATBK6+88uabbw4YMKClpeWkk04KgmD58uV9+/atqalZvXq1eFGkJvUD8O55DIF3IWYZ/rdC07h73sicAP5oBnceMKMdr+unrJe6ENNy0KUL7VO3tbWdeeaZN9xww7nnnutIBtcvWrovcgKwMPX19Q0NDY899ljiOtxNNnM4fSPz7t2733///ZaWFqDM0KFDFy9e3N7e3tbWtnjx4qOPPnrw4MELFy5sbW3du3fv4sWLQ2+p9CIS7NpLBdf7iJHfukwRXF+L5oLpvhZCRrhRSbg6cNc0v1naEbRNo5awIcIigM2bzvV+IdOsyGL4ibJrr9gIY7mPwhQaBdbS0nL22WdXVlYOGDCgR48eF198cWtrq7TkkCFDDjjggAkTJlx++eVf+9rXqqur+/btO3HixMmTJ19xxRWXXHJJVVVVEATSi1LgtyvSMjsTQH5QWPstLgxUTj8yLN8rsaL0K88pwnTeJ2SEByYbaDCJfEZ3VcAMDEy+rlSj42G5UmRPccRQiB8OYLNHUwv8y2IkBu10Am0x6eTj+h2HEyxthpZGgf3sZz8bNGjQzp07Ozo6tm/fXl5e/pOf/ERasqysbNy4cfPnz7///vtDD2EQBMOHD58zZ87s2bPDrA3gogiWvXjIAwLwMN0aLP4LXMQAvwPMSA3HQYj/eUAWDkSwNNFcSBIIg1yarKzS6KqjHBJXgCqEfrE8+AOpTaXnEmi3QloCXkrCX5qF3zv8psz46296rB2GMhKYrQjwUMQMBo0C+9WvfnXbbbdVVVWVlZX1799/xowZ9957r5ZoBqEd8SyDWKo5pJTJ5x9i5DTdf+YUXIs7rrNnbCryzuM2FYEjKsRbplumjExJzA5row3XLGVUwNhA4l9VSdW/KqYAd+1y08jOYzmCwNLbZNpNRuM2gkaBHXzwwWVlZdG/5eXl/fp5+tiVVCE7WoYDh/kiQTjDMAHLI32RgNeA0gKWR0Sq2sRdYMZoWUfesoqZxwl0YJjGAk1rcUmSMAq154AwonZzremITUz34l8RNC8F7Ug2QsSBxSuIfKh0XSMaBfbrX//6+uuv37NnTxAE+/btu/XWW2fMmOFFMLlCdrQMn3fCPP+RHq6ILuYwwwChYuNvrDQiSFPPcVINPRui3yzeXe140C7rkAeCaEELLMEFjrnvmMQVml+d6xkBSVTEGU88wsjfNK6prrrO1M8vNW6kysYyHBC9Yox5HzAvD8Acl4X0VBOgUWAnnnji7bffvt9++1VUVHTr1u36668/66yzyj6FPXt3wPvZw01/SM+yuLhLKAb8Iosrdoo8MgoZErMMEYu34nwv+uQisXwW4klSbWr0ghGeQvvmr5+yXnoduEJgBwAZkTIlrj0zSeprwbBI7MklvA6J5RotHBACOHwuWibarGKzkF0FQJtIxWKXaxTY22+//cEHH3zwwQd///vfPxBgyZsAowfWrgqDIBi7cixyI3piQKvsEuQm4kRdWB/AA53XV4CUn6Yp46BNxy7cyCpjxd3SEul/E68nKqpOn1Nlc5jC89oibq658DqyvERGWVTwC775s8eN4mEfsFCJxFI4QC8E7QdYpr/IbANkqpJ0I7OYRy5mBGUkN88GRidxsCDdjcwwaJniyFq0dGHesxAtU+Gd7p7GNyNQDN7ITB7hLNoi+8C0T7yMaiOzCvbjh7iROQyAlUqlVatWvfbaazYS4BH/oCUNNiEW0agC3GKOoEqmYPQbqHyPeEe/ix3ZtDwFe2qYbLpAMG6kCSNS95dPawazTc30vbAPP8Mr8cSand38Im8FI9hJPp17TvdoE8qogD9GwAgaC+yll1467rjjWltbZ86cOXPmzLa2tmnTpn3zm98kcDJC3AITVXeN4ZHhQPmahpp+8/sNGzZs//335xH9Uzzc/+ELdlzAS9Mp/ThB1W9L+oOfH9yzZ88ULTDpaCHbXoFjJ1tNQ83m2s32FhjwgPDLxQUjAYAC4ssb/xdzlFRGfCdGYriWmUbf1ALDQzUkKKfRf/3rX6+vr6+urj7ssMNWrVrVo0ePUaNGvfzyy2zCKuDtcyotLS1Tp04NrUwMVh+1+rgNxzkVCYOdO3e+//771dXV0cnIMJBie3i6Y489Nvr+gFM4dXnxQiVqWp9TEWHUmDYtb7Me9XAWog1UeoKgP3yqYRWv+vr6m3fcbNrRNr5iigKrrKxsbm7evXv3QQcdtGPHjiAIunfvDh+KyALYAnMNDxxp6/dIsNBwXLRoUUVFhXiXRTynAY/APG+NPIGaPgtePNfjhF2B1XAcVWxjTjmFjQKTTtP4i2TgqVXHvpFkacCxPJc7C0wFSgxs8ODBH3300erVq88777wgCN5+++3Bgwc7kU4Ny1eC4Fq1fL2RLJCJ/tKdttMGTZPSxEqJEM+ovGk+t/0ufXxh0xR5pHhIWwFZgCvkg8lvtNwWBjy1o03ZNFLILflAjobqImHbiRRGOgOzvRqoGCgOo4pfxG99yw40Cuymm24aNGjQmDFjrrzyyu9973tHHXVUXV2dH8kwCIO9RknJXBnGKr7wMRCiJNIr2i0UYi0XcW888LvuLIsRyiNb1SapAbNhAygA68IR9SNoUnGVxACpqqWrMXtISUkPsBDVFbCLK1BM34nq5Hx0ruPrTE+hU8mA3/oW4r2z3jMSFQPT11CjwE499dTNmze/++67X/nKV0aOHLlly5booN4sIFwsGyUcxhehUS2alaadteFXVLyrjWYHsWcM918HsSeySbzEI0EcNmvwPiVT4fH7hLSUo86KjwRTm1JKE3NRWj2Oly5+SUuBF6ouhs3WQKalEgW4dndhiGh1Dwy8rQOrwMRv3sMJA5MkSZotBdQauGgggaAKtKiKPAa2e/fu/fbbL/wh3g1vOcWHH37I60/3kDPmE88+++z06dMTMbC8wE+IMSN9bSNJGAOrrqtmjznRgmFwec9tLrKzjIGFP3zmKLrLxYgou9vElukYWHRib79+/SoFOJQxBt59A6LB5NNM4SKFj6kY3TUyFzAQl/COfEcqOI3hYSom/JYY+qoycQssAXJLin4IfC3grk8nNu8oIh+KIYWpT8+0orQw7BhUEfcT4gIGhuWYkSuw5ubm6MdeATb8GIGMtGurG03rSI6O/PvImIooD1xdet3mEcQ0Cs8RF1NgnLfS68gmxTw+2ZZyWt4I7EsTrog1ElxBKT8CmJ7T6C6jUttBXIk/IuQKrHv37tEPETb8PMNm4qC1rCPzgpCzEAIpj4s5gndlEAehkU1tILLiJ3PHF8PLIBIEvJGmrD2AJW0yhM9sOneOQQ9VCEjRXS9XYMcdd1yNGp5FzAUiL5nRa4afVfF6yMiTI83QswRMU2q1eFCfmDxJI2PXCPZZmux8MSVdGEA0L3dg3Ybejn9zx0i1DxqQBxaG/EEMaS3G0YKPm8gV2P33319fX19fX3/ppZfu3r375ptvfvDBB2+88ca2trabb77ZXr4U4Wi+iLxkhB1LsEgEgoQMvRDalEIVHam9AmSjJQq4cOdK1aT0Acm6ijwXx2GjNWk5k8gq0VLDUpcnhDRNzcXQx9fCb3ICSkr3kwUOVBfyq0yq8pbHGyI3EkRgTDTFvxRyBXbkkUcOHjx48ODBDz/88MqVK0855ZRDDz109OjRTz/99N13320pnCPQpmxLLizqkCzSyLkjaZnZGEkwWf6wDiDIoNLoLI7QRCjONAFPShBmpxXJEpEA5KYWodXrwMoGbiUXVr4pWaNjL1QVVZ9SChAqB6kyacYcrwYlbJoOgU+Xs59ONfvAVq1aFU9e7Nev3/Lly015uAB5jrOECy7kJMBVF65KN1ncJo8GnwGBp+wuAAl42GBYmnf+k8S0Dl5gZeNIRYkge6GRNgpZE9A+pIffXp1NaDtL5V0k5DoloDkLcfTo0ZMnTw7PkQqCYMWKFXfeeeeSJUtM2Zji448/Vt0aev/QlyfrTxNGFiMU5gKGaVQmUXjFihXTpk178skn3e0DS6VNyAKkLm0cQ+8fGgQBLA9G4G7duvXq1au5uZnrLESbVnLRwrw0W1tbTzvttHAfGPBJP/bdV8Bhg0hDivfQRT+nNYb7wBYvXszFKIJ0VFy9/Orfnv9bsbBGgb3zzjtf+cpXjjzyyJqamnXr1r344ouvvvrqwQcfzCmvDNIN1CKOuveoDZdtcC0MBlpJuEQ96t6jgiC47ZDbbrnlluXLl/fo0QPDiEU8/CMYPSyhZbLT705x1L1Hba7dvGfPnsRL6ujx42Tz2MKtra2nnnoqciOz6SwPl3ekMwhH9xrRt0F9ff2cOXOWLl1qVIs8EX1n6Xfqv1kvXtd/kbmlpeUPf/hDY2PjF7/4xTFjxlRVVRlJTEN4Gn3cdWMUqmUEja9raV2fxCHKz/JEZCKmI6FGfdIEfNFRxxHas6ahZv2U9drT6PGtYSQwS10yF9PuC0E+iSMjHwkjg2Bf4osFilDfDf1vYDmJI544DXc38YvM3bt3//d///fa2toLLrjAj/aKYBRyR2ZkmcYJAQcuQFybVseCkXNHqgRQsUam+WEyOADwppYEhiMhKkNIInc0WYsJHeQcCi3lBB08KYC+CN6BLY2FGGUG2cijzcTDAHlEveXp9dLrhOCZZTFGfR/1NW2Uoj6HmAsg5yBpGjeGMiaMbznvA5CKuurCVQA7o/efnMAt/ReZSusi+VuLFNNe8Ko3gjhnIfMhWfYGAL1s04yMyg+p78lqA56ptac3qQjS5LFUG7RzqrRMVYsnm7cbv4zrPAqMAK0PB66ucnFg6prCUlRCyQCcyxILf+0EWiM78t/IulUxgsGoI50a0ype4vRhk/mJQWINxKW0VCz8kIrUBu+J7O6SFV3AyNDES6h69222doh1a1fWSqtkWoG5WKnhb2ndgICJw7L+xYPgK8MIoA07GfG1aS7ySLDcIBVfEvpxpokyGH0PTKweB0FUFktLunzxD/KJvew5FI6qWBqatE9ZYhb6NKkwyLQC87NS03JBOsSkgIMTBGHwjKRltMWk0zd52w1GJAxZy5GAjI+KVTB+aafxzuq6auA0elMAT+FUDa/h+Fid6atEhqkaiBt2pmdnIMEb2UJWF/cGSH9j5k8bqcJerjtZ/iHlTCswDPys7Mg6zF1ULIRRzF8bKdWG9DC3kJDmHTnNoQgU6ll6BeMCVXFhhOmU5NNUteRoSpz8KpkqJML5F8DZHDaSkKszekqlwbDoN2FpKMJmTZ8PBQY8IWZlx/KOId8Wz64S3klTNb/zPpS3JtK+GD4Vth/YeAtEYN4p06woo5ZkeenIdgk5ZiYlZSNJCNPPSce5Y9yD2g+yiNUTS0PXERAR+VBghPQt0+pceRCEziAnVojXGScvbUKjSiqkpeJIJRi1gIvJ1BtU2yTiOgzpoVVB+07hVwBkGTAEubpGPGhKqwmQUNHxc1RY+CBxPydBlapSLuNwF2tQIR8KjAabuQxj89EYibVMp9Gahpofvv1DqVQekvRUUkUEnWombSAESKLTEreHazeANicwMQxEDy1vPgUhqMZrI8IySAEfsg5rFK4PN0d0vH3kJc4L/1kWQGndvAP6LAlmcmMZivqTOFJBeBKHB2AmXPZJ2Z6gzUkc7nQMgZelMD6fhQBL8SoqKrQncaQIm6dz0XHxkziydrhGuvK44B6ehUg+iaNGdvYKXJJ4EkfnhqVzMgGVVwdJ0H49wh6EsITrDCWM3ew5KonfOOUuyugHmGFslFbK2Ag+9/xiAOxf5t2aBnDPFFTZW/jZMkRGFdjo+aM9J2qzsLDfLCXSBK5oebG7rcSLTpObTbeYWLa/jSRRMVp3Z9OOtI/JGw1ppxsSjOBoxsdkSSA1E/4kQ0eIXIiM+yIC8xchowps2bhlWUjUtrSobMCSf29pOwJEohi+o30C0r5DyoYkblQMycg0JY8AWsqPqTDI9lexkwIeKoTWxgCexN1N8SJl5AGJ5ER8m9M0YMpS3ND/hvAHubNYejmjCowF4oKOJdUw8dZhaHKViSAmcViCNpiMdpUBZZBrAvaUE5ZiLNXxj0bLnDTNcnYxHhzVpeXQG+W1w/uU4ZR0zKGCYmFtSaNbGGTQzYhBjhUYPolFlZQVJ5X4oUrqE50eXFE0o8X7tEHTxIvsatKSGv6p2TWKi1xteAODJZy6EOOjOnXvXMCUfhYh3nRN45pUxZCnxUsB5+/B6sdIMeA1GQw/2flxpDWucqzAkMoDSSrxQ1tSBGMGgeX619QfmKiisorw1LRiEIoZwUWutuphMVmsGBaWAiM73cYtwQXCm4sR8viHju83v1+AUCSW2fDA2b4YzeHouCnG6ioAkqcVxM26AvOTmGePeDTIkTc/0D0Lcu+F9Lo4x9lL7sFTZ6qqWXzIplVo7RBRQx7ma9qM8KLNnTalAfN0L0x4IfyBOXbdxkax9OP53PsVsEYBMZJ7DqlkXYEBS2nPGRZ4dxlBf5iW0cpAKGMpG1K5cgGZZQCnKRJMVQCWbauihjnM19TDqZVH6zyHhfG2HoelAvIaXFhg7qDlKJ4hIv0tAv99skSZm3fc/N5Z79HmW8bNSxlVYJg0em3OtMpJEr3tRtMKskFNw0JGI8ByXqCFrJAGJSwbV2qiaWKIB6lE1h4YifRhD6dlwrrKwQBw5IJNnNVbNjyjSpOeVqV9EMuEQyPDMao+cNFAzKQBwH5dm1EFxpJGr3KSRG87fj0uQiwcTq9kT45TxGdz0+CHTSvxIj5NA6Y5wQVKyzJXsSbDXdsyZlSqXI40ExyvDsVlqLR87Wb5lw+dgnHftPQARm0tI7AE2KI0+gSQrpEQQHJsJ3EhBtTcM8LrREtQjl+xdLzguZsiPgsAwQ/7xA0jUjQimFCfKViWHfZOVG8WIZkjoLlpxq50CsO8niqCddXyD0e5ACarHn8MvOl3n53G0jDa8b2z3hMvWvreTd9uTgX2yiuvXHLJJRMmTHj44YfDIxYbGxunTJkyadKkdevWRcWkF1mADERp70pByNoyMsjwERSb/AI4PU86kvDEkdfxZLVeYp+wfByyRUj4InOAWAjTwpnkxjfyBJK5AGn0NlClfsRViOqMYPgrkfG6yCRGqWDswCTCDFw0kH2Bbtr1bAqsubn517/+dV1dXUNDw5YtWzZs2NDc3Dxz5sw77rhjxowZDQ0NTU1NYTHxIhKMNopNUB3TxEZ2tFYewusNJC8QkuJg5a1SM4B/QAtA96flw9S2myOLUJXEYWme8oZatc4PP7lUQBp9AsipP7HfWZt/iE/Ql56+QfiWJr4wl3aMM2VZoNuATYG99dZbZ5xxRlVVVbdu3U477bQ///nPjY2N55xzTmVlZc+ePc8666xNmzYFQSC9iIFRGBlPyhL4WAhSRWUkGKOCqNXITiq4urtMljh3+Aq+rk1Jp0mnHiCu1diTOJBpRBEYc9m1xchH8ZrqKqODgEWTMcGRthdNWsvGIUS4mwD/51RKpdKtt976H//xH3/6058OP/zwIUOGBEGwcePGjRs3jhs37pFHHhEvhhU3bdq0ZcuW8PdXv/rVHj168AqWX3zlV1955dJX4leeeuqpW265ZdmyZUAribWMWPDCNX0bJGTLjqjl5eU9evSorqtOyANIyC68iiAvI5EagX5ra+s3vvGN8HMqXIIFTN8iSetzKux8Q4LVddU39L+hoaFh6dKlwWc7y74rpeXb29v79OkjKV1ixTvvvPP9739/1apVpVJp/vz5GzduDK9v2LBhwYIFqosh6urqhn2KDz74gFcwDA657RDXxLlYPPHEE8OGDfvkk08S9F3ABWXe1iALwFWMC1zsXIst0gc4emvDlpaWYcOGPfbYY0CZSBitwGSxbSpi6mbkrZk9e/YJJ5yAlMdS5kNuO6SlpUV6i9MCe+SRR7Zt2zZx4sRevXoFQbB69eqWlpaTTjopCILly5f37du3pqZGejGs3traum/fvvD37t27u3Tpcuxvj31x4osio+i6qoAfANzDW2IBQhVp9WeeeWb69OmLFy8mfNAyC0g8JvKpyfTdwSmjioqKqqqqpqYmFx+0ZJEcM2jZoWLX1tZ2xhln2FtgNKsFrpWiBRbEshy1R93jhayuqx64aODjjz+uLSntL8KY2X///cWLbDGwLVu2fPTRR1dccUWovYIgGDx48MKFC1tbW/fu3bt48eIjjzxSdTFERUVFr09x2sOnlUqlNRetkWrd6HqiwLG/PdZGz5sSCbknyof/hrcCwcBVPVF0K15AlCS6G7YYLB5LayAB8JLeSrQD0CwlRTvDkBKU9pQl4P6yh7aXydzhNjciwkIKQOLRAHbivITJYk+A9kETIIfQs/ZS7SrD74bGtFK4DwzTfdL+QtaFOzdgVGCNjY3/9V//de6nWLhwYd++fSdOnDh5pZ7bQAAAIABJREFU8uQrrrjikksuqaqqCoJAelHEsnHLCDKwRI/FfAo4i91dugFcPZExTDvThQuERsBv2lPRMU2msMnVTmUXVwjesxDZj0iw3+OhhU3DJiZl+6QM/EGImA+puIA9u0SjwW1Cy8jgeln4kzhY8OGHH9pUN80zVJVHZsMzpjUi8eyzz06fPn3RokWeXYiEJ7VvHCQF/73gmm9NQ83m2s07duyQuhDTel5GwI9g+oBtbW1nnnlm6ELEqCujT4KlDmkaIYvwooGIMRnr6+sbGhoee+wxDAt4Vwyylw844ADxYg5O4jCC6QasECrtRdgy5Rm8C172gxtoVWgULHcv4QsnbEcb0xDG+inrATG4DtFgRCLlnbw5zOgtFimH8692K25URpp0LpZXXbHfTWzq2EQ+IBIiHUu9aOQNspwfcqnAXJwUoCLlYQOmuCMKP9fwborK+IqefQo2el7pTnabU3AC0hOR+wjYV87VsGs+e6BU3BsPHAFj6f0WC+NTFaT7lDH2B/649wRrFTX7z5pId0YjBUACU53mGCDvy8ylAsv4PJuAdjkpakr28AwMbZiKceOhTV32fufViKmYp6aPoDo2xYUA0coM0F6W3AnQ6h7C7K+NFWk9foRzpGBeKi42BDHVab0p1kLSyZkC8xAxZodr11aCPmObSG0OrQBI0Jy9vOBNfHAN6SoVGR2UVjfliHEDiqdmRH/zsu6UnmcIm2XROVJwgYg+/M1o2vHzLJ86U1HG53EQTp+xeb9ypsASSznAK4IHzXp1OqlhXnXVuaUsi3r2p9Ou01OHkYlgk8tHUCcqZW8UHbQ0EJHKMptayt5Bx3imlCp8FSk29uPn7W07+Asvpt4jm3zgBHKmwAL0a2wTRoI9HgBTn+g3v9/IuSPF60YJ0Ko1NbtpIm5OgM07WkQQAG+H4jWHuNgkqBPMgAz4Dmk0SriwgX3PIinQPkEZOQbxSRbkA3PjeRksvkRMSIyMiKDT1SeGeP4UWAI2+wyAGA+c3YuWTl5XSwHJYtWFq8SLyMku4FBUBNMEaTTDazo/uQ9a0xwjBtdik8X60aaZ8Pp1PawCkRQI3yCOfIYYvSJGiZAKUur30+ZoYLZnaYmYQpqi6TQ+giGeewVm04Jc8UbTutpJ3PLFdmc/MZY0lQHmklgZkKM+MBfLVREZsD3K2I+8ZpYqPGbvgMUTCUEwQaTJ5fhvTsI57vhdXNIECqOKwBWj6lwxNvwK+5/CAmMBIZZmb4cZJRa7gFQAzxEpbQKk6kpcRYl+Od4tECox2DP6VFDlpgefDU256DtGfYzMCRLLx4UxJYIEcnKnuSJFIngdAJh0MBE4kmdz4Ig9YJ+KkYHxz6jAVEEXF1GQOH2xroqItzR6S0bkoAvBFJD64twpKi3SipImjEvT+DkZqQd9WWTAm1BIGKk0VVBNtYEaLyHmw2C0vWt+QB7GWVdgKl+QN0OBJV6V0I68GQru3D5SraM1QbRkRcrpwkgYvAVATluHXWdGWempjy5gqGsTSVx4RCwnbthwwWz2CmQWmL13Tpu4SDtfH1PMkasciawrMNUSG5hnbRjhr2PsXFUZ/HLD9NF4Nb07F1l2bCZTyxsPIw0Xz55ANrtpCglXjiJQDE6GMspnwWcYYahpQXYh4u/ac3dUXQXk4zC+PgRSWVdgGNBa0NK5jwlFahPEtf+aPpoqmAcv6v0jFdbSxknRMxYfQlIxOjo69u3bpzpu2zRVx0Umjk1jmtpYBGCy9QLz72DZiiUAnzEI74DOHcTZz3RI5EmB8c7C9tFgliTGRASexbJMzIwqIwOjX23EgCVkpwmDMI87nV4xCeurV6/+t3/7t+3bt9swcudpNDWStNUtG/z4h45PXNEekBEVw/gG4zS1wIS1tFJJL+J3sDnFzTtuRpbEp1sTRlSeFJi3pC8A7iY1WtI2hprRlM0rRnaAT96NV3EkDJm4ozxDxkCXDbTJwDCjFya8QGYtfqlEBUbdgDENxSsYUZ3aZCHT8IOWZHCNmTwpMMZ9IWQBTP02BBaM1ExZ+9RVtIciz24Bk0IyykTA00HChdrTqg0tXKcRAdazzetPm/2RNhAme4JwqLwq+wMgAoCgjAF3q6oLYMPDcnLLxwct4blVdddoRracvjHVpWUwriQRXB+0FNMj4c03iSviD0ZhGKmVSqUHH3ywqUl+emSKeKj3QxN2ThB/h3j//ffXrVt38sknP/q5RyfsnCAWIHCxL4+hdsQRR5x66qkYXtpO1w6/6N/4By0xrAPD6Jc7uBBDtNVoiYiqWtoPWrJY9nEK0g9a5kOB0YCcjnnp+4GlAiOrWyMKPgHL09TUNPqJ0YetPKyyspKX78s1Lw9dM1T1rwsWXLVciBpi+/bt3bt3f+CBB1wQB0BQYBmEa53KRd/oi8wi4i8scjKRKrByGvtcwEXMLN7W+VKEptaSNss5QZYLBIKYKv3m96udXnvyySdrqZHfcLgi78QEUEt8sNG/hXHnnXc+9dRTrrkAnc5ifGDggrKlnSSKlLUtzGHHcU0aeYqBeYCfOIoLmnjJ3UUs0oJ9FCcOy82k2q89uYbT2cpFehttgxow8GyeWnVGBhcjF1u+4B539HVmMsS31WYOyZ8Cc5rRQNsuagPeDC5GcAlmuisW3wXednThd+QEhifd4dmJXMjE8XM0fP4e1wwIe6qRJQGYzuDkD5FwdRy5YcUT64GSjJ9uIcBoxyqA/Ckw1SDW5iNpm0ZawGYbDcyRlr6Bh+lQIE8W8YoiU6RCAtipbqVl/MVPDLJ//zGHtOInJi2Ac4xEFiz5eDAwGZLaYhFUX3mVQrXRynRxgGyuRGGggGniovQusmTcbWC0lGGB/aadjCZxtLS0lJWV2dM54u4jXrvqNdW/+cXSpUtvuummZ555pkePHsgquX52S+F37NhxxhlnTJ8+HRMDA2AZ82AMmaSYPqdlfeedd65YseLxxx8Hylh2qLR6a2vriSeemIUkjrR6J25XuRagvr5+zpw5K1asQJYn93hYcd++fb169RLvZjSJo7m5mYXOmovW7Ny5U/Uv4XQGdiBzFhLF2tragiDYtWtXa2trIplYhcSzZwGYNNEo5EsTPqzONZxUG3e016tj39t1JwkjgBkQw7pUKsH9helQYGBLq4cvRVNT09/+9jethF+f//Xnxj2nLUaj89y45zAyMHJM8HUqQIiPP/5Y7GVgFiK/wlFFqQLLqAUWT6M32j4MOBgxSeGE5E5yLRtw7QMLzAXOWgI9Bk1NTePHj7exwHxmGBrBlLUHUcMsxN/97nf2pIwGW5hGH3oR+83v1zSuqd/8fvYyxGFK04UMGEZRIyCloslZUVGxaNEibbH4QsRmA480jT5/MTAAQLgFdqZH5wzFKWAaWiwpniOQLuAAVUA9L9gRbFoMGRCmxZNMjyF3GhsnZxkQyoscfYIw2PrN7xfOxcCMrA2VqQpgZvl4XRbtFREExBYZGbEmyKltw8T0GP8Lw6jTs2uBca30gZ38mMI0Fq5hY4HZSJuX3c0JSbQWGJddYkOHUJf9eAUWIC0wzCkwWsRrhRZYdXX15z//eWT1JQctOf2d002ZGkHKArgYv7XkoCVBEMRLehAYiSUHLRnw+IAnnnjCG8d/uo3MBNDmX1516BpG0iYu+tFe9meAJa6MfmJ0vwBaY0pNKMIsb6MYLNnhBQ6zB8keUeQeahWi/kr0Edzjqm34Yq1x48bhkzjuDu5GlgzB5bCV8g0vxm+JxUwFRgomlRN+2KPrj27o2hAYWgjsyK4L0TSDVuUrA2Y3ZGI9za9l7z/EZOczeiktDy7Rbm8Abtls94HT9MPfy85ehqSGT4lOy6umgtHEGs8uiV+Hvyms3T8Qr5joU0zCFDBUHG3DT0DbpwSHrdEmQlOpaKfxBrhDgTEPi1k+sqB2Za30enYVWATkiBfXZfbHauD9tiI76XEpNeAX25DzOC1QlwrgtZh0Tc0LU8r4GYp8CkP8b6BQIRg6+OsAkKebR3fxCt7IwILLeBvDvJ5VYDXAstoIBBMcEANgbaNiXby50u6uO7lOWjgHCgwAPOJNk+uAf22ESZTBZJrAsoVA7tmkjTCf54PQdkwDZUxtdxg2GkWKcAZJ7CRN3IVZaBPcVdoRL6pqUjM6iUNqYWN29ydgP0viOwhoOlNq7Gc4AZoMYKdVlnjnoank+BdQaopgqmc3iSNxRczCTCvClIVEBiCJA5muah9nIlNjrItEmMQxZsyYL3/5yy7o37jtxp8e+NPwL1DAlKA9HQILe6xateqdd9556KGHpHfdHUBjcxq9o8QWZGwpxW0YZGBOo7dJmhfRST6nIi6xLZOXsplqAQOZhZi1x0xLhlCB/e+/vnbnpIjwGX3uQwpi2dj9+/efO3euEQXy2IgqahWYkZ4ICyOr5FEDGUF8QJUCs3/HO/k+sEQEaI3iU/Gw+UkImBHAkschJfLDt39oyi4L+7fEbCU8NeQ2LwzS1V5G5/WRod0LhQFe1Gj3VRxGHUQen/iKRj49U1WHLEwAS7oQxjUKAP+AtIwBmEJNQ40qiSN/FhiALBgZLNA+CMYC6xytQXgKsUpogY0dO/aII45Q1freG9+749A7kNdVhV0jU8KosGLFijfeeEPlQiRDOxIAC8yzhURwEubOhmNxIRq93Z1hH5g2qy2Ds7ZKJEBU0/J4IjZkVQ5bp0FBQl1VcuOIESNOPvlk1UxxdnB2IJtHwuvSwlpgdtsYwUaYhBjuZsy//vWvW7Zs8fYmYhh51g1GZ2YCVUyRBS0Y7w5gHqsBP2uJHzw5cyEiE98DMPFJmxOFzHbTlkmIREMiR5Hd1Wm000sqg2qYmtKXgvy8Kr5iHl3cu8L7/hslqQMwTbWHM6oTaZCWYMxMs0xai4vkeZdeYiCJiI5ydioYe94jgJt33Cy9zrI3KX4XHhU5U2B4AJultPuoVHE1FREakBQI+2lCILdpmyKRGKIiwrX6xg9lAnin8oA7XBFBVIQwI3xGNWEXGkAzXt3Iu5C4BSTTa0OhtZtrGQ/+N8qYxzA1PciDXAbed2E/UG/of4PqFrzb1RTwTJKDGFg0YyLtSiOfmDsvh1Mx1qxZM3v27FmzZnXr1o1MiuahZmw0S1L46van0ceBiXDwGnP2rkgPiQYR/cRZiN58iWEMrEuXLl27dnXNa9t52w5ceCDmohalUqmsrCz8ay8DV/X4XWnJ9vb2Xr16Pfroo9Lq+Pznf7o0es9w8frZb4Xp0aNHZWXl9u3bs9l9MAhBQQwdoDrvYb6YwvCZTGnBT4ykuq76/zzzfxKH+fJuCVLhhRdeuObNa66tuhZZ/tbmW6PC8d9G1YGKtzbfGgQBTHbr1q2LFy/+5je/2bdvXyPu/pF40oMOOmjEiBHRv67Xu4UCy0diHvJV31y7GanALAeWpV6hgbenEgrM8jhab+A6OlZLivepIwtM7EQPL2BG3Cr4ips2bbrmmmt+85vffOELX7CTzhZ+pkcal9qVtQ0XNIjXO20MTApCQrb0d+p45dJX8IWlYSSj3A08L0J5UyLRI5B7xHUyGBcIR8fSSBlZn3h5xE70MD/yssDkK2EAh/fI8vBOSn7i67Q2zNlZiKPnj2akxpLJZt+7tN2+NF404uLrYRSP5X2dVKsHOElXKsnoJ/5nOLGnY8UJWhJP63h7o5w9n3luRnC0vmTXuJYEE4oQSAAmZFIkloY2Skjq8oFpatNzpMioAls2Dvv9CwzIVj8vOxfLT8skiMS/YsYjsFcDSZYsFW31IC0ffU5Fm78Xh+mkbGm9eUuyF/na251OLVfMiIL3crjm7hRATiYAwpubWBrCC0Ta0hmTgwpcEZFRBeYN7KYukovUD+bIY6nyuZET9FXA7PDAEEllytAmr0uRBZdjQitnQSQkXPgk7CvCrwngwWYft3EzC+/Xwce2yYKptKPWzLJnnUAuFRjm+VneDSkRzOoDeAeiQSk6AWxsDgAYn5s3qJz4UichL6asnxKo98S4nvfhL5to/XhwATGJnySjMSwZEd4+S8A0MenBwNvEFegSCQJS2SgSMlT0kUtYlYORAE4FViqV3n///dra/z11sbGxccqUKZMmTVq3bh18EQ9kEgvLMkRKRLr6wAd74y8Astv8v8mJkkYCGDWpT+V63zH3Sa9j4jrkT98CXEw/Jon3f3pTxgAjONpB9gpaAqmc2LnAzwsfmkx4/TGKBB9CptHHwyb7kVOBTZgwYfLkyZ988kn4b3Nz88yZM++4444ZM2Y0NDQ0NTWpLooAkjhUFr30Xy2kGXoEEDqg5rN7/YLPvtg2FglvzMDUmZ5BOy9K4jBCfHYmHKBA++ouvpjl+eIiHXwZjLTAm0UIz6hIWdbF5BRI1a3pkg5+3vhB/mSXoJE8Kl6OOAIyWLLjVGBz5859+OGHo38bGxvPOeecysrKnj17nnXWWZs2bVJdFIFP4mAM5HApMwK7aEXj393nwXeH5G5TJgFVEgcMUSVo3XrS637OplJ909kU8Hd+A45dYphx5ToeJq2L9JSIvkEgLmWqgS5+6eK4BcaYy64CwQmEB/KNZptqSqz45JNPLr/88vD3ggULNmzYEP5ubGycN2+e6mKIWbNmnfwptm3b1p5nHHLbIU5rdXR0lEolR8RVdSMKNqSklF0gTnnbtm3Dhg17+umno8F2yG2H8I58JMh8o4qeJSew++Uvf3n66af76WXPcPEgL7744rBhw9544w12yu1uBE7QdDEtiBz37t0rHWwOP6fS0dHRpUuXSE2GB5RJL4Y4+uijo3/Lysr27t3LJcmQe4Y0Xt7IRQ2DxssbI/kj7lox4rUADLlnyGtXvVZRUWHURBFxUYz4FamQYd24eFy9g3xkI4SPEKfc0tKSKJPW5wrJH4WS2lsePk4ft8+Q3yb+Tvl3SqVSvFtd9LIlaHMC/kHw9Pft2xcEQVtb2969e9lnKhctn6AZ/Zu4jnwWVbH49cbLG1tbW7t37y4WYz5Kau/evddcc82sWbOCIFi9enVLS8tJJ50UBMHy5cv79u1bU1MjvSjS8XAWomjGchq2jhGehVhdV53fR4hEZZe5JvbBofAK72G+MFQTfaYOqYqD8cCqEInDfLmQ6FbX7y+SmhFTaWGjo6Qw7OJ5zkCo2yYMqSLrdPKRnoXoMI1+8ODBCxcubG1t3bt37+LFi4888kjVRSR4t0ZpHeJIBzeNO4aslteLE19MlKQ5tRmTDPEQo31GiZFayuR3CfN9CuA6/lMmAE13oG13g8sDT4FPfzDNfMMEtOzTspBSGdGMo6ah5l//9V+vuuoq5Em+yARsQHsFn43qEYBJX9TmiSChre5QgfXt23fixImTJ0++4oorLrnkkqqqKtVFJPCJcyokYrAEdixLDGQwGc8Ls18k3lCqpH98+qKYmkUbqbQUEuQilAYjDQRcj4OW7uFCvXF9+TdBM35lxr4Z0W94qLNsIwHuWr6teCOMzGLNRWsOPPDAb33rW3369MFLhaRsVN4U0lwVcXlhmUEdVa9dWSsrzq3AevToEfoPQwwfPnzOnDmzZ88eMmQIfDGBeBo9YasWS+EMgivRH1ia4akllqjIuvgNc2It/HxH6GhTbWG0S4z2NV5LZYNkRziJKtRYquM/vlP+Hbi6dMwAEy5tj4qKWrwMPK6QfF0rOSk76QNKM/4dTXosZMVVtYpszg7zjafRZ1zrwNtE7AcuOc3dnfGOEUnLXWvAJbgAainRBbQBY3oiu3SXGO1DySoW9occIrUR8K+Ku3iCIlI87fLCdETB3gs4UV70NgOOChuwT2LSBzT1DXrYLAQDs6qGkVEFZgRAWxit3FVkYUgHjeV2Lpa9Wch4mOqN5bL9RamkBbRuVcxM5A7Iwwa50jSkn6g3jaJJcxSRAhBCZchnJwcCYN8jwRsZnzdURiHGe2kqDHJpqAU5mhgB42Yka3TetbsKnfODlqnkI+Fr2YuX+CKz6/wfXrjI74Kr+8xCzDVCnWeZMOkoCzF1OHrLunXr1qdPn6ampvb2dnbirmHfJkgKufygJTnGy+ifrfk0ede0OmwxaPma3nIK/IpSWpIW97LsxHh12lFSTj8ehq9iZDaZxr2kKZQ+P/rlLcXAvqT9TG3D3SdxxjbhSuPMWQwsBLJ1yOmzcKQq7h+nxWkJAwh2CxglX7CkeAH0pXelfYHJu6UJhilf01Cz7Oxl8HmpUhh9PAxJkFBFWyt+tK7WZ5gI4Jke2KhtkOq66hn7ZvzlpL/gyboAZuqA36kAEabVQuuTt19qA09hE32I0+fKHYNB45InF2K+HGVOkXAhukONet+oN2hVoFaw0IV4+umnH3bYYTQZfvKPn/z8X35Oq5sWZQ+QCv/cc8/97W9/y6wL0cNINmIBuBAxdBJlpP/6DKloeZGnFOlG5hwrMP9TqsjRSAZGgaUKjDFo1MnQ0tLy7W9/e8eOHbxkt5+/ff8F+wNXxAKO4I0Rku/QoUNvuukm//LAwM/m0jIuXpCahpqXJ7/MGAOj6Q+uMD9XE0np5F6BOUJeJu64nOwWGHmlhn9h/IOQLeLunSRgzZo1P/3pT+fOndu/f/9UBHANn22L5+UnyShC6kkcWX6F4/B9lFRmQcgpcBprRYIWL1XF+aSNQBim2l07XCsybdORc3miBWniN4YIOS6izYHGJ84Y8XUEGnHTAAk+VUE6GJBCaod0YKLkMBxZAI8rANoIus1eINct0MkVmDjxkXMKWEDeXIUZDXAgl9cJDotks2RTJdRoCdpnLRKULqPKDz7bbtGP0xad5pqvJTzM5sACS6qZXGRMwMlK2ioRaO2ATOczymhzui4nr4mN0DldiBmxeY1gFNt0l8TB0nROXeEeYJ82YlpSivfee2/VqlVnn312z549s5BNEyELMojIglQEd1yKLsQstJgK4oDvJC5EjMcAP7+wCGBkJ6nu8ppKeGeLSgwbcL0VYjgqUYD8mEZ8je4CJU0FO/jgg6+88sr99tsv+OzwID+gZcuIFirBr8sLqafLp+MuAUfuOFP4aQGku5sGZEPlT4HRnAOAkWtfK6F7bKY/rsgH0EqRlrX0LUjdsxiCmICWFIm5W7V+FONYSNi/h3Bky9Ktah9WZPShSUEOQ5LhwlXIBbi/ortD7x8KUyDoCRsPJx4uwhMAFyk6gwsRYwhbziA0pvhieI7hX1MXIvvjI5kaccyyQyMVVFRU9O7de8eOHR0dHfHriYbKlNeXhZepk9a18E7pu3Yh+p+pMCCw6yQuRBGYhpBmAdg4QGhrHPY4Nj6xivD4gbAGNGVq9LyY7C/Tu2R4CH3jIfWQ4w0ye9cxl+8RwwtTIFGSN2OIC0hPA2CBkfnGf/hf3GNg6ibx9D0wdribnjBLANqkDzBlr4IfdoB7xx0XDxE1Ry8eQNaSI8GDaukoi1YS5KUAoxeBvZboYXPkasO3XqQSMPRfnvwyRgYk68Dcs0frXPF5CcCzzuVZiIGX6QnzbrPIIw5oRs2B4Z64ol3Cw0EmJBcVEvO46TuASegwosm1VML0qVG3jqgfQeAiMg3A3nHqQZJOqXj/h3YFk7AhGN0eCUYAtTWkbRgB2gLzsLwA+MLRTWApbOPCwSA3MbBOHCAhOKm9nYWIESYtUtn32lvyUsXAPIP24HAtF43proOyEwNLcRp00aFGtfIaAxNdtK4918AVgv9Hy8vzLMxCBxmvIkRfWLxM6XprtfS1Rj8+hcFGJCRoVrWR45el06U08ZSBFx9OIwSu4HkhYROqtBwtLJ580/hcopaI3FhgAOJqXKrSo4ss65cs2IJ4C4xLWhs6Yl1tl3HBtOtr7M57tSEowoUFBr8g2oumlD0jLRls+GIssAwaXpbviHROCECV1skP883C+xOHU3lEBebNf0JgJNUiWeuvBIzEs28iKSIFFobBXLBIEcCyJgtPxz5WVUS8ncSRir8HP2i1jdyZFdjcTXMvHHwhfCUVSMWwl+2NN954/vnnv/Wtb3Xr1g1Dc+6muUEQRAUwAjA2YEb6IoMAWmbuprnHVR739NNPjx8/vlevXk5lCGJjIy10gkFi9Ahh4bmb5o7qP2rp0qVjx47t06cPQMdp++Si8fOkwArAWLRo0c9//vMXXnihR48eactSwBWeeeaZa6+9dunSpQceeGDashRwhbVr11566aULFiw45JBD0pYlf8hBEkeBAgUKFCggolBgBQoUKFAglyhciLnE3r17d+3atf/++5eVlaUtSwFXaGlpaW5u7t+/f5cuxUKz06K1tXXnzp19+/YtLy9PW5b8oVBgBQoUKFAglyhWdgUKFChQIJcojNacoaOj44EHHli+fHmvXr3OPffc008/PW2JCjjEihUrdu7ced5556UtSAEn+MEPfvD666+Hv3/729/27ds3XXlyh0KB5Qzr168vLy9/4IEH2tvbf/zjH48YMaLIse6s2Lp167x588aMGZO2IAVcoaKi4vHHH09bihyjcCHmDMOGDZswYULXrl27du3apUuXYh9YZ0V7e/t999333e9+N21BCrjC3r17m5ubr7zyyosvvviFF15IW5xcolBgucSCBQvOPffcfv36VVVVpS1LASeYPXv2ZZddVllZmbYgBVzho48+qqqquuOOO2bOnPnYY4+9/fbbaUuUPxQKLJc4//zzH3300bKyspdeeiltWQrwo7Gx8ctf/vLnPve5tAUp4BADBgyYOnVqRUVFr169LrzwwuJdJqCIgeUMDQ0No0aNGjRoUEVFxTe+8Y0333zz2GOPTVuoAsx44YUXli9fPmPGjI6OjlKp9Pe///2qq65KW6gCDtHe3r7ffvulLUX+UOwDyxk2bNjw/PPPX3bZZR0dHdOnTx8/fnx1dXXaQhVwhS1btqxdu/b8889PW5AC/Fi9evU777wzbty41tbW66677rrrritsblMUFljOMGTIkFdffXXChAn8FzgvAAAGNElEQVRVVVWF9ur06NKlS3EMR2fFV7/61TfeeGP8+PH77bffpEmTCu1FQGGBFShQoECBXKJY3BUoUKBAgVyiUGAFChQoUCCXKBRYgQIFChTIJQoFVqBAgQIFcolCgRUoUKBAgVyiUGAFCpihsbHx8MMP/9nPfuaHXVtb2xlnnOEuW3jLli133XWXI+IFCjhFocAKFDDDtGnTrrzySoICGzVq1H//93+b1rrzzjuvvfZad5/ePuSQQ5577rn333/fEf0CBdyhUGAFCpihubn50EMPJVRsa2szNaR27tx59913jxw5ksAOjx/96EfFUVUF8ohCgRUoYIAzzjhj8eLFY8aMCS2w119//Zxzzundu/egQYN++MMftra2hsV27NjxrW99q3fv3tXV1b/4xS86OjpGjRq1evXq448//je/+U0QBE1NTRdffHG/fv2qq6tnzZrV3t4eBEF7e3tFRcUf/vCHY445ZuHChUEQPPzww1OmTInMr23btp133nmVlZVnnXXWggULRo0aFV7/5JNPamtrP/e5zw0aNOj2228PqQHiJRgdffTRv//973fu3OmtGQsU4EGpQIECJjj99NOffvrp8PeBBx743HPPtbe3t7S0TJw4cebMmaVSqbW19V/+5V/mz5/f3t6+e/fu0aNHz58/v1Qqfe1rX1u1alVYYODAgQ8++OC+ffv27NkzadKkiRMnlkqlffv2BUFw4YUX7tq1K6R/5plnLl++PPzd0tJywAEHPPnkk+3t7Vu3bh08ePBxxx1XKpU6OjqGDRt21113tba27tmzZ/LkyZdffjkgnpTRyJEjV6xY4aX9ChRgQ6HAChQww5lnnvnss89G/7a1tW3duvWVV145/fTTf/CDH5RKpRUrVhx++OFixeOOO+6Pf/xjqVR66qmnjjnmmOj69u3bgyDYs2dPqFfeeeed6Fbv3r1fffXV8PfKlStHjhwZ3XryySdDBfanP/1pwIAB4bn1pVLpgw8+CIJg3759KvFKnyqwOKOrrrrqjjvusGiVAgVSQOFCLFCAiFKpdN111w0YMOA///M/V6xYceCBB4bX//KXv3z1q18FKv7lL3858cQTo3/Dr5Lu3r07/Ld3794R/Z07d/bs2TP898033zz66KOjWl/60pfCH1u2bNm6dWv37t0rKioqKioGDBgQBMGePXtU4kWIGAVB0KdPn8KFWCB3KE6jL1CAiA0bNtTX1//jH//o1q1bEAS33XZbaEt94QtfmDdvXlTsuuuuO/jgg6dMmRJdGThw4O9///vo361bt3bt2rVv374J+mVlZb169dqzZ0/4b9++fTdv3hzdjX5//vOfP/TQQ19//fXw39dee+3EE0+sqqp65ZVXpOJJsWvXrkgjFiiQFxQWWIECRJSXl4dhp1KptGnTpunTp7e0tARBcMopp6xbt+75558PgmDLli133nnnOeecEwRB165dm5ubgyA49dRTV69e/dRTT5VKpZaWluuvv762tra8XLKaHDlyZPSl+ZNOOmnZsmXhd3vff//9q6++Orw+YsSIPXv2LF26NLTYLr300rvvvhsQT4rGxsajjjqKt30KFHCOFN2XBQrkEfEY2O23396vX7+BAwfecsstGzZs6N27d6hIXn/99VGjRlVUVIwcOfLFF18MCz/00EMVFRX3339/qVTasmXLmWee2aNHj4MOOqiuri4MWYWhqY8++ijiNXv27J/97GfRv+vXrz/xxBMrKipOPvnk+++/PwqJbd++/bLLLuvVq9fAgQN/97vfReVV4iUYdXR09OrVa/v27a6arEABNyi+B1agQHaxc+fOI4888p133hE/a7lkyZKFCxfW19fbc1m/fv3UqVMfe+wxe1IFCvhE4UIsUCC76N2799VXX/3CCy8EQbBt27aKiop33303CIIdO3b8+Mc/Hj9+PAuXG2+8ccaMGSykChTwiUKBFSiQaVx99dVhgvuBBx64ePHisWPHlpeXn3DCCdddd92pp55qT/+tt94aMmTIwIED7UkVKOAZhQuxQIECBQrkEoUFVqBAgQIFcolCgRUoUKBAgVyiUGAFChQoUCCXKBRYgQIFChTIJQoFVqBAgQIFcolCgRUoUKBAgVzi/wPgspkWiwFAZwAAAABJRU5ErkJggg==" /><!-- --></p>
<p>We, thankfully, see that it does exactly what we set out to do. For this particularly simple example we also see that we donâ€™t really have to care about all the complications in the <code>nativeRaster</code> object since we are simply modifying pixels at random and just index into it as if it were a vector.</p>
</div>
<div id="taking-control-of-nativeraster" class="section level2">
<h2>Taking control of <code>nativeRaster</code></h2>
<p>To illustrate the complications of working with <code>nativeRaster</code> object weâ€™ll create a simple filter that fills an area with a colour. In the first example we treat the raster as a matrix:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>fill_patch_naive &lt;-<span class="st"> </span><span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb4-2"><a href="#cb4-2"></a>  cols &lt;-<span class="st"> </span><span class="kw">seq</span>(x_range[<span class="dv">1</span>], x_range[<span class="dv">2</span>])</span>
<span id="cb4-3"><a href="#cb4-3"></a>  rows &lt;-<span class="st"> </span><span class="kw">seq</span>(y_range[<span class="dv">1</span>], y_range[<span class="dv">2</span>])</span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="kw">cat</span>(<span class="kw">dim</span>(x))</span>
<span id="cb4-5"><a href="#cb4-5"></a>  x[rows, cols] &lt;-<span class="st"> </span>farver<span class="op">::</span><span class="kw">encode_native</span>(colour)</span>
<span id="cb4-6"><a href="#cb4-6"></a>  x</span>
<span id="cb4-7"><a href="#cb4-7"></a>}</span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb4-10"><a href="#cb4-10"></a>    <span class="kw">geom_boxplot</span>(),</span>
<span id="cb4-11"><a href="#cb4-11"></a>    <span class="dt">filter =</span> fill_patch_naive,</span>
<span id="cb4-12"><a href="#cb4-12"></a>    <span class="dt">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="dt">x_range =</span> <span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb4-14"><a href="#cb4-14"></a>    <span class="dt">y_range =</span> <span class="kw">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb4-15"><a href="#cb4-15"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAIAAADT5FumAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAcW0lEQVR4nO3de3BTZcLH8Se3kzYkteUm2NpKKztIhxXl4iJ0l64CrggWUQZkx7EO4HbX1e4uiwK6y46OXFY6SAvjZVEQtCoL+m5doKCjcpsVRJRQVNQKCNiyQCFpQ5s057x/HN+OL00pgSQnT/L9/MGcPE2TH0lOfn3OSc4xaZomAACQjdnoAAAAXAoKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlq9EBQjt58qTREeKazWZLTU31er18CyKB8SwnA6vV6nA4GhsbVVU1Oktc6969e/tBZmBSslgsiqIYnQLRZTKZFEUxmUxGB0EU8SxfDgoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQpMSjt37iwuLg4EAkYHAQDDUGBSOnv2rNvt5uBpAJIZBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQEgUGAJCS1egAoVksFqMjxDWTySSEsFgsPFAJzGw2CyEsFov+dCMhtT3LRgeJa5qmhRyP0wKz2+2stBegv+gVRUlJSTE6C6JFf1Oz2+0drb1IAPq6bLfbOTLcBQSDwZDjcVpgPp/P6AhxTX86z50719HzigSgKIqiKD6fj7e2BGaz2ex2u8/nY12+MKfT2X6QfWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAACnF6ffAAETJTStvMjpCaB/d/5HRESCZOC2w216/raG5wegU52MFA4D4wSZEAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCJfYFu2bFm3bp2+7Ha7Z8yYMW3atD179rRdIeQgAABhifDR6Ovq6iorK2+//XYhhNfrraioKCsrs1gss2bNys3NzcjICDkY2QwAgGQQyRlYMBh84YUXHnnkEf2i2+0uKipyOp2pqanjx4+vqanpaBAAgHBFcga2YsWKkpISj8ejXzx27Fi/fv305d69e+/fv7+jQd233377/fff68sm1RTBYJGiKIrREX5gMpmEEIqixE8kRJzNZtP/1TTN6CyxkJwvZqvVKoSw2WwWi8XoLPFLVdWQ4xErMLfbfe211/bo0aOtwFRVNZt/mOFpmqY/PSEHdevXr6+srNSXzffG46dL0tLSjI7wA31VdzqdKSkpRmdBdLlcLqMjxEj8rF+x53Q6jY4Q1/x+f8jxiBXY9u3bq6ury8vLVVXVNO348eODBg2qr6/Pz88XQhw/fjw7O1sIkZWV1X5Q98ADD0yaNElfvut/7hLNkYoWMQ0N8XKSaP3pPHv27Llz54zOgmix2WxOp/Ps2bMd/fmZYOJn/Yolq9Xqcrk8Hk8wGDQ6S/zSNK1r167txyNWYCUlJSUlJUKI2trajz/+eNKkSWfOnJk7d+6IESNUVa2qqpo/f74QIj8/v/2gLiMjo+0DHZqIx20m8fMK07cpBYPB+ImEiNO3TwSDwSQpsOR8MetbpFiXL02EP4UohDCbzfpTkp6eXlxcPH36dKvVWlpaqm8JCTkIAEC4Il9g11xzzTXXXKMvDx48eNWqVeddIeQgAABhicfPSgAA0CkKDAAgJQoMACAlCgwAICUKDAAgpch/CjGBbdq0yegIP/jiiy+EEJs3b9aPQyORvn375uXlGZ0CQCKQ7O3PWEuWLDE6wv9TUVFhdISw/eQnP1m6dKnRKQAkAgosDDt37jQ6gtyefvrpzz//3OgUABIEBRaG5DxadgRxvG0AEcSHOAAAUqLAAABSosAAAFKiwAAAUqLAAABSosAAAFKiwAAAUqLAAABSosAAAFKiwAAAUqLAAABSosAAAFKiwAAAUorTo9GbTCajIyAqzGZzWlqa0SnkYDabhRAul0vTNKOzxEJyvjBqamrmzp1bXl5+9dVXG50lfrW2toYcj9MCS5I1NgmpqurxeIxOIQdFUdLS0rxer6qqRmeJheR8YXg8nhMnTni93uT87188h8PRfpBNiAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApxenpVOLT5s2bjY4gt2PHjnGiHACRQoGFYc6cOUZHkF5OTo7REQAkCDYhAgCkxAwsDNOnTzc6gty2bt3a0tJidAoACYICC8ODDz5odAS5nThxYv/+/UanAJAg2IQIAJASBQYAkBIFBgCQUsT2gamqunr16urqaofDMWHChLFjxwoh3G53eXm5qqolJSWDBg3SrxlyEACAsESswPbu3Wu1WlevXh0MBp944okhQ4akpqZWVFSUlZVZLJZZs2bl5uZmZGR4vd72g5HKAABIHhErsEGDBrVNp8xmc0pKitvtLioqcjqdQojx48fX1NSMGDEi5GCkMgBIZnv37j158qTRKcJz9OhRIcSOHTu6du1qdJbwZGZm9u/f39gMEf4Y/ZtvvrlmzZoRI0a4XK5jx47169dPH+/du7f++emQg7qVK1du2LBBXzb/jJ1ziclisTDnvkgmk0kIccUVVxgdJEYu84URCATmzp2rqmqk8sTSyy+/bHSEsF1xxRUxO7peIBAIOR7hAps0aVJRUdGzzz67e/duVVXN5h96SNM0i8UihAg5qMvMzBw4cKC+/K35WyHl6xCd0DSto9cizmOxWMxmc2tra5IcQPIyXxh+v19V1T//+c/jxo2LVCR05JVXXqmsrIzZutza2hpyPGIFtnLlysLCwpycHEVRRo8e/fXXX2dlZdXX1+fn5wshjh8/np2dLYQIOagbNWrUqFGj9OX1FetF6MCQm6qqjY2NRqeQg6IoNputqalJ0llFuC7zhaG/mSqK4nA4IpQIHVIURdO0WK7L+o6n81zUlrqmpqb6+voLHwToxhtvrKqqCgaDgUCgqqpq4MCB+fn569at8/v9zc3NVVVV+tbSkIMAAISrkxlYS0vLpEmT/vWvf+kXi4uLn3vuOUVR2l9zwIABBw4cmDp1qsvlmjJlSl5enn796dOnW63W0tJSl8slhEhPT28/CABAuDopsHnz5uXk5Hg8HqfT2dDQ8Nhjj/3lL39ZsGBB+2uaTKbJkydPnjz5x4ODBw9etWrVedcMOQgAQFg6KbDnnnuurq7ObrcLIbp27VpeXt6zZ8+QBQYAQCx1sg+sT58++md5dVarlc9AAwDiQScF9vzzz8+ZM8fn8wkhWltbFy1aVF5eHpNgAABcSCebEEeOHOnz+RYvXmyz2dp/5D9Jvp4CAIhDnRTY4cOHY5MDAICwdFJg3bt3j00OAADC0vkXmfUdYJqmbdu27fPPP49+JAAAOtfJDGz37t3Dhw/3+/3Lli2rqKgIBAILFiy45557YhMu3syZM8foCHLbv39/amqq0SkAJIhOCmzmzJn6rGvp0qXbtm1LSUkpLCyMQYFtmrwp2neha2lpefLJJ/VZZqeOiqPRznORPB5PfX19Xl5e25GRpZCenj506FCjUyS7j+7/yOgIQGR0UmB79uzJzc1tbGw8efLklVdeKYSoqamJSbAYsdvtTz31lNEpwvb+++8vXLhw0aJFIQ/rBQDJoJMCy8/PP3PmzK5duyZOnCiEOHz4sH4geQAAjNVJgT311FM5OTlNTU2ffPLJH//4xxUrVrz11luxSQYAwAV0UmCjRo365ptvAoHAVVddVVBQMHfu3G7dusUmGQAAFxC6wJqamrp06aIv6GeHa2pqGj169I9/BACAgUIXWEZGht/v1xc4ghQAIA6FLjCv13veAgAAcSV0geknAPvxAgAAcSV0gQ0fPry1tbWj3/noI74ICQAwWOgCe/HFF/UdXbt27Vq8ePGSJUtycnK++eabOXPmLFq0KLYJAQAIIXSB9e/fX1/405/+9N577+nH4Ojbt+/QoUPvv//+W2+9NXYBAQAIpZMj6W3btu3HZ1TJyMiorq6OciQAADrXyReZCwoK3n77bf04UkKId999NzbTL5vNFoN7kZfJZBJC2Gw2HqgEZrVahRA2m01VVaOzSICv98RezN5/OloFOimwF1544frrry8rK7vpppv27Nmza9euAwcORCFeu1jWToIlOf0g9GazmQcqgVksFv1fuc45YBRqPsZMJlPM3n8uscCys7Pr6uo++OADt9t90003vfPOOy6XKwrxznfu3LkY3Iu8gsGgEKKlpYW/OhOYoih2u725uZm35ovR/pALiCpN02L5Rh2yejrvT7vdPmbMmDFjxkQhEgAAl4hNEwAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApRbLAPvvsswcffHDq1KlvvPGGpmlCCLfbPWPGjGnTpu3Zs6ftaiEHAQAIizVSN+T1ep9//vlnnnkmJSXlmWee2bdvX25ubkVFRVlZmcVimTVrVm5ubkZGhtfrbT8YqQwAgOQRsRnYoUOH7rjjDpfLZbPZfvWrX33xxRdut7uoqMjpdKampo4fP76mpkYIEXIQAIBwRWwGNmDAgAEDBgghNE2rrq6+6667Pv300379+uk/7d279/79+4UQx44daz+oq6mpqa2t1ZeHDRuWkpIS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1SGBHTp0aO3atffccw/P8iVgBgYAkBIFBgCQkknTNKMzIGzNzc2NjY3dunUzmUxGZ0G0tLS0eL3erl27ms38oZmw/H6/x+NJT0+3WuN0h048o8AAAFLiLzsAgJSYtEpGVdXVq1dXV1c7HI4JEyaMHTvW6ESIoi1btng8nokTJxodBFHx6KOPHjx4UF9++eWX09PTjc0jHQpMMnv37rVaratXrw4Gg0888cSQIUN69uxpdChERV1dXWVl5e233250EESLoihvvfWW0SkkxiZEyQwaNGjq1KkWi8VisZjNZr4HlqiCweALL7zwyCOPGB0E0dLc3Oz1eh966KEHHnhg+/btRseREgUmpTfffHPChAkZGRkul8voLIiKFStWlJSUOJ1Oo4MgWs6cOeNyucrKyioqKtavX3/48GGjE8mHApPSpEmT/vnPf5pMpt27dxudBZHndruvvfbaHj16GB0EUdSrV68nn3xSURSHw3HvvfeyLl8C9oFJZuXKlYWFhTk5OYqijB49+uuvvx46dKjRoRBh27dvr66uLi8vV1VV07Tjx48//PDDRodCFAWDwS5duhidQj58D0wy+/bt27p1a0lJiaqqCxcunDJlSl5entGhEC21tbUff/zxpEmTjA6CyNuxY8eRI0cmT57s9/tnz549e/Zs5tzhYgYmmQEDBhw4cGDq1Kkul4v2Snhms5nDcCSqYcOGffXVV1OmTOnSpcu0adNor0vADAwAICX+uAMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQIDwuN2u/v16zdv3rzY3F0gELjjjjui92nh2traZ599Nko3DkQVBQaEZ8GCBQ899NAlFFhhYeF//vOfcH9ryZIls2bNit6pt3Nzcz/88MP6+voo3T4QPRQYEB6v19u3b99L+MVAIBDuRMrj8SxdurSgoOAS7u7iPf744xyqCjKiwIAw3HHHHVVVVbfffrs+Azt48GBRUVFaWlpOTs5jjz3m9/v1q50+ffq+++5LS0vLy8ubP3++qqqFhYU7duwYMWLEP/7xDyFEQ0PDAw88kJGRkZeXt2zZsmAwKIQIBoOKonzwwQc33HDDunXrhBBvvPHGjBkz2qZfJ06cmDhxotPpHD9+/JtvvllYWKiPnzt3bubMmT169MjJyVm8eLF+axeId94dDRw48O233/Z4PDF7GIHI0ACEY+zYse+++66+3LNnzw8//DAYDLa0tBQXF1dUVGia5vf7e/fu/frrrweDwaampttuu+3111/XNO3mm2/etm2bfoXMzMw1a9a0trb6fL5p06YVFxdrmtba2iqEuPfeexsbG/XbHzduXHV1tb7c0tLSvXv3jRs3BoPBurq6/Pz84cOHa5qmquqgQYOeffZZv9/v8/mmT5/+29/+9gLxQt5RQUHBli1bYvL4ARFDgQHhGTdu3Pvvv992MRAI1NXVffbZZ2PHjn300Uc1TduyZUu/fv3a/+Lw4cN37typadrmzZtvuOGGtvFTp04JIXw+n94rR44caftRWlragQMH9OX33nuvoKCg7UcbN27UC+zTTz/t1auXftx6TdP++9//CiFaW1s7iqf9X4H9+I4efvjhsrKyy3hUAAOwCRG4RJqmzZ49u1evXn/4wx+2bNnSs2dPffzLL78cNmzYBX7xyy+/HDlyZNtF/aykTU1N+sW0tLS22/d4PKmpqfrFr7/+euDAgW2/dc011+gLtbW1dXV1drtdURRFUXr16iWE8Pl8HcVr03ZHQogrrriCTYiQDkejBy7Rvn37Xnrppe+//95mswkh/v73v+tzqaysrMrKyrarzZ49u0+fPjNmzGgbyczMfPvtt9su1tXVWSyW9PT0827fZDI5HA6fz6dfTE9P/+abb9p+2rZ85ZVX9u3b9+DBg/rFzz//fOTIkS6X67PPPgsZL6TGxsa2RgRkwQwMuERWq1Xf7aRpWk1NzcKFC1taWoQQt9566549e7Zu3SqEqK2tXbJkSVFRkRDCYrF4vV4hxKhRo3bs2LF582ZN01paWubMmTNz5kyrNcRfkwUFBW1nmv/lL3+5adMm/by99fX1paWl+viQIUN8Pt+GDRv0GdtvfvObpUuXXiBeSG63+6c//WlkHx8g6gzcfAnI6Mf7wBYvXpyRkZGZmfn000/v27cvLS1NL5KDBw8WFhYqilJQULBr1y79yq+++qqiKC+++KKmabW1tePGjUtJScnOzn7mmWf0XVb6rqkzZ8603deKFSvmzZvXdnHv3r0jR45UFOWWW2558cUX23aJnTp1qqSkxOFwZGZmvvLKK23X7yjeeXekqqrD4Th16lS0HjIgOjgfGBC/PB5P//79jxw50v60lv/+97/XrVv30ksvXf697N2798knn1y/fv3l3xQQS2xCBOJXWlpaaWnp9u3bhRAnTpxQFOW7774TQpw+ffqJJ56YMmVKRO7lb3/7W3l5eURuCoglCgyIa6WlpfoH3Hv27FlVVXX33Xdbrdaf//zns2fPHjVq1OXf/qFDhwYMGJCZmXn5NwXEGJsQAQBSYgYGAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQ0v8CvENRWgS517IAAAAASUVORK5CYII=" /><!-- --></p>
<pre><code>#&gt; 288 576</code></pre>
<p>Ugh! We obviously have an indexing problem. As we discussed above this is because rasters in R are in row-major order, while their indexing functions assume column-major order. The R documentation propose that you convert the data to a regular matrix and then do your manipulations, but you usually want to ensure a good performance with filters as they are run at every draw operation, not just once. ggfx provide some setter and getter functions for rasters though so we can rewrite the above:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>fill_patch &lt;-<span class="st"> </span><span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb6-2"><a href="#cb6-2"></a>  patch &lt;-<span class="st"> </span><span class="kw">get_raster_area</span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="dt">raster =</span> x, </span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="dt">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-5"><a href="#cb6-5"></a>    <span class="dt">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="dt">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="dt">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb6-8"><a href="#cb6-8"></a>  )</span>
<span id="cb6-9"><a href="#cb6-9"></a>  patch[] &lt;-<span class="st"> </span>farver<span class="op">::</span><span class="kw">encode_native</span>(colour)</span>
<span id="cb6-10"><a href="#cb6-10"></a>  <span class="kw">set_raster_area</span>(</span>
<span id="cb6-11"><a href="#cb6-11"></a>    <span class="dt">raster =</span> x,</span>
<span id="cb6-12"><a href="#cb6-12"></a>    <span class="dt">value =</span> patch,</span>
<span id="cb6-13"><a href="#cb6-13"></a>    <span class="dt">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb6-14"><a href="#cb6-14"></a>    <span class="dt">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb6-15"><a href="#cb6-15"></a>  )</span>
<span id="cb6-16"><a href="#cb6-16"></a>}</span>
<span id="cb6-17"><a href="#cb6-17"></a></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb6-20"><a href="#cb6-20"></a>    <span class="kw">geom_boxplot</span>(),</span>
<span id="cb6-21"><a href="#cb6-21"></a>    <span class="dt">filter =</span> fill_patch,</span>
<span id="cb6-22"><a href="#cb6-22"></a>    <span class="dt">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb6-23"><a href="#cb6-23"></a>    <span class="dt">x_range =</span> <span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">250</span>),</span>
<span id="cb6-24"><a href="#cb6-24"></a>    <span class="dt">y_range =</span> <span class="kw">c</span>(<span class="dv">50</span>, <span class="dv">100</span>)</span>
<span id="cb6-25"><a href="#cb6-25"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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Nm2qrq52OBxTpkyZMGGC0YkQQ7t37/Z4PFOnTjU6CGLiscceO3HihL78wgsvpKenG5tHOhSYZI4cOWK1Wjdt2hQMBp966qlhw4ZlZmYaHQoxUVdXV1lZOX78eKODIFYURXnjjTeMTiExdiFKZsiQITNnzrRYLBaLxWw283dgySoYDK5du/bRRx81Oghi5cqVK16v9+GHH541a9a+ffuMjiMlCkxKr7/++pQpUzIyMlwul9FZEBPr168vKSlxOp1GB0GsXLx40eVylZWVVVRUbNu27auvvjI6kXwoMClNmzbtH//4h8lkOnTokNFZEH1ut7tfv349e/Y0OghiqFevXk8//bSiKA6H44EHHuC9fAM4BiaZjRs3FhYW5ubmKopyzz33nDx5cvjw4UaHQpTt27evurq6vLxcVVVN086ePfvII48YHQoxFAwGu3TpYnQK+fB3YJI5evTonj17SkpKVFVdunTpjBkz+vbta3QoxEptbe2HH344bdo0o4Mg+vbv33/69Onp06f7/f4FCxYsWLCAOXekmIFJZtCgQcePH585c6bL5aK9kp7ZbOY0HMlqxIgRn3/++YwZM7p06TJ79mza6wYwAwMASIlf7gAAUqLAAABSosAAAFKiwAAAUqLAAABSosCAyLjd7gEDBixatCg+qwsEAhMnTozdt4Vra2tXrVoVowcHYooCAyKzZMmShx9++AYKrLCw8N///nekP7Vy5cr58+fH7tLbeXl577//fn19fYweH4gdCgyIjNfr7d+//w38YCAQiHQi5fF4nn322YKCghtY3fV78sknOVUVZESBARGYOHFiVVXV+PHj9RnYiRMnioqK0tLScnNzH3/8cb/fr9/twoULDz74YFpaWt++fRcvXqyqamFh4f79+0ePHv33v/9dCNHY2Dhr1qyMjIy+ffuuXr06GAwKIYLBoKIo77333u23375161YhxGuvvTZ37tzQ9OvcuXNTp051Op2TJ09+/fXXCwsL9fHLly/PmzevZ8+eubm5K1as0B/tGvGuWtHgwYO3b9/u8Xji9jQC0aEBiMSECRPefvttfTkzM/P9998PBoMtLS3FxcUVFRWapvn9/t69e7/66qvBYLC5uflnP/vZq6++qmnayJEj9+7dq98hKytr8+bNra2tPp9v9uzZxcXFmqa1trYKIR544IGmpib98SdNmlRdXa0vt7S09OjRY+fOncFgsK6uLj8/f9SoUZqmqao6ZMiQVatW+f1+n883Z86c3/zmN9eIF3ZFBQUFu3fvjsvzB0QNBQZEZtKkSe+++27oZiAQqKur++STTyZMmPDYY49pmrZ79+4BAwa0/cFRo0Z98MEHmqbt2rXr9ttvD42fP39eCOHz+fReOX36dOi/0tLSjh8/ri+/8847BQUFof/auXOnXmAff/xxr1699PPWa5r23//+VwjR2traXjzt/xfYd1f0yCOPlJWVfY9nBTAAuxCBG6Rp2oIFC3r16vX73/9+9+7dmZmZ+vhnn302YsSIa/zgZ599NmbMmNBN/aqkzc3N+s20tLTQ43s8ntTUVP3myZMnBw8eHPqpH/zgB/pCbW1tXV2d3W5XFEVRlF69egkhfD5fe/FCQisSQnTt2pVdiJAOZ6MHbtDRo0c3bNjw7bff2mw2IcTf/vY3fS6VnZ1dWVkZutuCBQv69Okzd+7c0EhWVtb27dtDN+vq6iwWS3p6+lWPbzKZHA6Hz+fTb6anp586dSr0v6Hlm266qX///idOnNBvfvrpp2PGjHG5XJ988knYeGE1NTWFGhGQBTMw4AZZrVb9sJOmaTU1NUuXLm1paRFC3H333YcPH96zZ48Qora2duXKlUVFRUIIi8Xi9XqFEGPHjt2/f/+uXbs0TWtpaXniiSfmzZtntYb5bbKgoCB0pfmf/vSnb731ln7d3vr6+tLSUn182LBhPp9vx44d+ozt17/+9bPPPnuNeGG53e4f/vCH0X1+gJgzcPclIKPvHgNbsWJFRkZGVlbW//3f/x09ejQtLU0vkhMnThQWFiqKUlBQcPDgQf3OL7/8sqIo69at0zSttrZ20qRJKSkpOTk5y5cv1w9Z6YemLl68GFrX+vXrFy1aFLp55MiRMWPGKIpy1113rVu3LnRI7Pz58yUlJQ6HIysr66WXXgrdv714V61IVVWHw3H+/PlYPWVAbHA9MCBxeTyegQMHnj59uu1lLf/1r39t3bp1w4YN338tR44cefrpp7dt2/b9HwqIJ3YhAokrLS2ttLR03759Qohz584pivL1118LIS5cuPDUU0/NmDEjKmv561//Wl5eHpWHAuKJAgMSWmlpqf4F98zMzKqqqvvuu89qtf74xz9esGDB2LFjv//jf/nll4MGDcrKyvr+DwXEGbsQAQBSYgYGAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQ0v8DQAM6CvAYAP4AAAAASUVORK5CYII=" /><!-- --></p>
<div id="detour-escaping-pixel-values" class="section level3">
<h3>Detour: Escaping pixel values</h3>
<p>In our filter above we are giving the x-, and y-range in pixels. In the filters built into ggfx you can use either pixel values or a unit object, which also makes sense to do here as the placement of the patch would otherwise be dependent on the exact rendering size of the plot. To make your filter work with unit specifications you simple convert the input with <code>to_pixels()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>fill_patch &lt;-<span class="st"> </span><span class="cf">function</span>(x, colour, x_range, y_range) {</span>
<span id="cb7-2"><a href="#cb7-2"></a>  x_range &lt;-<span class="st"> </span><span class="kw">to_pixels</span>(x_range, <span class="dt">location =</span> <span class="ot">TRUE</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a>  y_range &lt;-<span class="st"> </span><span class="kw">sort</span>(<span class="kw">to_pixels</span>(y_range, <span class="dt">y_axis =</span> <span class="ot">TRUE</span>, <span class="dt">location =</span> <span class="ot">TRUE</span>))</span>
<span id="cb7-4"><a href="#cb7-4"></a>  patch &lt;-<span class="st"> </span><span class="kw">get_raster_area</span>(</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="dt">raster =</span> x, </span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="dt">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="dt">ymin =</span> y_range[<span class="dv">1</span>],</span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="dt">xmax =</span> x_range[<span class="dv">2</span>],</span>
<span id="cb7-9"><a href="#cb7-9"></a>    <span class="dt">ymax =</span> y_range[<span class="dv">2</span>]</span>
<span id="cb7-10"><a href="#cb7-10"></a>  )</span>
<span id="cb7-11"><a href="#cb7-11"></a>  patch[] &lt;-<span class="st"> </span>farver<span class="op">::</span><span class="kw">encode_native</span>(colour)</span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="kw">set_raster_area</span>(</span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="dt">raster =</span> x,</span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="dt">value =</span> patch,</span>
<span id="cb7-15"><a href="#cb7-15"></a>    <span class="dt">xmin =</span> x_range[<span class="dv">1</span>], </span>
<span id="cb7-16"><a href="#cb7-16"></a>    <span class="dt">ymin =</span> y_range[<span class="dv">1</span>]</span>
<span id="cb7-17"><a href="#cb7-17"></a>  )</span>
<span id="cb7-18"><a href="#cb7-18"></a>}</span>
<span id="cb7-19"><a href="#cb7-19"></a></span>
<span id="cb7-20"><a href="#cb7-20"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb7-21"><a href="#cb7-21"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb7-22"><a href="#cb7-22"></a>    <span class="kw">geom_boxplot</span>(),</span>
<span id="cb7-23"><a href="#cb7-23"></a>    <span class="dt">filter =</span> fill_patch,</span>
<span id="cb7-24"><a href="#cb7-24"></a>    <span class="dt">colour =</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb7-25"><a href="#cb7-25"></a>    <span class="dt">x_range =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="fl">0.3</span>, <span class="fl">0.7</span>), <span class="st">&#39;npc&#39;</span>),</span>
<span id="cb7-26"><a href="#cb7-26"></a>    <span class="dt">y_range =</span> <span class="kw">unit</span>(<span class="kw">c</span>(<span class="fl">0.4</span>, <span class="fl">0.6</span>), <span class="st">&#39;npc&#39;</span>)</span>
<span id="cb7-27"><a href="#cb7-27"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAIAAADT5FumAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAcFklEQVR4nO3df3AU9eH/8ff92kuOu5jwI4KJiSTSQTJUlF9VSEuqQMsvQ1EGpOMYBmjTWk1bBkW0paMjPwoZIIFRKAiCRqQg01gwREflh1P5IcoRVNSoCJhQIOEuOchd7vbzx/Z745dcEg7vbu99eT7+YHbfudy+Zpe7V3b3btegqqoAAEA2Rr0DAABwPSgwAICUKDAAgJQoMACAlCgwAICUKDAAgJTMegcI7fz583pHiGsWiyU5OdntdvMtiATGVu4KzGazzWZramoKBAJ6Z4lrPXv2bDvIHpiUTCaToih6p0B0GQwGRVEMBoPeQRBFbOUfggIDAEiJAgMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQKT0vvvv19UVOTz+fQOAgC6ocCkdOnSJafTycXTAHRlFBgAQEoUGABAShQYAEBKFBgAQEoUGABAShQYAEBKFBgAQEoUGABAShQYAEBKZr0DhGYymfSOENcMBoMQwmQysaISmNFoFEKYTCZtcyMhBbey3kHimqqqIcfjtMCsVisv2g5o/+kVRUlKStI7C6JFe1OzWq3tvXqRALTXstVq5cpwHfD7/SHH47TAPB6P3hHimrY5L1++3N52RQJQFEVRFI/Hw1tbArNYLFar1ePx8FrumN1ubzvIOTAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUIl9g1dXV27dv16adTuecOXNmzZp15MiR4ANCDgIAEBZzZJ+urq6uoqJi3LhxQgi3211eXl5aWmoymebNm5eTk5OWlhZyMLIZAABdQST3wPx+/9q1ax977DFt1ul0FhYW2u325OTkSZMm1dTUtDcIAEC4IrkHtn79+uLiYpfLpc2eOXOmf//+2nSfPn2OHz/e3qDmq6+++u6777Tpfv36Wa3WCGZLMAaDQQihKIqiKHpnQbRYLBbtX1VV9c6CaDGbzUIIi8ViMpn0zhK/AoFAyPGIFZjT6bz11lt79eoVLLBAIGA0/m8PT1VVbfOEHNTs2LGjoqJCm37zzTdTUlIilS3xaL1lt9uTkpL0zoLocjgcekdA1Nntdr0jxDWv1xtyPGIFtn///qqqqrKyskAgoKrq2bNnBw8eXF9fn5eXJ4Q4e/ZsVlaWECIzM7PtoGbmzJlTp04NzjY0NEQqW+LRNuelS5cuX76sdxZEi8Visdvtly5dau/PTyQAs9nscDhcLpff79c7S/xSVbV79+5txyNWYMXFxcXFxUKI2traw4cPT506tbGxccGCBSNHjgwEApWVlYsWLRJC5OXltR3UpKWlBT/Qcf78eTZnB7RjSn6/n7WUwLTjE36/nwJLYNoRKV7L1yfCn0IUQhiNRm2TpKamFhUVzZ4922w2l5SUaEdCQg4CABCuyBfYLbfccsstt2jTQ4YM2bRp01UPCDkIAEBYuBIHAEBKFBgAQEoUGABAShQYAEBKFBgAQEqR/xSiXFRVPXDgQFNTk95BwvPpp58KIfbs2aNdh0Yi/fr1y83N1TsFgERgiM/LrJ0/fz42C/ruu++KiopisywIIX70ox+tWrVK7xRyUBQlJSXl4sWLfJE5gVkslhtuuKGhoYEvMnesZ8+ebQcl+/s94lpbW4UQK1euHDp0qN5ZEt9zzz33ySef6J0CQILo6gWmsVgsXNY9BrjeNoAI4kMcAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApUWAAAClRYAAAKVFgAAApxenV6B0Oh8FgiMGC7HZ7DJaCIKPRmJKSoncKORiNRiGEw+GIz5v2ISJqamoWLFhQVlZ28803650lfmn3vWorTgvM7XbHZkHS3YtZdoFAwOVy6Z1CDtoNLd1uNze0TGAul+vcuXNut5vXRcdsNlvbQQ4hAgCkRIEBAKREgQEApESBAQCkRIEBAKREgQEApESBAQCkRIEBAKREgQEApESBAQCkRIEBAKREgQEApESBAQCkRIEBAKQUp7dTibHDhw83NjbqnSLxnTlzhltbAYgUCkwIITZs2KB3hK4iOztb7wgAEgQFhlhomNbwvwnRMHzjcH3DIOF98PAHekdALFBgQggxbty4jIwMvVMksqXupXpHAJBoKDAhhJgwYcKwYcP0TpHIli6jwABEGJ9CBABIiQIDAEiJAgMASCli58ACgcDmzZurqqpsNtvkyZPHjx8vhHA6nWVlZYFAoLi4ePDgwdojQw4CABCWiBXY0aNHzWbz5s2b/X7/008/PXTo0OTk5PLy8tLSUpPJNG/evJycnLS0NLfb3XYwUhkAAF1HxAps8ODBwd0po9GYlJTkdDoLCwvtdrsQYtKkSTU1NSNHjgw5GKkMACCEqK6u1jvCtTp9+rQQ4sCBA927d9c7S3gyMjIGDBigb4YIf4z+tdde27Jly8iRIx0Ox5kzZ/r376+N9+nT5/jx40KIkIOajRs37tq1S5tevXp1bDbnpUuXYrAUALG0fPlyvSOE58UXX9Q7QthuuOGGPXv2xGZZPp8v5HiEC2zq1KmFhYUrV648dOhQIBAwGv/3IRFVVU0mkxAi5KAmIyNj0KBB2rTBYGgvcWS1trbGYCkAYmnv3r16R0hwL730UkVFRWzepUX7b9QRK7CNGzcWFBRkZ2crijJmzJgvvvgiMzOzvr4+Ly9PCHH27NmsrCwhRMhBzejRo0ePHq1Nnz9/vqmpKVLZOuDxeGKwFACxZLPZ9I6Q4BRFUVU1Nu/SGu3E01Wu6WP0zc3N9fX1LS0tHTzmzjvvrKys9Pv9Pp+vsrJy0KBBeXl527dv93q9V65cqays1I6WhhwEACBcneyBtbS0TJ069V//+pc2W1RU9PzzzyuK0vaRAwcOPHHixIwZMxwOx/Tp03Nzc7XHz54922w2l5SUOBwOIURqamrbQQAAwtVJgS1cuDA7O9vlctnt9oaGhieeeOIvf/nL4sWL2z7SYDBMmzZt2rRp3x8cMmTIpk2brnpkyEEAAMLSSYE9//zzdXV1VqtVCNG9e/eysrL09PSQBQYAQCx1cg6sb9++BoMhOGs2m/neMQAgHnRSYC+88MKTTz6pfVSvtbV16dKlZWVlMQkGAEBHOjmEOGrUKI/Hs3z5covF0vYj/6qqRi0YAAAd6aTAvvnmm9jkAAAgLJ0UWM+ePWOTAwCAsHT+RWbtBJiqqvv27fvkk0+iHwkAgM51sgd26NChESNGeL3e1atXl5eX+3y+xYsXP/DAA7EJFzPr16/fuXOn3ikSmmQX2gYggU4KbO7cudpe16pVq/bt25eUlFRQUJBIBZaenj5kyBCPx6Pd1EAWLpervr4+Nzc3eGXkeEeBAYi0TgrsyJEjOTk5TU1N58+fv/HGG4UQNTU1MQkWI1ar9dlnn9U7RdjeeeedJUuWLF26NORlveLQ8I3D9Y4AINF0UmB5eXmNjY0HDx6cMmWKEOKbb77RLiQPAIC+OimwZ599Njs7u7m5+cMPP/zTn/60fv36119/PTbJAADoQCcFNnr06C+//NLn89100035+fkLFizo0aNHbJIBANCB0AXW3NzcrVs3bUK7NVxzc/OYMWO+/yMAAHQUusDS0tK8Xq82wRWkAABxKHSBud3uqyYAAIgroQtMuwHY9ycAAIgroQtsxIgRra2t7f3OBx98ELU8AABck9AFtm7dOu1E18GDB5cvX75ixYrs7Owvv/zyySefXLp0aWwTAgAQQugCGzBggDbx5z//+e2339auwdGvX79hw4Y9/PDD9957b+wCAgAQSidX0tu3b9/376iSlpZWVVUV5UgAAHSuky8y5+fn79y5U7uOlBDirbfeis3ul8ViicFS5GUwGIQQFouFFQVALzF7/wkEAiHHOymwtWvX3n777aWlpcOHDz9y5MjBgwdPnDgRhXhtYpk7CdbFaRehNxqNrCgAujAYDDF7/7nOAsvKyqqrq3v33XedTufw4cPfeOMNh8MRhXhXu3z5cgyWIi+/3y+EaGlp4UvlAHShqmos36hDVk/n/Wm1WseOHTt27NgoRAIA4DpJcjtEAAD+fxQYAEBKFBgAQEoUGABAShQYAEBKFBgAQEoUGABAShQYAEBKFBgAQEpcSQ+x8MHD3AQ1bIqipKSkXLx4sb0LweH7fD7fxIkTFyxYMHnyZL2zIEbYAwMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQIDAEiJAgMASCmSBfbxxx//5je/mTFjxtatW1VVFUI4nc45c+bMmjXryJEjwYeFHAQAICwRuxai2+1+4YUXli1blpSUtGzZsmPHjuXk5JSXl5eWlppMpnnz5uXk5KSlpbnd7raDkcoAAOg6IrYH9vXXX0+YMMHhcFgsll/+8peffvqp0+ksLCy02+3JycmTJk2qqakRQoQcBAAgXBHbAxs4cODAgQOFEKqqVlVV/epXv/roo4/69++v/bRPnz7Hjx8XQpw5c6btoKampqa2tlabvuuuu5KSkiKVLfGYTCYhhKIorKUEZjabhRBWq1U7II+OGY2c0Y+1mL3/+P3+kOMRvp3Kt99+W1ZWNmnSpH79+n344YfB/1KqqmrvuYFAoO2g5s0336yoqAhO2+32yGZLJNpbm91up8ASXrdu3fSOIAev16t3hK7FYDDE7F26vY0byQLbtm3buXPnFi5caLPZhBCZmZn19fV5eXlCiLNnz2ZlZbU3qPnDH/5QXFysTTc3N1+4cCGC2RJMS0uLEKKhoUFRFL2zIFoURXE4HA0NDdwP7Fr4fD69I3QtqqrG8l26R48ebQcjVmC1tbWNjY2///3vgyN5eXkLFiwYOXJkIBCorKxctGhRe4MaRVGCb8cej4fDJp1SVZW1lMC0jctWvkaspdjTfZ1HrMCcTucbb7yxa9cubfbXv/71lClTioqKZs+ebTabS0pKHA6HECI1NbXtIAAA4YpYgd1333333XffVYNDhgzZtGnTtQwCABAWPrcDAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQEgUGAJASBQYAkBIFBgCQEgUGxKlAINDa2qr7HSuAuEWBAXHqwIEDP/nJT7izK9AeCgwAICUKDAAgpYjd0BKIW6qqbtmypaGhQe8g4amvrxdCrF+/3mq16p0lPLfddtvo0aP1ToHER4Eh8TU2Nr788su9evWy2+16ZwlP3759a2tr9U4RngsXLhw6dIgCQwxQYOgq5s6de8899+idIvGtWLFiz549eqdAl8A5MACAlCgwAICUKDAAgJTi9ByYw+EwGAx6p4hfFotFCGG325OSkvTOIoHW1la9I3QtBoMhJSUlxgv1er0xXmIXF8ut3N5LOE4LzO126x0hrvl8PiFEU1MTL9prwX+nGFNV1eVyxXih2ouioaHh9OnTMV50F3Tp0qUYb2WbzdZ2ME4LDACuw5o1a9asWaN3ii5BURS9I3AODAAgJ/bAACSO3NzcG2+8Ue8Uie/06dPalWL0RYEBSBzTpk2bPHmy3ikS34YNGzZu3Kh3Cg4hAgDkRIEBAKREgQEApMQ5MHQV77333pkzZ/ROkfhqamr8fr/eKdAlUGDoKnbt2qV3hK6ie/fuekdAl8AhRACAlNgDQ1dx//3333bbbXqnSHzV1dWff/653inQJVBg6CqGDh3KDS1j4KuvvpLuLtKQFIcQAQBSosAAAFLiEKKUbDZbVlYWt0wDrrJo0aKlS5fqnSIMqqoaDAbtX72zhMHv94e8v0mMUWBS+tnPfjZ+/PgLFy6oqqp3FiAuWCyWp556Kh6uMBuWurq6ysrKBx54IDU1Ve8s4cnKytI7AgUGIFGMHDlS7whhq6mpqaysHDt2bGZmpt5Z5MM5MACAlCgwAICUKDAAgJQoMACAlCgwAICUIllgqqrW19fPnTs3OOJ0OufMmTNr1qwjR450PAgAQFgi+TH6GTNmNDU13Xzzzdqs2+0uLy8vLS01mUzz5s3LyclJS0sLORjBDACALiKSe2CvvPLK1q1bg7NOp7OwsNButycnJ0+aNKmmpqa9QQAAwhXhLzJ//2ooZ86c6d+/vzbdp0+f48ePtzeoWbNmzY4dO7TpioqKHj16RDZbItHWMzuv14jrlcSY0WjknpbXSLsgk91uZ411wOfzhRyP4pU4AoGA0fi/PTxVVU0mU3uDmkGDBgVnDQbDlStXopdNdmazWVEUVtE1amlp0TtC16KqKv85r1Fra6sQwufzscY64Pf7rVZr2/EoFlhmZmZ9fX1eXp4Q4uzZs9qFs0IOau6+++67775bmz5//rzH44leNtklJSUpinL58mX2La7F5cuX9Y7Qtaiqyuv3Gnm9XiFES0sLa6xjDoej7WAUP0afl5e3fft2r9d75cqVysrKAQMGtDcIAF3TTTfd9Oijj0p3Jd84EcU9sNTU1KKiotmzZ5vN5pKSEq0/Qw4CQNeUnp7+0EMPNTQ0+P1+vbPIJ8IFlpSUtHr16uDskCFDNm3adNVjQg4CABAWrsQBAJASBQYAkBIFBgCQEgUGAJASBQYAkFIUP0YPxJW9e/fW1dXpnSLxnThxQu8I6CooMCQ+m83Ws2fP3bt37969W+8sXcKdd96pdwR0CRQYEp/Vat2yZYveKcL2wQcf/PWvf33llVe4zCsQEufAAABSosAAAFKiwIA4lZmZ+fDDDycnJ+sdBIhTnAMD4lTfvn1vv/32ixcvBgIBvbMA8Yg9MACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgJQoMCk5nc4lS5Z4vV69gyCKPv/88yVLljQ1NekdBFF06tSpJUuWXLx4Ue8gUorTS0n17NlT7whx7f3339+2bdtjjz2WlJSkdxZEy7Fjx7Zt21ZUVMTLIYF9/fXX27Zte+CBB9jK14E9MACAlCgwAICUDKqq6p0BYbty5UpTU1OPHj0MBoPeWRAtLS0tbre7e/fuRiN/aCYsr9frcrlSU1PN5jg9oRPPKDAAgJT4yw4AICV2WiUTCAQ2b95cVVVls9kmT548fvx4vRMhiqqrq10u15QpU/QOgqh4/PHHT548qU2/+OKLqamp+uaRDgUmmaNHj5rN5s2bN/v9/qeffnro0KHp6el6h0JU1NXVVVRUjBs3Tu8giBZFUV5//XW9U0iMQ4iSGTx48IwZM0wmk8lkMhqNfA8sUfn9/rVr1z722GN6B0G0XLlyxe12P/LIIzNnzty/f7/ecaREgUnptddemzx5clpamsPh0DsLomL9+vXFxcV2u13vIIiWxsZGh8NRWlpaXl6+Y8eOb775Ru9E8qHApDR16tR//vOfBoPh0KFDemdB5DmdzltvvbVXr156B0EU9e7d+5lnnlEUxWazPfjgg7yWrwPnwCSzcePGgoKC7OxsRVHGjBnzxRdfDBs2TO9QiLD9+/dXVVWVlZUFAgFVVc+ePfvoo4/qHQpR5Pf7u3XrpncK+fA9MMkcO3Zs7969xcXFgUBgyZIl06dPz83N1TsUoqW2tvbw4cNTp07VOwgi78CBA6dOnZo2bZrX650/f/78+fPZ5w4Xe2CSGThw4IkTJ2bMmOFwOGivhGc0GrkMR6K66667Pv/88+nTp3fr1m3WrFm013VgDwwAICX+uAMASIkCAwBIiQIDAEiJAgMASIkCAwBIiQIDwuN0Ovv3779w4cLYLM7n802YMCF6nxaura1duXJllJ4ciCoKDAjP4sWLH3nkkesosIKCgv/85z/h/taKFSvmzZsXvVtv5+TkvPfee/X19VF6fiB6KDAgPG63u1+/ftfxiz6fL9wdKZfLtWrVqvz8/OtY3LV76qmnuFQVZESBAWGYMGFCZWXluHHjtD2wkydPFhYWpqSkZGdnP/HEE16vV3vYxYsXH3rooZSUlNzc3EWLFgUCgYKCggMHDowcOfIf//iHEKKhoWHmzJlpaWm5ubmrV6/2+/1CCL/fryjKu+++e8cdd2zfvl0IsXXr1jlz5gR3v86dOzdlyhS73T5p0qTXXnutoKBAG798+fLcuXN79eqVnZ29fPly7dk6iHfVggYNGrRz506XyxWz1QhEhgogHOPHj3/rrbe06fT09Pfee8/v97e0tBQVFZWXl6uq6vV6+/Tp8+qrr/r9/ubm5l/84hevvvqqqqp33333vn37tAdkZGRs2bKltbXV4/HMmjWrqKhIVdXW1lYhxIMPPtjU1KQ9/8SJE6uqqrTplpaWnj177t692+/319XV5eXljRgxQlXVQCAwePDglStXer1ej8cze/bs3/3udx3EC7mg/Pz86urqmKw/IGIoMCA8EydOfOedd4KzPp+vrq7u448/Hj9+/OOPP66qanV1df/+/dv+4ogRI95//31VVffs2XPHHXcExy9cuCCE8Hg8Wq+cOnUq+KOUlJQTJ05o02+//XZ+fn7wR7t379YK7KOPPurdu7d23XpVVf/73/8KIVpbW9uLp/6/Avv+gh599NHS0tIfsFYAHXAIEbhOqqrOnz+/d+/ef/zjH6urq9PT07Xxzz777K677urgFz/77LNRo0YFZ7W7kjY3N2uzKSkpwed3uVzJycna7BdffDFo0KDgb91yyy3aRG1tbV1dndVqVRRFUZTevXsLITweT3vxgoILEkLccMMNHEKEdLgaPXCdjh07tmHDhu+++85isQgh/v73v2v7UpmZmRUVFcGHzZ8/v2/fvnPmzAmOZGRk7Ny5MzhbV1dnMplSU1Oven6DwWCz2Twejzabmpr65ZdfBn8anL7xxhv79et38uRJbfaTTz4ZNWqUw+H4+OOPQ8YLqampKdiIgCzYAwOuk9ls1k47qapaU1OzZMmSlpYWIcS999575MiRvXv3CiFqa2tXrFhRWFgohDCZTG63WwgxevToAwcO7NmzR1XVlpaWJ598cu7cuWZziL8m8/Pzg3ea//nPf/7mm29q9+2tr68vKSnRxocOHerxeHbt2qXtsf32t79dtWpVB/FCcjqdP/7xjyO7foCo0/HwJSCj758DW758eVpaWkZGxnPPPXfs2LGUlBStSE6ePFlQUKAoSn5+/sGDB7UHv/zyy4qirFu3TlXV2traiRMnJiUlZWVlLVu2TDtlpZ2aamxsDC5r/fr1CxcuDM4ePXp01KhRiqLcc88969atC54Su3DhQnFxsc1my8jIeOmll4KPby/eVQsKBAI2m+3ChQvRWmVAdHA/MCB+uVyuAQMGnDp1qu1tLf/9739v3759w4YNP3wpR48efeaZZ3bs2PHDnwqIJQ4hAvErJSWlpKRk//79Qohz584pivLtt98KIS5evPj0009Pnz49Ikv529/+VlZWFpGnAmKJAgPiWklJifYB9/T09MrKyvvvv99sNv/0pz+dP3/+6NGjf/jzf/311wMHDszIyPjhTwXEGIcQAQBSYg8MACAlCgwAICUKDAAgJQoMACAlCgwAICUKDAAgpf8DqRo09l7cSxsAAAAASUVORK5CYII=" /><!-- --></p>
<p>We now have a filter function were you can use non-pixel units for specifying the patch location. If you look at the changes you see that we sort the <code>y_range</code> parameter after we convert it to pixels - why is that? This is because grid uses a coordinate system that starts at the bottom left corner and moves up and to the right, whereas matrix indexing is based on the top-left corner moving down and to the right instead. This means that our y_range becomes flipped when we convert it to pixel locations and the lowest values is suddenly the highest.</p>
</div>
</div>
<div id="finding-the-viewport" class="section level2">
<h2>Finding the viewport</h2>
<p>While some filters donâ€™t really care about what part of the given raster is in the current viewport, others might do: Consider this simple flip filter (were we also use <code>index_raster()</code> as a direct replacement for <code>[,]</code> indexing):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>flip_image &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">horizontal =</span> <span class="ot">TRUE</span>) {</span>
<span id="cb8-2"><a href="#cb8-2"></a>  dims &lt;-<span class="st"> </span><span class="kw">dim</span>(x)</span>
<span id="cb8-3"><a href="#cb8-3"></a>  rows &lt;-<span class="st"> </span><span class="kw">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb8-4"><a href="#cb8-4"></a>  cols &lt;-<span class="st"> </span><span class="kw">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb8-6"><a href="#cb8-6"></a>    cols &lt;-<span class="st"> </span><span class="kw">rev</span>(cols)</span>
<span id="cb8-7"><a href="#cb8-7"></a>  } <span class="cf">else</span> {</span>
<span id="cb8-8"><a href="#cb8-8"></a>    rows &lt;-<span class="st"> </span><span class="kw">rev</span>(rows)</span>
<span id="cb8-9"><a href="#cb8-9"></a>  }</span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="kw">index_raster</span>(x, cols, rows)</span>
<span id="cb8-11"><a href="#cb8-11"></a>}</span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb8-15"><a href="#cb8-15"></a>    <span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">as.factor</span>(gear))),</span>
<span id="cb8-16"><a href="#cb8-16"></a>    <span class="dt">filter =</span> flip_image</span>
<span id="cb8-17"><a href="#cb8-17"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAEgCAIAAADT5FumAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVR4nO3de1wU9f4/8M/szC7ssruwioihoBDnYSIcjLyDD8jQ8kIYRZqdjnjEIs1IPRqSHcxTXlIeKmjlLcvOMS05/sS8UV9v2EUjlAVUUvJyRCAQ5LLALrvz+2P8bn5luenuzM7u6/lHj5kPM/N577Ty4jNXimVZAgAAIDYSoQsAAAB4EAgwAAAQJQQYAACIEgIMAABECQEGAACihAADAABRYoQuwLKqqiqhS7AVhUJBCNHpdEIX4ixcXV0ZhmloaBC6EGchk8lcXV3r6uqELsSGPD09hS4BCLHbAHNgUqkU997xiWEYqVQqdBVOhKZp7HDgBw4hAgCAKCHAAABAlBBgAAAgSggwAAAQJQQYAACIEgIMAABECQEGAACihAADAABRQoABAIAoIcAAAECUEGAAACBKCDAAABAlBBgAAIgSAgwAAEQJAQYAAKKEAAMAAFFCgAEAgCghwAAAQJQQYAAAIEoIMAAAECVG6AIso2la6BJshaIo4tAf0N5gh/NMIpFQFOXAO9xoNApdAtxlpwHm4uLC/d5xPBKJhGVZV1dXoQtxFjRNUxSFHc4bhmEIIQ68w5uamoQuAe6y0wDT6XRCl2ArDMOwLNvY2Ch0Ic5CqVRKpVLscN7I5XKGYbDDgQc4BwYAAKKEAAMAAFFCgAEAgCghwAAAQJQQYAAAIEoIMAAAECUEGAAAiBICDAAARAkBBgAAooQAAwAAUUKAAQCAKCHAAABAlBBgAAAgSggwAAAQJQQYAACIEgIMAABECQEGAACihAADAABRQoABAIAoIcAAAECUEGAAACBK1g+wnJycvXv3ctNarXb27NmzZs3Ky8szL2CxEQAAoFsY626uvLx8165dEyZMIITU19dnZmamp6fTNL1o0SJ/f3+NRmOx0bo1AACAM7DmCMxoNG7evPnNN9/kZrVabWxsrFKplMvlMTExRUVF7TUCAAB0lzVHYNu2bUtKSqqrq+Nmb968OXDgQG66T58+hYWF7TVyfvvtt1u3bnHTgYGBLi4uVqzNflAURVGUTCYTuhBnIZFIsMP5RNO0Y+9wg8EgdAlwl9UCTKvVPvroo7169TIHmMlkkkjujvBYlqVpur1GTlZW1q5du7jpw4cPq9Vqa9Vmhxz709kh7HCeOfAOr6mpEboEuMtqAZabm3vkyJGMjAyTycSybFlZWVhYWEVFRVBQECGkrKzM19eXENK3b9+2jZyZM2fGx8ebZx31W6JSqViWbWhoELoQZ6FQKBiGMf9dBbbm6uoql8sd9d8vIcRoNApdAtxltQBLSkpKSkoihJSWlv7888/x8fG1tbWpqanh4eEmkyk7O3vFihWEkKCgoLaNHI1GY76go6qqylG/JSzLsizrqJ/ODrEsS/BLh0fcn7DY4cADK1+FSAiRSCTcQUIPD4+EhITExESGYZKTk1UqVXuNAAAA3UVxf5/am6qqKqFLsBV3d3eWZXFEizdKpVIqlTrwES17I5fLFQpFdXW10IXYkKenp9AlACF4EgcAAIgUAgwAAEQJAQYAAKKEAAMAAFFCgAEAgChZ/zJ6AAB+XLx48erVqzx3OmbMGJ57hPYgwABArNasXv3fsjKeOw0JCbn3EUIgIAQYAIiV0WCI6+s9N3AAn53q5a58dgcdQIABgIgxEolMQvHZo4HX3qAjuIgDAABECQEGAACihAADAABRQoABAIAoIcAAAECUEGAAACBKCDAAABAlBBgAAIgSAgwAAEQJAQYAAKKEAAMAAFFCgAEAgCghwAAAQJTs9Gn0KpWKohzzmc80TRNC1Gq10IXwKi4u7uWXX54yZQr/XTMMQ1GUs+1wAdE0zdsOF+S3hEQi8N/9Wq32hRdemDp1alpaGg/dGQyGKVOmZGdn225vl5aWZmdnv/nmm91d0U4DrL6+XugSbMXd3Z1l2bq6OqEL4VVVVVVNTY0gn1qpVEqlUmfb4QKSy+UKhYKfHc6yLA+93MdkMvHf6b1Wrlw5d+7cuXPndnfFqKioFStWjBgxoltrrVu3btGiRTb9W8Hf3//EiRNTp07t3bt3t1bEIUQAADGpr68PDAx8gBUNBkN3I7+urm7Dhg0REREP0F23vPPOO/PmzevuWggwAAC+lZSUxMbGqtVqPz+/t99+W6/Xc+3ffffdiBEj3NzcwsPDf/zxx7YrTpo0KTs7e8KECdzxw/a2c/v27VdeeUWtVgcEBKxYscJkMkVFRZ0+fTo8PHzr1q2EkJqampkzZ2o0moCAgI0bNxqNRkKI0WiUyWTHjx8fMmTI3r17CSG7d++ePXu2efhVWVkZFxenVCpjYmL27NkTFRXFtTc1NS1cuLBXr15+fn5r167lttZBeW07Cg0N3bdvX3cH7ggwAAC+RUREzJ8/v7a29tdff62srNyyZQshpLq6+tlnnz148GBDQ8Pnn38+ZsyYxsbG+1Y8cODAxIkTjx49ygWYxe0YDIbBgwdPnDixtrZWq9WePHnyq6++Onbs2KhRo06cODFr1iyDwRAcHDx27NiqqqrCwsJz584lJiZy2zcYDFu2bMnNzY2LiyOEZGdnDx8+nPuRXq8PCgpKTEysq6vbsmXLe++9ZzAYCCEsy0ZERPj6+paVlV28ePHSpUvmsZTF8ix2JJFIhg8ffubMmW7tRgQYAADfKioqRo0a9fvvv1+8eLGysvLGjRuEEIPB0NTU9OOPPzY2Nvr7++v1ejc3t7brSiQS7lqw9rZz4sQJd3f3F198USKRKBSKQ4cOvfjii4QQiqK4FY8fP+7l5TV9+nSapuVy+apVqz799NOmpiZumytXrjT3e+LEiX79+nHTubm5jz322NNPPy2RSHr37r1mzRquvaCg4ObNm2+88YZUKpXL5R988MGmTZu4QZjF8szu7YgQMmTIEK1W263diAADAOAVy7IpKSne3t5vvfVWTk6Ol5cX1+7t7X3u3Ll9+/b1798/MDBww4YNHV8w0t52Ll26NHLkyA5WvHTpUmRkpHlWpVIRQsyjPfMVpNzlZnK5nJu9fPlyaGioea3+/ftzE6WlpeXl5S4uLjKZTCaTeXt7E0J0Ol175Zndd6mqu7t7dw8h2ulViAAAjqqgoGD79u23bt2SSqWEkA8//LC6upoQkp2dnZOTs3nz5s2bN1dUVDz55JMhISH3Jk0Xt9O3b99du3aZF0tJSRkwYMDs2bPNLT4+Pvv27TPPlpeX0zTt4eFx3/YpilIoFDqdjpv18PC4cuWK+afm6d69ewcGBpaUlHCzFy5ciIyMVKlU58+ft1heexoaGsyh2EUYgQEA8IphGL1ez41RioqKVq1a1dLSQggJDw/fsWPHb7/9RghxdXU1GAyenp4PsJ2nnnoqLy/v5MmThJDS0tJ169bFxsYSQmia5u5Qio6OPn369NGjR1mWbWlpWbJkycKFCxnGwngmIiLi2rVr3PSTTz55+PDhs2fPEkIqKiqSk5O59qFDh+p0uoMHD3Ijttdee23Dhg0dlNcerVYbEhLSrT2JAAMA4FVQUNDSpUsHDBjQr1+//fv3Hzt2bPv27YcOHdJoNPv373/hhRdcXFwiIyOXL18+ePBgbpXnnntu1apVXdyOm5tbQUFBWlqai4vLjBkzTp48yR2+e/XVVydPnrx161alUllcXJyZmalQKP70pz+Fhoa+//77FkuNj483X1jh6emZl5e3aNEiFxeX6dOnL168mLunWyqVFhQUHDhwQKlUDho0aNasWdwpt/bKs9gRy7Lff/99dwOMEuROwE5VVVUJXYKtOOeNzJMnT/7rX//6/PPP8981dyNzTU0N/107J+5G5o4PFllLwl/+MkYunRfYn4e+zBoT5/Z49E989iigurq6QYMGXb9+ve3zR7755pu9e/du377dKh3l5+cvX748KyurW2thBAYAAJap1erk5OTc3FxCSGVlpUwm464kvH379tKlS6dNm2atjpYtW5aRkdHdtRBgAADQruTk5PT0dJZlvby8srOzn3/+eYZhxowZk5KSEh0dbZUurl69Ghwc7OPj090VcRUiAAC0i2EY8yWL48ePHz9+vNW76N+///Llyx9gRYzAAABAlBBgAAAgSjiECABiZWTZ641N31bwetHyn1tNPfjsD9qHAAMA0WLZH6prfqjm9R6J7Xp9Xz77g/YhwAAAeGWtF/ZyzzB0ZggwABAtigpyVw3vcf9D/GxKLcWvTXuB/xMAIFY0RQ12V/3Nvx+fnTbaPsB++OGHYcOGmd+ZAu3BVYgAAHaksrJyyZIl+fn5QhciAggwAAA7wr0KsrW1VehCRAABBgAAomS1g7kmk2nnzp1HjhxRKBRTpkyZOHEiIUSr1WZkZJhMpqSkpLCwMG5Ji40AAE4lecqzhXcsX45IU9Q7S5ZY/JFKyvznyFFb1iUmVguw/Px8hmF27txpNBqXLl06dOhQuVyemZmZnp5O0/SiRYv8/f01Gk19fX3bRmvVAAAgFkaW9XdTPN2nV9dXOXO79kJdg+1KEh2rBVhYWJh5OCWRSFxdXbVabWxsrFKpJITExMQUFRWFh4dbbLRWDXAvlmV/+ukna91x8pCMRmNJSUlOTg7/Xbu4uNA0bX4tOiEkNDS0V69u/NYAsBE/N/lU30e6vrzOaOw4wIxGY2pq6ubNm9Vq9d///vc5c+Y8dI12zcrXg+7Zs+eLL74IDw9XqVQ3b94cOHAg196nT5/CwkJCiMVGzo4dOw4ePMhNb9y4sUcPx3xcC/deOB7GnWVlZWlpabbupetOnjzJveNccDExMampqUJX4bAoiqIoip8jK23fsuionXbR0aNHpVJpZWWlwWCIjo6eNGmSn5+f0EXZkJUDLD4+PjY2dv369WfPnjWZTOb/0yzLcvc0WGzk+Pj4hIaGctMURRkMBuvWZidkMhkhhIdP19zcTAjxG/+hqt9wW/clIr/tn93S0uKo3y57wDCMRCLhZw/b5wvlBfTMM88888wzhBCWZSUSiZubm9AV2ZbVAmzHjh1RUVF+fn4ymWzcuHGXL1/u27dvRUVFUFAQIaSsrMzX15cQYrGREx0dbX49WlVVVUODYx7qdXd3Z1mWh0/HHTSTSF0lUoWt+xITStLa2uqo3y57IJfLaZrmZw8LEmAmk8k622HZOwZDUTvXcVhU2dzSlQ/8/vvvv/POO/Hx8T179nzg8kShSwHW2NjY0NDg4eHh4uLS3jKPP/54dnZ2UlKSyWTKzs6eNm1az549U1NTw8PDuZYVK1YQQoKCgto2AgA4m7Lmllq94extbbfWoimq02VSU1Pnz58/c+bM7OzsmJiYBy1QBDoJsJaWlvj4+P3793OzCQkJH3/8MXcQ7D7BwcHFxcXTp09XqVTTpk0LCAjglk9MTGQYJjk5mXvupIeHR9tGAABn84jc9U9Kt9kBvp0v+r/2l1Uc6/DdMYsXL/7LX/4yePBguVz+t7/9LS8vz6kDLC0tzc/Pr66uTqlU1tTUvP322+++++7KlSvbLklR1NSpU6dOnXpv4xNPPPHZZ5/dt6TFRgAApyIhRC1lHlMru77KD9U1VIcjsPHjx69fv/6jjz4yGo0ZGRn/+Mc/HrpMu9ZJgH388cfl5eXckcMePXpkZGR4eXlZDDAAABBWVFRUbm5uz549e/bsmZaW9vjjjwtdkW11EmADBgy4N/AZhsF9xwAA9omiqHfffffdd98VuhCedBJgn3zyyZIlS9577z2FQtHa2vrhhx9mZGTwUxkAgGO7pmv617WbXV++oLbOdsWIUScBFhkZqdPp1q5dK5VK297YgZswAAAejFRCldTrtpZe79ZaKqnURvWIUScBdu3aNX7qAABwKulZ/89i+61bt1566aUVK1aMGDGC55JEp5MA8/T05KcOAACAbun8oV7cAx1Ylj116tSFCxdsXxIAgPNiGIYQIsWhwi7oZAR29uzZ0aNH6/X6jRs3ZmZmGgyGlStXvvDCC/wUBwDQse+rble36PnscVaLwaYPGu/Vq9eqVavMD4aFDnQSYAsXLuRGXRs2bDh16pSrq2tUVBQCDADsQeTYsefPnSvjt1OD7Z9GP2zYMFt34Rg6CbC8vDx/f/+GhoaqqqrevXsTQoqKingpDACgE3+dMUPoEkBInfwpERQUVFtbe/r06bi4OELItWvXuAfJAwCAjfzyyy/Weua9Y+skwP75z3/6+flNmDBh7ty58+fPDwkJWbNmDT+VAQA4od9//33BggX5+flCFyICnRxCjI6OvnLlisFgeOSRRyIiIlJTUx3+BTMAAAJqbW0lvLzz1gFYDrDGxkbuVZ6NjY0KhYKbGDdu3L0/AgAAEJDlANNoNHq9npvAE6QAAKwubPaTbjfa+V3qShYtS7H4E6OcOp31PzYsS1QsB1h9ff19EwAAYEWSFqJ3p2r+3I2L8lVXTAqebxqwb5YDjHsB2L0TAABgXU29ya2o7txVZmIVZTgA9gfLATZ69GjuRKJFP/30k83qAQCAh7Vt27aqqqrFixcLXYhtWQ6wLVu2cCe6zpw5s3bt2nXr1vn5+V25cmXJkiWrV6/mt0IAAOiG0tLStLS0119/XehCbM5ygA0aNIibWLBgwXfffcc9gyMwMHDYsGEzZsx46qmn+CsQAMAhsYRuJvJb3TgkyDSwVGfLGAyGefPm7dix48yZMw9TnSh0ch/YqVOn7n2jikajOXLkiI1LAgBwfK63CdPIupe0e7LGIrazU2YLFizYtGlTVVXVg1cmHp0EWERExL59+7jnSBFCvv32W36GXw78KgGKoggvH5B7KQO0JZFIHPgLJjiapimKcuA93MH1Ad3SrCGm3uTWU3TXV+mZZ9IUdTRiO3bsWFhYmK+vLwKMEEI2b9785z//OT09ffjw4Xl5eWfOnCkuLuajLMf95UtRFEVRPHxAB96HD4mf/e+0JBIJceivn7UCjEhIq5JqGNCdy+hLWdLhMcQ9e/Zs2bIlMTHRaDSaTKZff/11+/btD1unHevkS+br61teXn78+HGtVjt8+PADBw6oVCoeympqauKhF0HIZDKWZXn4gM3NzbbuQqSMRqMDf8HsgVQqxR4WxEcfffTRRx8RQvLz8w8ePJiamip0RbbV+V9JLi4u48ePHz9+PA/VAADAw6NpWmL795YJzmGH+QAAds61ivT6oRuvTWn30VNthISEhISEPFBRYoIAAwAQhqKM9d1v7NYqRnmnF9I7EQQYAIAAzuz4zmL7rVu3pk+f/sEHH4wYMYLnkkQHAQYAIADujpr22rnLlfmtSHwc/ywfAICI0DRt/i90DAEGAGBHvLy8li1bNmTIEKELEQEcQgQAsC9jxowRugRxwAgMAABECQEGAGBfiouLTaZu3B/mtBBgAAB2pKqqas6cOefOnRO6EBFAgAEA2BGDwUAI0ev1QhciAggwAAAQJVyFCAAggGcT/tFUafntVFKF57vL11r8Ee2iOpTlyG9I6RYEGACAAFqbamkXlXpAZNdXabyV33y71GYViQ8CDABAGC49A72Hz+n68hU/b0GA3QvnwAAAHEd4eLjsf1VUVAhdjm1hBAYA4DjkcrnzXMGIAAMAEADLmkwGXcudG11fxdh8p+MFGhoaqqurBw8efOfOnbVr18bHxz9cjfYOAQYAIAB93X+bKgsvXcvt1lqUpKOn1FdUVPTs2XP//v16vX7s2LGDBg0aPHjww5Vp1xBgAAACkKkekfTw9xoyo+ur1P56uO7qyQ4WCAgIyMnJIYTI5fJly5YdOHAAAdZV58+f37RpU0NDQ0xMTHx8PEVRWq02IyPDZDIlJSWFhYVxi1lsBABwKpSEYRSeKt9RXV9FV1lEqK5eedfa2urh4fFApYmG1QKsvr7+k08+WbNmjaur65o1awoKCvz9/TMzM9PT02maXrRokb+/v0ajqa+vb9torRoAAJzZV199VVxcvHTp0ubm5uXLl2dlZQldkW1Z7TL6q1evTpo0SaVSSaXSZ5555uLFi1qtNjY2VqlUyuXymJiYoqIiQojFRgAAeHjPPfdcY2OjRqN57LHHUlNTfX19ha7Itqw2AgsODg4ODiaEsCx75MiR55577ty5cwMHDuR+2qdPn8LCQkLIzZs32zZyioqKSkvv3qM3cuRIV1dXa9VmVyQSCcuyPHw6FxcXW3chUjRNO+q3yx4wDENRlAPv4ZaWFmttylB38/bF/V1fvun3ix0vQNP06tWrV69e/XB1iYaVL+K4ceNGRkZGTExMYGDgL7/8IpHcHeGxLEvTNCHEZDK1beQcPnx4165d5mmlUmnd2uwKD59OoVDYuguRYhjGsb9d9sCB9zD3tHir0FUW6Sq7dxSKdlFbq3cHYM0A++qrryorK9PS0rhfnX379q2oqAgKCiKElJWVcYNZi42cN954IykpiZtubGysrq62Ym32Q61WsyxbX19v645qa2tt3YVItbS0OOq3yx7I5XK5XH779m2hC7EVlmWtsp2sz1Zb3FR5eXlCQsKyZcuGDRtmlY4cmNUCrLS0tLa2ds6cP57rFRQUlJqaGh4ebjKZsrOzV6xY0V4jh3v2CTet0+ms9S2xTzx8OsfegQ8JO8d2uH2LPdyp9g7yc+0ymcyBD8Nai9UCTKvVHjhw4ODBg9zsyy+/HBcXl5CQkJiYyDBMcnKySqUihHh4eLRtBAAADneSxXyqBTpgtQB79tlnn3322fsan3jiic8++6wrjQAAQAjx8vJasmRJaGio0IWIAJ7EAQBgRyiKio6OFroKccAoFQAARAkjMAAAXuHcv7VgBAYAAKKEAAMAAFFCgAEAgCghwAAAQJQQYAAAIEoIMAAAECUEGAAAiBICDAAARAkBBgAAooQAA3BAra2tJpNJ6CoAbAsBBuCA5syZk5mZKXQVALaFAAMAAFFCgAEAgCjhafQAVvP111+XlZUJXQUhhFRXVxcWFm7YsIH/rhmGYRimubnZ3BIWFjZ69Gj+KwGHhwADsA6WZbdu3WpUSVg3WuhaCOtmqmm5WfrLLaELIXSt8fJvpQgwsAUEGIA13Yyifh8pdBGE2M/ZgQFfEqLH9ZBgE/byLQcAAOgWBBgAAIgSAgwAAETJTs+BqVQqiqKErsImaJomhKjValt3dOfOHVt3IVJSqdQW+59lWatv0zHQNM3DF543DQ0NQpcAd9lpgNXX1wtdgq24u7uzLFtXV2frjrh/ZgZdlb7uv7buS0RMrXqDwWCL/Y8Aa4/RaOThCw9OyE4DDKzlv/+zTOgS7AxFE+IndBEAYAU4BwYAAKKEEZiDk/caxMg9hK7CjjRVFgpdAgBYBwLMwXkPT1L1s4sba+3ElaxXhC4BAKwDhxABAECUEGAAACBKCDAAABAlnAMDsCbVZZPEgBvC/uBaybLuQhcBDgoBBmBNmmJWU4wA+z+MKjyNHmwChxABAECUMAIDsKbboZL6AMd8jOeD8TxjoiX4QxlsAgEGYE0NvlTVE/h9/QfVZZbSC10EOCj8SwMAAFFCgAEAgCjhEKLDkkgkhJCrB5MldnAGgmUJIaw9vOPN2GqQhPgIXQUAWAECzGF5e3vPnz/fTt6stm3btqFDh4aEhPDftYuLi0QiaWpqMrcMHz6c/zIAwOoQYA6Loqhx48YJXcVdO3bsCA4OjouL479rpVIplUpramr47xoAbEr4g0sAAAAPAAEGAACihAADAABRQoABAIAoIcAAAECUrBlgLMtWVFQsXLjQ3KLVamfPnj1r1qy8vLyOGwEAALrFmpfRT58+vaGhoV+/ftxsfX19ZmZmeno6TdOLFi3y9/fXaDQWG61YAwAAOAlrjsD+/e9/79692zyr1WpjY2OVSqVcLo+JiSkqKmqvEQAAoLusfCPzvc8Kunnz5sCBA7npPn36FBYWttfI2bRpU1ZWFje9a9eunj17Wrc2O8Htoh49eghdCK8oilIoFIJ8aoqiKIrioWuWxXssLWMYxpG+8Hfu3BG6BLjLhk/iMJlM5qfwsSxL03R7jZzQ0FDzLEVRzc3NtqtNQC4uLoSQlpYWoQvhW2trqyD/T2UymUQi4aFrBFh7TCaTI/1zNpnwgml7YcMA69u3b0VFRVBQECGkrKzM19e3vUbOqFGjRo0axU1XVVXpdDrb1SYgqVTKsqyjfrr2sCyr1+sF+dQSiUQqlfLQNQKsPSaTydm+8MAPG15GHxQUtHfvXr1e39zcnJ2dPWjQoPYaweHNmDEjODhY6CoAwKHYcATm4eGRkJCQmJjIMExycrJKpWqvERyeII/xBQDHZuUAc3V13bhxo3n2iSee+Oyzz+5bxmIjAABAt+BJHAAAIEoIMAAAECUEGAAAiBICDAAARAkBBgAAomTDy+gBnJD6Cisx4kkNf3CtZImH0EWAg0KAAViNT18f6kKZ5oLwj+RgWXLPc0kF5jvYt/OFALoPAQZgHRRFbdu6Tegq7nr11VeDgoLmzZvHf9dyuVyhUFRXV/PfNTgbnAMDAABRQoABAIAo4RAigAN6+umnvby8hK4CwLYQYAAOaMqUKUKXAGBzOIQIAACihAADAABRQoABAIAoIcAAAECUEGAAACBKCDAAABAlBBgAAIgSAgwAAEQJAQYAAKKEAOPb7t27//Of/whdhRM5evTo9u3bha7CiZw9ezY9PV3oKsAp2OmjpDw9PYUuwVa+//57uVz+4osvCl2IsygsLDx37lxiYqLQhTiLGzdu7N27d8GCBUIXAo4PIzAAABAlBBgAAIgSxbLCv/7cqdy5c4eiKLVaLXQhzqKhocFgMGg0GqELcRY6nU6n0znwWQCwHwgwAAAQJRxCBAAAUbLTqxAdkslk2rlz55EjRxQKxZQpUyZOnCh0Rc4iJyenrq4uLi5O6EIc3+LFi0tKSrjpTz/91MPDQ9h6wLEhwPiTn5/PMMzOnTuNRuPSpUuHDh2Kl77zoLy8fNeuXRMmTBC6EKcgk8lwmyPwBocQ+RMWFjZ9+nSapqcljNgAAAaiSURBVGmalkgkrq6uQlfk+IxG4+bNm998802hC3EKzc3N9fX1c+fOnTlzZm5urtDlgONDgPFtz549U6ZM0Wg0KpVK6Foc37Zt25KSkpRKpdCFOIXa2lqVSpWenp6ZmZmVlXXt2jWhKwIHhwDjW3x8/Ndff01R1NmzZ4WuxcFptdpHH320V69eQhfiLLy9vZcvXy6TyRQKxUsvvYRvONgazoHxZ8eOHVFRUX5+fjKZbNy4cZcvXx42bJjQRTmy3NzcI0eOZGRkmEwmlmXLysrmzZsndFHOwmg0urm5CV0FODjcB8afgoKCkydPJiUlmUymVatWTZs2LSAgQOiinEJpaenPP/8cHx8vdCEO7vTp09evX586daper09JSUlJScHwF2wKIzD+BAcHFxcXT58+XaVSIb34JJFIJBIcLbe5kSNH/vrrr9OmTXNzc5s1axbSC2wNIzAAABAl/FkKAACihAADAABRQoABAIAoIcAAAECUEGAAACBKCDAQgFarHThwYFpaGm89GgyGSZMm2e6a29LS0vXr19to4wBgEQIMBLBy5cq5c+c+WIBFRUX9+OOP3V1r3bp1ixYtoijqAXrsCn9//xMnTlRUVNho+wDQFgIMBFBfXx8YGPhg6xoMhu4OpOrq6jZs2BAREfFgPXbRO++8g0dVAfAJAQZ8mzRpUnZ29oQJE7gRWElJSWxsrFqt9vPze/vtt/V6PbfY7du3X3nlFbVaHRAQsGLFCpPJRAiJioo6ffp0eHj41q1bCSE1NTUzZ87UaDQBAQEbN240Go2EEKPRKJPJjh8/PmTIkL179xJCdu/ePXv2bPPwq7KyMi4uTqlUxsTE7NmzJyoqimtvampauHBhr169/Pz81q5dy22tvQrb9hIaGrpv3766ujr+diWAk2MBeDdx4sRvv/2Wm/by8jpx4oTRaGxpaUlISMjMzGRZVq/X9+nT58svvzQajY2NjU8//fSXX37JLT9q1KhTp05xy/j4+HzxxRetra06nW7WrFkJCQksy7a2thJCXnrppYaGBm6VyZMnHzlyhJtuaWnx9PQ8dOiQ0WgsLy8PCgoaPXo0y7ImkyksLGz9+vV6vV6n0yUmJr7++usdVNi2F5ZlIyIicnJybL//AIBlWRYBBgKYPHnysWPHzLMGg6G8vPz8+fMTJ05cvHgxy7I5OTkDBw60uO7o0aO///57lmWPHj06ZMgQc3t1dTUhRKfTcdFy/fp184/UanVxcTE3/d1330VERJh/dOjQIS7Azp075+3tzT23nmXZ33//nRDS2traXoVte2FZdt68eenp6Q+6VwCge3AIEYTEsmxKSoq3t/dbb72Vk5Pj5eXFtV+6dGnkyJEdr3vp0qXIyEjzLPeC0MbGRm5WrVabu6irq5PL5dzs5cuXQ0NDzWv179+fmygtLS0vL3dxcZHJZDKZzNvbmxCi0+naq/C+Xjju7u44hAjAGzyNHoRUUFCwffv2W7duSaVSQsiHH37IDaT69u27a9cu82IpKSkDBgyYPXv2vev6+Pjs27fPPFteXk7TtIeHx31dUBSlUCh0Oh036+HhceXKFfNPzdO9e/cODAwsKSnhZi9cuBAZGalSqc6fP2+xQosaGhrMiQgAtoYRGAiJYRjunBPLskVFRatWrWppaSGEPPXUU3l5eSdPniSElJaWrlu3LjY2lluFpun6+npCSHR09OnTp48ePcqybEtLy5IlSxYuXMgwFv4mi4iIML/e/sknnzx8+DD3suCKiork5GSufejQoTqd7uDBg9yI7bXXXtuwYUMHFVqk1WpDQkKsuH8AoCMCHr4Ep3XvObC1a9dqNBofH58PPvigoKBArVZzKVJSUhIVFSWTySIiIs6cOWNe91//+pdMJtuyZQvLsqWlpZMnT3Z1dfX19V2zZg13yoo7O1VbW2teZdu2bWlpaebZ/Pz8yMhImUw2duzYLVu2mE+JVVdXJyUlKRQKHx+fzz//3Ly8xQrb9mIymRQKRXV1tQ12GABYgPeBgeOrq6sbNGjQ9evX277W8ptvvtm7d+/27dsfvpf8/Pzly5dnZWU9/KYAoCtwCBEcn1qtTk5Ozs3NJYRUVlbKZLIbN24QQm7fvr106dJp06ZZpZdly5ZlZGRYZVMA0BUIMHAKycnJ3AXuXl5e2dnZzz//PMMwY8aMSUlJiY6OfvjtX716NTg42MfH5+E3BQBdhEOIAAAgShiBAQCAKCHAAABAlBBgAAAgSggwAAAQJQQYAACIEgIMAABE6f8DlPypIuBP6kQAAAAASUVORK5CYII=" /><!-- --></p>
<p>We can see that the filter is indeed flipping the layer, but it is flipping it around the center of the image, not the center of the panel. In order to make the filter viewport aware we will use some of the provide viewport helpers:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>flip_image &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">horizontal =</span> <span class="ot">TRUE</span>) {</span>
<span id="cb9-2"><a href="#cb9-2"></a>  vp &lt;-<span class="st"> </span><span class="kw">get_viewport_area</span>(x)</span>
<span id="cb9-3"><a href="#cb9-3"></a>  dims &lt;-<span class="st"> </span><span class="kw">dim</span>(vp)</span>
<span id="cb9-4"><a href="#cb9-4"></a>  rows &lt;-<span class="st"> </span><span class="kw">seq_len</span>(dims[<span class="dv">1</span>])</span>
<span id="cb9-5"><a href="#cb9-5"></a>  cols &lt;-<span class="st"> </span><span class="kw">seq_len</span>(dims[<span class="dv">2</span>])</span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="cf">if</span> (horizontal) {</span>
<span id="cb9-7"><a href="#cb9-7"></a>    cols &lt;-<span class="st"> </span><span class="kw">rev</span>(cols)</span>
<span id="cb9-8"><a href="#cb9-8"></a>  } <span class="cf">else</span> {</span>
<span id="cb9-9"><a href="#cb9-9"></a>    rows &lt;-<span class="st"> </span><span class="kw">rev</span>(rows)</span>
<span id="cb9-10"><a href="#cb9-10"></a>  }</span>
<span id="cb9-11"><a href="#cb9-11"></a>  vp &lt;-<span class="st"> </span><span class="kw">index_raster</span>(vp, cols, rows)</span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="kw">set_viewport_area</span>(x, vp)</span>
<span id="cb9-13"><a href="#cb9-13"></a>}</span>
<span id="cb9-14"><a href="#cb9-14"></a></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">as.factor</span>(gear))),</span>
<span id="cb9-18"><a href="#cb9-18"></a>    <span class="dt">filter =</span> flip_image</span>
<span id="cb9-19"><a href="#cb9-19"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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9xIeHr5r166qqirXHUoAD0cBXG706NHffPMNN+3v73/06FGbzVZfXz916tTMzExKqcVi6dSp0xdffGGz2Wpqap555pkvvviCW37IkCHHjx/nlgkMDPz8888bGhrMZvP06dOnTp1KKW1oaCCETJo0yWQycauMHTv2wIED3HR9fb2fn9++fftsNltJSUlYWNjQoUMppSzLRkRErFq1ymKxmM3mxMTEV199tZkKG++FUhoVFZWTk+P84wcAlFKKAAMBjB079vDhw/ZZq9VaUlJy5syZ0aNHz58/n1Kak5PTo0cPh+sOHTr022+/pZQePHiwb9++9vaKigpCiNls5qLl+vXr9i/p9fpz585x04cOHYqKirJ/ad++fVyAnT59OiAggBu3nlL622+/EUIaGhqaqrDxXiils2fPTk9Pf9CjAgBtg1OIICRKaUpKSkBAwBtvvJGTk+Pv78+1X7x4cfDgwc2ve/HixeHDh9tnuReE1tTUcLN6vd6+i6qqKrVazc1evnw5PDzcvlbXrl25iaKiopKSEi8vL5VKpVKpAgICCCFms7mpCv+wF067du1wChHAZTAaPQipoKBg06ZNt27dUiqVhJAPP/yQ60h17tx527Zt9sVSUlK6des2Y8aM+9cNDAzctWuXfbakpEQul/v6+v5hFwzDaDQas9nMzfr6+l65csX+Vft0x44dQ0NDL126xM2eP39++PDhOp3uzJkzDit0yGQy2RMRAJwNPTAQkkKh4K45UUoLCwuXLVtWX19PCHn66afz8vKOHTtGCCkqKlq5cmVcXBy3ilwur66uJoTExMScOHHi4MGDlNL6+voFCxbMnTtXoXDwN1lUVJT99fZPPvnk/v37uZcFl5aWJicnc+39+/c3m8179+7lemyvvPLK6tWrm6nQIaPR2KdPHx6PDwA0R8DTl+Cx7r8GtmLFCoPBEBgY+P777xcUFOj1ei5FLl26FB0drVKpoqKiTp48aV/3X//6l0qlWr9+PaW0qKho7Nix3t7eQUFBy5cv5y5ZcVenKisr7ats3LgxLS3NPpufnz98+HCVSvXUU0+tX7/efkmsoqIiKSlJo9EEBgZ+9tln9uUdVth4LyzLajSaiooKJxwwAHAA7wMD6auqqurZs+f169cbv9by66+/3rlz56ZNmx5+L/n5+YsXL87Kynr4TQFAa+AUIkifXq9PTk7Ozc0lhJSVlalUqhs3bhBCbt++vXDhwokTJ/Kyl0WLFmVkZPCyKQBoDQQYeITk5GTuBnd/f//s7Oznn39eoVAMGzYsJSUlJibm4bd/9erV3r17BwYGPvymAKCVcAoRAABECT0wAAAQJQQYAACIEgIMAABECQEGAACihAADAABRQoABAIAo/T+R6gXx4bff8wAAAABJRU5ErkJggg==" /><!-- --></p>
</div>
<div id="using-magick" class="section level2">
<h2>Using magick</h2>
<p>While some effects are pretty easy to achieve just be manipulating the raster data structure, most filters will require non-trivial modifications to the colours of the pixels. In these situations it is often beneficial to use the magick package to build on top of the vast library of image manipulation functions from the ImageMagick library. To show of this we create a filter that distorts the content towards the center (imploding it)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>implode &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">factor =</span> <span class="fl">0.5</span>) {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  vp &lt;-<span class="st"> </span>magick<span class="op">::</span><span class="kw">image_read</span>(<span class="kw">get_viewport_area</span>(x))</span>
<span id="cb10-3"><a href="#cb10-3"></a>  vp &lt;-<span class="st"> </span>magick<span class="op">::</span><span class="kw">image_implode</span>(vp, factor)</span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="kw">set_viewport_area</span>(x, <span class="kw">as.raster</span>(vp, <span class="dt">native =</span> <span class="ot">TRUE</span>))</span>
<span id="cb10-5"><a href="#cb10-5"></a>}</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(gear), <span class="dt">y =</span> disp)) <span class="op">+</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="st">  </span><span class="kw">with_custom</span>(</span>
<span id="cb10-9"><a href="#cb10-9"></a>    <span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> <span class="kw">as.factor</span>(gear))),</span>
<span id="cb10-10"><a href="#cb10-10"></a>    <span class="dt">filter =</span> implode</span>
<span id="cb10-11"><a href="#cb10-11"></a>  )</span></code></pre></div>
<p><img src="data:image/png;base64,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dpndtZwIcX1Rr9drdyHlQlz6tYTf8HA4bG8BDQ0NX//616+66qq77rorDy9nGMaSJUvWrFmT3c/kTPv371+zZs2PfvSj4T6xQAMsFAplfZ0Gs2AT4gmYXuH5MBB6/dVXF1xwgd21nAi32y3LcjAYtLuQciEuAARveO7cf//9N9xwww033DDcJy5cuPC+++4799xzh/Ws3/72t7fcckvu0gshNHHixHfeeeeqq64aMWLEsJ5YLpsQNU0zOYJNiCegVlVOdarhtlY4lANkMgyjt7fX7irKUSgUmjx58gk80TAMPswjsYPB4EMPPbRgwYITeLlh+elPf/rDH/5wuM8qmwBzOAzEIcBOzIwK72iJ/O+bb9pdCCgUmzZtuv/++1966SW7CylWe/bsWbx4sdfrHT9+/H/8x3/oui7633zzzXPPPdflcs2fP/+DDz44+omXXXbZmjVrLrnkErH9cLD19PT0/Nu//ZvX6500adJ9993HGFu4cOHGjRvnz5//xz/+ESHU29t77bXX+ny+SZMmPfLII5ZlIYQsy1IU5e233z7rrLNeeOEFhNCzzz57/fXXp4dfnZ2dV155pdvtXrRo0XPPPbcwNU1PLBa7+eaba2trx48f/+CDD4q1HaO8o19o1qxZL7300nAH7uUSYA5NM+EoxBN1usc1VpG2fvghbBcCCKFQKNTc3NzY2Dhu3Di7aylWCxYs+PGPfxwIBPbu3dvZ2fnEE08ghLq7uy+//PJXX301HA7/13/91wUXXBCJRI544iuvvHLppZe+8cYbIsAGXI9hGNOnT7/00ksDgUBDQ8O77777/PPPv/XWW+eff/4777xz3XXXGYYxY8aML33pS36/f/v27Vu3bl2+fLlYv2EYTzzxxIYNG6688kqE0Jo1a8455xxxl67r06ZNW758eTAYfOKJJ37+85+LY7s45wsWLBg3blxra+vu3bs/++yz9FhqwPIGfCFCyDnnnPPRRx8N620smwBzOk3OdTgQ8USdWeEdLZF1a9faXQiwX3d3d0dHRzgcnjJlit21FKuOjo7zzz+/q6tr9+7dnZ2dzc3NCCHDMGKx2AcffBCJRCZOnKjrusvlOvq5hBBK6THW884771RUVHzjG98ghDidztdee+0b3/gGQghjLJ749ttv19XVLVu2jFLqcDgeeOCBP//5z7FYTKzz/vvvT7/uO++8M3bsWNHesGHDGWec8c///M+EkBEjRvzmN78R/du2bWtpafnBD34gy7LD4fjlL3/56KOPikHYgOWlZb4QQuiss85qaGgY1ttYNgGmaQZHEGAn7MxK72iJrnvjDbsLAfbz+/1+v3/KlCmjR4+2u5aixDm/7bbb6uvr//3f/33dunV1dXWiv76+fuvWrS+99NIpp5wyefLkhx56iB3z82qw9Xz22WfnnXfeMZ742WefXXjhhembHo8HIZQe7aWPIOWcB4PB9EUBGxsbZ82alX7WKaecIhr79+9vb29XVVVRFEVR6uvrEULRaHSw8tKOOFS1oqJiuNt4CvQoxKwTIzADjuM4URolMyrc+7uD77z99j9l/OmDcmOapt/v7+zsTG9ZAsO1bdu2J598sq2tTZZlhNCvf/3r7u5uhNCaNWvWrVv3+OOPP/744x0dHV/84hdnzpx54eD/3AZbz5gxY5555pn0w2677bYJEyZcf/316Z7Ro0dn7r9sb2+nlFZWVh6xfoyx0+mMRqPiZmVl5b59+9L3ptsjRoyYPHnynj17xM1du3ZdeOGFHo/n008/HbC8wYTD4XQoDlG5jMA0TdM0zeQsAbvBTtSsSu8Yiax97TW7CwF26u7uFgEG2w9PmCRJuq6LMcqOHTseeOCBRCKBEJo/f/7q1as///xzJCYPMoyampoTWM+Xv/zlzZs3v/vuuwih/fv3//a3v128eDFCiFIqzlC66KKLNm7c+MYbb3DOE4nE7bfffvPNNw946doFCxYcPHhQtL/4xS++/vrrmzZtQgh1dHTceOONon/u3LnRaPTVV18VI7bvfe97Dz300DHKG0xDQ8PMmTOH9U6WUYA5HA4YgZ2MGlWZ4nLEO9q2btlidy3ANt3d3Z2dnW63+/TTT7e7lmI1bdq0O++8c8KECWPHjn355ZffeuutJ5988rXXXvP5fC+//PLXv/51VVUvvPDCe+65Z/r06eIpV1xxxQMPPDDE9bhcrm3btt11112qqn77299+9913xea77373u//yL//yxz/+0e1279y58+GHH3Y6naeddtqsWbPuvffeAUtdunRp+sCKmpqazZs333LLLaqqLlu27NZbbyWEIIRkWd62bdsrr7zidrunTp163XXXiV1ug5U34Atxzt97773hBhge7mkB+eH3+7O+zh//+79PDPV+bdSIyZ4B9ouC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" /><!-- --></p>
<p>We see that <code>image_read()</code> works nicely with <code>nativeRaster</code> objects and that we can easily mix use of magick with the raster helpers provided by ggfx.</p>
</div>
<div id="wrapping-up" class="section level2">
<h2>Wrapping up</h2>
<p>This vignette has shown you how to create your own filters. If you end up creating filters that you feel are of general use and want to share them then please reach out and we can discuss if they should be part of ggfx proper.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
